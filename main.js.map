{"version":3,"file":"main.js","mappings":"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","sources":["./projects/pos/src/app/app-routing.module.ts","./projects/pos/src/app/app.component.ts","./projects/pos/src/app/app.component.html","./projects/pos/src/app/app.module.ts","./projects/pos/src/app/auth/auth.component.ts","./projects/pos/src/app/auth/auth.component.html","./projects/pos/src/app/auth/auth.guard.ts","./projects/pos/src/app/auth/auth.module.ts","./projects/pos/src/app/billing/address-book/address-book.component.ts","./projects/pos/src/app/billing/address-book/address-book.component.html","./projects/pos/src/app/billing/allowance/allowance.component.ts","./projects/pos/src/app/billing/allowance/allowance.component.html","./projects/pos/src/app/billing/ang/ang.component.ts","./projects/pos/src/app/billing/ang/ang.component.html","./projects/pos/src/app/billing/billing-routing.module.ts","./projects/pos/src/app/billing/billing.module.ts","./projects/pos/src/app/billing/custom-filter/charge-tax.pipe.ts","./projects/pos/src/app/billing/custom-filter/date-suffix.pipe.ts","./projects/pos/src/app/billing/custom-filter/item-modifier.pipe.ts","./projects/pos/src/app/billing/custom-filter/menu-sub-header-item.pipe.ts","./projects/pos/src/app/billing/custom-filter/menu-sub-header.pipe.ts","./projects/pos/src/app/billing/discount/discount.component.ts","./projects/pos/src/app/billing/discount/discount.component.html","./projects/pos/src/app/billing/kot/kot.component.ts","./projects/pos/src/app/billing/kot/kot.component.html","./projects/pos/src/app/billing/place-order/place-order.component.ts","./projects/pos/src/app/billing/place-order/place-order.component.html","./projects/pos/src/app/billing/qsr/qsr.component.ts","./projects/pos/src/app/billing/qsr/qsr.component.html","./projects/pos/src/app/billing/recall-check/recall-check.component.ts","./projects/pos/src/app/billing/recall-check/recall-check.component.html","./projects/pos/src/app/billing/room-post/room-post.component.ts","./projects/pos/src/app/billing/room-post/room-post.component.html","./projects/pos/src/app/billing/sale/sale.component.ts","./projects/pos/src/app/billing/sale/sale.component.html","./projects/pos/src/app/billing/settlement/settlement.component.ts","./projects/pos/src/app/billing/settlement/settlement.component.html","./projects/pos/src/app/billing/table-kot/table-kot.component.ts","./projects/pos/src/app/billing/table-kot/table-kot.component.html","./projects/pos/src/app/billing/view-bill/view-bill.component.ts","./projects/pos/src/app/billing/view-bill/view-bill.component.html","./projects/pos/src/app/landing/landing.component.ts","./projects/pos/src/app/landing/landing.component.html","./projects/pos/src/app/models/account-address.model.ts","./projects/pos/src/app/models/account-contact-number.model.ts","./projects/pos/src/app/models/account.model.ts","./projects/pos/src/app/models/address-type.model.ts","./projects/pos/src/app/models/alert.ts","./projects/pos/src/app/models/ang.model.ts","./projects/pos/src/app/models/charge.model.ts","./projects/pos/src/app/models/city.model.ts","./projects/pos/src/app/models/outlet-billing.model.ts","./projects/pos/src/app/models/outlet-setting.model.ts","./projects/pos/src/app/models/payment.model.ts","./projects/pos/src/app/models/pointer.model.ts","./projects/pos/src/app/models/pos-check-charge-discount.model.ts","./projects/pos/src/app/models/pos-check-charge-tax.model.ts","./projects/pos/src/app/models/pos-check-charge.model.ts","./projects/pos/src/app/models/pos-check-delivery.model.ts","./projects/pos/src/app/models/pos-check-detail-modifier.model.ts","./projects/pos/src/app/models/pos-check-detail.model.ts","./projects/pos/src/app/models/pos-check-settlement.model.ts","./projects/pos/src/app/models/pos-check.model.ts","./projects/pos/src/app/models/pos-discount.model.ts","./projects/pos/src/app/models/pos-item-menu.model.ts","./projects/pos/src/app/models/pos-item-modifier.model.ts","./projects/pos/src/app/models/pos-item.model.ts","./projects/pos/src/app/models/pos-menu-header.model.ts","./projects/pos/src/app/models/pos-menu-restaurant.model.ts","./projects/pos/src/app/models/pos-menu-subheader.model.ts","./projects/pos/src/app/models/pos-modifier.model.ts","./projects/pos/src/app/models/pos-order-status.model.ts","./projects/pos/src/app/models/pos-payment-restaurant.model.ts","./projects/pos/src/app/models/pos-restaurant.model.ts","./projects/pos/src/app/models/room.model.ts","./projects/pos/src/app/models/shift.model.model.ts","./projects/pos/src/app/models/table-layout.model.ts","./projects/pos/src/app/models/tax.model.ts","./projects/pos/src/app/models/user-outlet.model.ts","./projects/pos/src/app/models/user.model.ts","./projects/pos/src/app/models/void-reason.model.ts","./projects/pos/src/app/outlet/outlet.component.ts","./projects/pos/src/app/outlet/outlet.component.html","./projects/pos/src/app/outlet/outlet.module.ts","./projects/pos/src/app/services/account.service.ts","./projects/pos/src/app/services/action-cable.service.ts","./projects/pos/src/app/services/alert.service.ts","./projects/pos/src/app/services/ang.service.ts","./projects/pos/src/app/services/auth-interceptor.service.ts","./projects/pos/src/app/services/auth.service.ts","./projects/pos/src/app/services/charge.service.ts","./projects/pos/src/app/services/city.service.ts","./projects/pos/src/app/services/common.service.ts","./projects/pos/src/app/services/config.service.ts","./projects/pos/src/app/services/date-formatter.service.ts","./projects/pos/src/app/services/debit-cards.service.ts","./projects/pos/src/app/services/email.service.ts","./projects/pos/src/app/services/encryption.service.ts","./projects/pos/src/app/services/error-interceptor.service.ts","./projects/pos/src/app/services/kitchen.service.ts","./projects/pos/src/app/services/kot.service.ts","./projects/pos/src/app/services/loader-interceptor.service.ts","./projects/pos/src/app/services/loader.service.ts","./projects/pos/src/app/services/member-search.service.ts","./projects/pos/src/app/services/ngrok.interceptor.ts","./projects/pos/src/app/services/outlet.service.ts","./projects/pos/src/app/services/pointer.service.ts","./projects/pos/src/app/services/pos-check.service.ts","./projects/pos/src/app/services/pos-discount.service.ts","./projects/pos/src/app/services/pos-item-menu.service.ts","./projects/pos/src/app/services/recall-check.service.ts","./projects/pos/src/app/services/room.service.ts","./projects/pos/src/app/services/sale.service.ts","./projects/pos/src/app/services/shift.service.ts","./projects/pos/src/app/services/system-settings.service.ts","./projects/pos/src/app/services/table-layout.service.ts","./projects/pos/src/app/services/void-reason.service.ts","./projects/pos/src/app/shared/alert/alert.component.ts","./projects/pos/src/app/shared/alert/alert.component.html","./projects/pos/src/app/shared/alert/alert.module.ts","./projects/pos/src/app/shared/business-date/business-date.component.ts","./projects/pos/src/app/shared/business-date/business-date.component.html","./projects/pos/src/app/shared/change-password/change-password.component.html","./projects/pos/src/app/shared/change-password/change-password.component.ts","./projects/pos/src/app/shared/digital-keyboard/digital-keyboard.component.ts","./projects/pos/src/app/shared/digital-keyboard/digital-keyboard.component.html","./projects/pos/src/app/shared/error/error.component.html","./projects/pos/src/app/shared/error/error.component.ts","./projects/pos/src/app/shared/header/header.component.ts","./projects/pos/src/app/shared/header/header.component.html","./projects/pos/src/app/shared/loader/loader.component.ts","./projects/pos/src/app/shared/loader/loader.component.html","./projects/pos/src/app/shared/lock-screen/lock-screen.component.html","./projects/pos/src/app/shared/lock-screen/lock-screen.component.ts","./projects/pos/src/app/shared/logout/logout.component.ts","./projects/pos/src/app/shared/logout/logout.component.html","./projects/pos/src/app/shared/qwerty-keyboard/qwerty-keyboard.component.ts","./projects/pos/src/app/shared/qwerty-keyboard/qwerty-keyboard.component.html","./projects/pos/src/app/shared/shared.module.ts","./projects/pos/src/app/shift/close-shift/close-shift.component.ts","./projects/pos/src/app/shift/close-shift/close-shift.component.html","./projects/pos/src/app/table-layout/section-table.pipe.ts","./projects/pos/src/app/table-layout/table-layout.component.ts","./projects/pos/src/app/table-layout/table-layout.component.html","./projects/pos/src/app/table-layout/table-layout.module.ts","./projects/pos/src/environments/environment.ts","./projects/pos/src/main.ts","ignored|D:\\work\\excellere\\innseries\\Pos\\node_modules\\crypto-js|crypto"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthComponent } from './auth/auth.component';\r\nimport { AuthGuard } from './auth/auth.guard';\r\nimport { LandingComponent } from './landing/landing.component';\r\nimport { CloseShiftComponent } from './shift/close-shift/close-shift.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', redirectTo: '/auth', pathMatch: 'full' },\r\n  { path: 'auth', component: AuthComponent },\r\n  {\r\n    path: 'landing',\r\n    component: LandingComponent,\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'outlet',\r\n    loadChildren: () => import('./outlet/outlet.module').then(m => m.OutletModule)\r\n  },\r\n  {\r\n    path: 'shift/:outlet_id',\r\n    loadChildren: () => import('./shift/shift.module').then(m => m.ShiftModule)\r\n  },\r\n  {\r\n    path: 'close_shift/:outlet_id',\r\n    component: CloseShiftComponent\r\n  },\r\n  {\r\n    path: 'table-layout/:outlet_id',\r\n    loadChildren: () => import('./table-layout/table-layout.module').then(m => m.TableLayoutModule)\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component, HostListener, OnInit } from '@angular/core';\r\nimport { LoaderComponent } from './shared/loader/loader.component';\r\nimport { Spinkit } from 'ng-http-loader';\r\nimport { TabManagementService } from './services/tab-management.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit {\r\n  title = 'InnTap';\r\n\r\n  options = {\r\n    autoClose: false,\r\n    keepAfterRouteChange: false\r\n  };\r\n\r\n  public loaderComponent = LoaderComponent;\r\n  public spinkit = Spinkit;\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  // constructor(private tabService: TabManagementService) {\r\n  //   // Register the tab when the component is initialized\r\n  //   this.tabService.registerTab();\r\n  // }\r\n\r\n  // // Listen for the 'beforeunload' event to handle tab close or refresh\r\n  // @HostListener('window:beforeunload', ['$event'])\r\n  // unloadHandler(event: Event): void {\r\n  //   // Deregister the tab when the window is about to unload (close or refresh)\r\n  //   this.tabService.deregisterTab();\r\n  // }\r\n\r\n  // // Handle component destruction, like during Angular routing\r\n  // ngOnDestroy(): void {\r\n  //   // Deregister the tab when the component is destroyed\r\n  //   this.tabService.deregisterTab();\r\n  // }\r\n}\r\n","<ng-http-loader [entryComponent]=\"loaderComponent\"></ng-http-loader>\r\n<router-outlet></router-outlet>","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA, APP_INITIALIZER } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\n\r\nimport { AuthModule } from './auth/auth.module';\r\nimport { AuthInterceptorService } from './services/auth-interceptor.service';\r\nimport { OutletModule } from './outlet/outlet.module';\r\nimport { SharedModule } from './shared/shared.module';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS, HttpClient } from '@angular/common/http';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TableLayoutModule } from './table-layout/table-layout.module';\r\nimport { BillingModule } from './billing/billing.module';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgHttpLoaderModule } from 'ng-http-loader';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\n\r\nimport { LandingComponent } from './landing/landing.component';\r\nimport { ErrorInterceptorService } from './services/error-interceptor.service';\r\nimport { LoaderInterceptorService } from './services/loader-interceptor.service';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ConfigService } from './services/config.service';\r\nimport { NgrokInterceptor } from './services/ngrok.interceptor';\r\n// AoT requires an exported function for factories\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}\r\n\r\nexport function loadConfig(configService: ConfigService) {\r\n  return () => configService.loadConfig();\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LandingComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    RouterModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule.withConfig({ warnOnNgModelWithFormControl: 'never' }),\r\n    AppRoutingModule,\r\n    AuthModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    OutletModule,\r\n    TableLayoutModule,\r\n    SharedModule,\r\n    BillingModule,\r\n    NgbModule,\r\n    NgHttpLoaderModule.forRoot(),\r\n    TranslateModule.forRoot({\r\n      defaultLanguage: 'English',\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    })\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n  providers: [\r\n    ConfigService,\r\n    {\r\n      provide: APP_INITIALIZER,\r\n      useFactory: loadConfig,\r\n      deps: [ConfigService],\r\n      multi: true\r\n    },\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: AuthInterceptorService,\r\n      multi: true\r\n    },\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: LoaderInterceptorService,\r\n      multi: true,\r\n    },\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: ErrorInterceptorService,\r\n      multi: true\r\n    },\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: NgrokInterceptor,\r\n      multi: true\r\n    }\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { User } from '../models/user.model';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { fromEvent, Subject } from 'rxjs';\r\nimport { first, takeUntil } from 'rxjs/operators';\r\nimport { AlertService } from '../services/alert.service';\r\ndeclare function enableNumericKeyboard(): any;\r\n\r\n@Component({\r\n  selector: 'app-auth',\r\n  templateUrl: './auth.component.html'\r\n})\r\nexport class AuthComponent implements OnInit {\r\n  showUsercodeButton = true;\r\n  showPasswordButton = false;\r\n  usercode: string = \"\";\r\n  password: string = \"\";\r\n  error: any[] = [];\r\n  userData: any;\r\n  newUserBtn: boolean = false;\r\n  private unsubscriber: Subject<void> = new Subject<void>();\r\n\r\n  constructor(private authService: AuthService,\r\n    private router: Router,\r\n    private alertService: AlertService,\r\n    public translate: TranslateService) { }\r\n\r\n  @ViewChild('authForm') form: NgForm;\r\n\r\n  ngOnInit(): void {\r\n    enableNumericKeyboard();\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    let language = localStorage.getItem(\"language\");\r\n    if (language) {\r\n      this.translate.setDefaultLang(language);\r\n    }\r\n\r\n    // localStorage.removeItem(\"chargeData\");\r\n    // localStorage.removeItem(\"itemMenu\");\r\n    // localStorage.removeItem(\"itemModifier\");\r\n    // localStorage.removeItem(\"outletSetting\");\r\n    // localStorage.removeItem(\"pointerData\");\r\n    // localStorage.removeItem(\"posRestaurant\");\r\n    // localStorage.removeItem(\"tableLayout\");\r\n    // localStorage.removeItem(\"userShiftData\");\r\n    // localStorage.removeItem(\"userData\");\r\n    // localStorage.removeItem(\"currencyData\");\r\n    // localStorage.removeItem(\"discountData\");\r\n    // localStorage.removeItem(\"voidReason\");\r\n    // localStorage.removeItem(\"orderStatusData\");\r\n\r\n    history.pushState(null, '');\r\n\r\n    fromEvent(window, 'popstate').pipe(\r\n      takeUntil(this.unsubscriber)\r\n    ).subscribe((_) => {\r\n      history.pushState(null, '');\r\n      this.error = [];\r\n      this.error.push(`You can't go back at this time. Please relogin to continue`);\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    let element: HTMLElement = document.getElementById(\"usercodeInput\") as HTMLElement;\r\n    element.click();\r\n  }\r\n\r\n  onUserCodeClick(): void {\r\n    if ((<HTMLInputElement>document.getElementById(\"usercodeInput\")).value != \"\") {\r\n      this.showUsercodeButton = false;\r\n      this.showPasswordButton = true;\r\n      this.usercode = (<HTMLInputElement>document.getElementById(\"usercodeInput\")).value;\r\n\r\n      (<HTMLInputElement>document.getElementById(\"usercodeInput\")).setAttribute(\"disabled\", \"disabled\");\r\n      (<HTMLInputElement>document.getElementById(\"passwordInput\")).removeAttribute(\"disabled\");\r\n      (<HTMLInputElement>document.getElementById(\"passwordInput\")).value = \"\";\r\n      (<HTMLInputElement>document.getElementById(\"usercodeInput\")).value = \"\";\r\n      let element: HTMLElement = document.getElementById(\"passwordInput\") as HTMLElement;\r\n      element.focus();\r\n    }\r\n    else {\r\n      (<HTMLInputElement>document.getElementById(\"usercodeInput\")).style.borderColor = \"red\";\r\n    }\r\n  }\r\n\r\n  onPasswordClick(): void {\r\n    if ((<HTMLInputElement>document.getElementById(\"passwordInput\")).value != \"\") {\r\n      this.password = (<HTMLInputElement>document.getElementById(\"passwordInput\")).value;\r\n      this.form.ngSubmit.emit();\r\n    } else {\r\n      (<HTMLInputElement>document.getElementById(\"passwordInput\")).style.borderColor = \"red\";\r\n    }\r\n  }\r\n\r\n  onSubmit(form: NgForm): void {\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    this.error = [];\r\n    if (!form.valid) {\r\n      this.newUserBtn = false;\r\n      return;\r\n    }\r\n    else if (this.userData && this.usercode != this.userData?.code) {\r\n      this.error.push(`Currently one user is logged in on this device with code ${this.userData?.code}.`);\r\n      this.newUserBtn = true;\r\n      this.showUsercodeButton = true;\r\n      (<HTMLInputElement>document.getElementById(\"usercodeInput\")).value = this.usercode;\r\n    }\r\n    else {\r\n      this.authService.validateLogin(this.usercode, this.password)\r\n        .pipe(first())\r\n        .subscribe({\r\n          next: (resData: any) => {\r\n            this.newUserBtn = false;\r\n            const user = this.authService.setUser(resData);\r\n            this.setUserData(user);\r\n          },\r\n          error: (error: any) => {\r\n            this.newUserBtn = false;\r\n            if (error.errors && error.errors.length > 0) {\r\n              this.error.push(error.errors[0]);\r\n            } else {\r\n              this.error.push(error);\r\n            }\r\n            this.showUsercodeButton = true;\r\n            (<HTMLInputElement>document.getElementById(\"usercodeInput\")).value = this.usercode;\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  handleReloginClick() {\r\n    this.error = [];\r\n    this.newUserBtn = false;\r\n    this.authService.validateLogin(this.usercode, this.password)\r\n      .pipe(first())\r\n      .subscribe({\r\n        next: (resData: any) => {\r\n          this.clearLocalStorageExceptUserData();\r\n          const user = this.authService.setUser(resData);\r\n          this.setUserData(user);\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.error.push(error.errors[0]);\r\n          } else {\r\n            this.error.push(error);\r\n          }\r\n          this.showUsercodeButton = true;\r\n          (<HTMLInputElement>document.getElementById(\"usercodeInput\")).value = this.usercode;\r\n        }\r\n      })\r\n  }\r\n\r\n\r\n  clearLocalStorageExceptUserData() {\r\n    const userData = localStorage.getItem('userData'); // Save userData\r\n    localStorage.clear(); // Clear everything\r\n    if (userData) {\r\n      localStorage.setItem('userData', JSON.stringify(userData)); // Restore userData\r\n    }\r\n  }\r\n\r\n  setUserData(user: User): void {\r\n    if (user.id) {\r\n      let userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n      if (userData) {\r\n        localStorage.setItem(\"previousUserData\", userData);\r\n      }\r\n      localStorage.setItem(\"userData\", JSON.stringify(user));\r\n\r\n      this.authService.getUserFunctionalRights(user.id).subscribe(\r\n        () => {\r\n          this.router.navigate(['/landing']);\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n  onUsercodeEnter(): void {\r\n    this.onUserCodeClick();\r\n  }\r\n\r\n  onPasswordEnter(): void {\r\n    this.onPasswordClick();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscriber.next();\r\n    this.unsubscriber.complete();\r\n  }\r\n}\r\n","<div class=\"wrapg_blk\">\r\n  <header>\r\n    <div class=\"logo_blk\">\r\n      <h1>{{ 'HEADER.TITLE' | translate }}</h1>\r\n    </div>\r\n  </header>\r\n  <main class=\"main_cnt_blk\">\r\n    <section class=\"login_blk_parnt\">\r\n      <div class=\"login_inr_contnr\">\r\n        <!-- SOF Error Message html -->\r\n        <!-- <div class=\"error_msg_parnt\" *ngIf=\"error && error.length > 0\">\r\n          <h5>Please correct the following errors and try again.</h5>\r\n          <ul>\r\n            <li *ngFor=\"let message of error\">\r\n              {{ message }}\r\n            </li>\r\n          </ul>\r\n        </div> -->\r\n\r\n        <div class=\"error_msg_parnt error_multiple\" *ngIf=\"error && error.length > 0\">\r\n          <div class=\"error_icn\">\r\n            <i class=\"bi bi-exclamation-triangle-fill\"></i>\r\n          </div>\r\n          <div class=\"error_cnt\">\r\n            <h5>Please correct the following errors and try again.</h5>\r\n            <ul>\r\n              <li *ngFor=\"let message of error\">\r\n                {{ message }}\r\n              </li>\r\n            </ul>\r\n            <ng-container *ngIf=\"newUserBtn\">\r\n              <button (click)=\"handleReloginClick()\" class=\"btn btn-primary\" style=\"cursor: pointer;\">Login as new\r\n                user</button>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n        <!-- EOF Error Message html -->\r\n        <div class=\"login_cnt_blk\">\r\n          <div class=\"login_outlet_icn select_out_blk blue_main_parnt\">\r\n            <a class=\"form-control select_out_icn\">\r\n              <span>{{ 'HEADER.LOGIN' | translate }}</span>\r\n            </a>\r\n          </div>\r\n          <div class=\"keypad_main_blk\">\r\n            <input type=\"number\" id=\"usercodeInput\"\r\n              [style]=\"showUsercodeButton ? 'display: inline-block;' : 'display: none;'\"\r\n              (keyup.enter)=\"onUsercodeEnter()\">\r\n\r\n            <input type=\"password\" id=\"passwordInput\" class=\"numericInput\" required minlength=\"8\"\r\n              [style]=\"!showUsercodeButton ? 'display: inline-block;' : 'display: none;'\"\r\n              (keyup.enter)=\"onPasswordEnter()\">\r\n\r\n            <div id=\"digitalKeyboardContainer\" class=\"digitalKeyboardContainer\"></div>\r\n\r\n            <div class=\"button_blk\">\r\n              <button type=\"button\" class=\"btn\" (click)=\"onUserCodeClick()\"\r\n                [style]=\"showUsercodeButton ? 'display: inline-block;' : 'display: none;'\">\r\n                <i class=\"opng_lgn_btn\"></i>{{ 'LOGIN.USER' | translate }}\r\n              </button>\r\n\r\n              <button type=\"button\" (click)=\"onPasswordClick()\"\r\n                [style]=\"!showUsercodeButton ? 'display: inline-block;' : 'display: none;'\">\r\n                <i class=\"opng_lgn_btn\"></i>{{ 'LOGIN.PASSWORD' | translate }}\r\n              </button>\r\n            </div>\r\n\r\n            <form #authForm=\"ngForm\" (ngSubmit)=\"onSubmit(authForm)\">\r\n              <input type=\"hidden\" name=\"usercode\" [ngModel]=\"usercode\" required />\r\n              <input type=\"hidden\" name=\"password\" [ngModel]=\"password\" />\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </main>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { map, take } from 'rxjs/operators';\r\nimport { AuthService } from '../services/auth.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(private authService: AuthService, private router: Router) {}\r\n\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    router: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n    return this.authService.user.pipe(\r\n      take(1),\r\n      map(user => {\r\n        const isAuth = !!user;\r\n        if(isAuth) { return true }\r\n        return this.router.createUrlTree(['/auth']);\r\n      })\r\n    );\r\n  }\r\n  \r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { AuthComponent } from '../auth/auth.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AuthComponent\r\n  ],\r\n  imports: [\r\n    RouterModule.forChild([{ path: 'auth', component: AuthComponent }]),\r\n    CommonModule,\r\n    FormsModule,\r\n    SharedModule,\r\n    ReactiveFormsModule,\r\n    TranslateModule\r\n  ]\r\n})\r\nexport class AuthModule {}","import { Component, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AccountAddress } from '../../models/account-address.model';\r\nimport { AccountContactNumber } from '../../models/account-contact-number.model';\r\nimport { AddressType } from '../../models/address-type.model';\r\nimport { City } from '../../models/city.model';\r\nimport { PosCheck } from '../../models/pos-check.model';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { PointerService } from '../../services/pointer.service';\r\nimport { PosCheckService } from '../../services/pos-check.service';\r\nimport { TableLayoutService } from '../../services/table-layout.service';\r\nimport { environment } from '../../../environments/environment';\r\nimport { Account  } from '../../models/account.model'\r\nimport { AccountService } from '../../services/account.service';\r\nimport { CityService } from '../../services/city.service';\r\nimport { AlertService } from '../../services/alert.service';\r\nimport { OutletSetting } from '../../models/outlet-setting.model';\r\ndeclare function initializeKeyboard(event): any;\r\ndeclare function showErrorMessage(): any;\r\n\r\n@Component({\r\n  selector: 'app-address-book',\r\n  templateUrl: './address-book.component.html',\r\n  styles: [\r\n  ]\r\n})\r\nexport class AddressBookComponent implements OnInit {\r\n  mobileNumber: number;\r\n  guestAddressList: Account[] = [];\r\n  showAddressFields: boolean = false;\r\n  outletId: string = \"\";\r\n  addressTypes: AddressType[] = [];\r\n  cities: City[]= [];\r\n  state_name: string;\r\n  selectedStateId: number;\r\n  selectedCountryId: number;\r\n  country_name: string;\r\n  businessDate: string;\r\n  selectedTable = this.tableLayoutService.getPreviousSelectedTable;\r\n\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n              private router: Router,\r\n              private accountService: AccountService,\r\n              private authService: AuthService,\r\n              private pointerService: PointerService,\r\n              private cityService: CityService,\r\n              private posCheckService: PosCheckService,\r\n              private tableLayoutService: TableLayoutService,\r\n              private alertService: AlertService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.outletId = this.activatedRoute.snapshot.params['outlet_id'];\r\n    this.businessDate = PointerService.getISOBusinessDate();\r\n\r\n    const addressData: AddressType[] = JSON.parse(localStorage.getItem(\"addressTypes\"));\r\n    if (!addressData) {\r\n      this.accountService.getAddressType()\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          this.addressTypes = data;\r\n        },\r\n        error: (error: any) => {\r\n          if(error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      this.addressTypes = addressData;\r\n    }\r\n\r\n    const cityData: City[] = JSON.parse(localStorage.getItem(\"cityData\"));\r\n    if(!cityData) {\r\n      this.cityService.getAll()\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          this.cities = data;\r\n        },\r\n        error: (error: any) => {\r\n          if(error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      this.cities = cityData;\r\n    }\r\n  }\r\n\r\n  searchAddress(): void {\r\n    if(this.mobileNumber) {\r\n      this.showAddressFields = false;\r\n      this.accountService.findAddressBy(this.mobileNumber.toString())\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          this.guestAddressList = data;\r\n        },\r\n        error: (error: any) => {\r\n          if(error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      (<HTMLInputElement>document.getElementById(\"mobileNumber\")).style.borderColor = \"red\";\r\n    }\r\n  }\r\n\r\n  newAddress(): void {\r\n    this.showAddressFields = true;\r\n  }\r\n\r\n  openKeyboard(event): void {\r\n    initializeKeyboard(event.target);\r\n  }\r\n\r\n  onCancel(): void {\r\n    this.router.navigate(['/table-layout/' + this.outletId]);\r\n  }\r\n\r\n  onSelect(cityId) {\r\n    if(cityId) {\r\n      const objCity = this.cities.filter((item) => item.id == cityId)[0];\r\n      this.selectedStateId = objCity.state_id;\r\n      this.state_name = objCity.state_name;\r\n      this.country_name = objCity.country_name;\r\n      this.selectedCountryId = objCity.country_id;\r\n    }\r\n  }\r\n\r\n  addAddress(form: NgForm): void {\r\n    if(form.valid) {\r\n      const account = new Account();\r\n      const accountAddress = new AccountAddress();\r\n      \r\n      let user = this.authService.userValue;\r\n      account.assignUserProperties(user);\r\n      accountAddress.assignUserProperties(user);\r\n      \r\n      accountAddress.address1 = form.value.address1;\r\n      accountAddress.address2 = form.value.address2;\r\n      accountAddress.address3 = form.value.address3;\r\n      accountAddress.address_type_id = form.value.address_type_id;\r\n      accountAddress.city_id = form.value.city_id;\r\n      accountAddress.state_id = this.selectedStateId;\r\n      accountAddress.country_id = this.selectedCountryId;\r\n      accountAddress.zip = form.value.zip;\r\n      account.account_address.push(accountAddress);\r\n\r\n      if(form.value.email) {\r\n        const accountContact = new AccountContactNumber();\r\n        accountContact.assignUserProperties(user);\r\n        accountContact.contact_number_type_id = +this.pointerService.filterValueByCode(environment.POINTER_POS_CONTACT_TYPE_ID_EMAIL);\r\n        accountContact.contact_number_value = form.value.email;\r\n        account.account_contact_number.push(accountContact);\r\n      }\r\n\r\n      if(this.mobileNumber) {\r\n        const accountContact = new AccountContactNumber();\r\n        accountContact.assignUserProperties(user);\r\n        accountContact.contact_number_type_id = +this.pointerService.filterValueByCode(environment.POINTER_POS_CONTACT_TYPE_ID_MOBILE);\r\n        accountContact.contact_number_value = this.mobileNumber.toString();\r\n        account.account_contact_number.push(accountContact);\r\n      }\r\n\r\n      account.first_name = form.value.first_name;\r\n      account.last_name = form.value.last_name;\r\n      account.title = form.value.title;\r\n      \r\n      this.accountService.save(account)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          this.onAddressSelection(data);\r\n        },\r\n        error: (error: any) => {\r\n          if(error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  onAddressSelection(account: Account) {\r\n    const objDelivery = this.posCheckService.mapDeliveryFields(account);\r\n    this.posCheckService.assignDeliveryAddress(objDelivery);\r\n    this.getTableStatusAndRedirect();\r\n  }\r\n\r\n  getTableStatusAndRedirect() {\r\n    if(this.selectedTable) {\r\n      if (this.selectedTable.table_status.toUpperCase() != environment.POS_TABLE_STATUS_AVAILABLE.toUpperCase()) {\r\n        this.posCheckService.getCheckDetailsBy(this.outletId, this.businessDate, this.selectedTable)\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            if (data) {\r\n              const posCheck: PosCheck = data;\r\n              if (posCheck.id) {\r\n                this.router.navigate(['/billing/' + this.outletId + '/place-order/' + this.selectedTable.table_code + '/' + posCheck.id]);\r\n              }\r\n            }\r\n          },\r\n          error: (error: any) => {\r\n            if(error.errors && error.errors.length > 0) {\r\n              this.alertService.error(error.errors[0]);\r\n            } else {\r\n              this.alertService.error(error);\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        this.router.navigate(['/billing/' + this.outletId + '/place-order/' + this.selectedTable.table_code]);\r\n      }\r\n    } else {\r\n      //Get any Free table and raise order\r\n      let layoutData = JSON.parse(localStorage.getItem(\"tableLayout\"));\r\n\r\n      if(!layoutData) {\r\n        return\r\n      }\r\n\r\n      let selectedTable = layoutData.filter(t => {\r\n        return t.pos_restaurant_id == this.outletId && t.table_status.toUpperCase() === environment.POS_TABLE_STATUS_AVAILABLE.toUpperCase()\r\n      });\r\n\r\n      if(selectedTable && selectedTable.length > 0) {\r\n        this.router.navigate(['/billing/' + this.outletId + '/place-order/' + selectedTable[0].table_code]); ;\r\n      } else {\r\n        this.alertService.error(environment.NO_FREE_TABLE_AVAILABLE);\r\n      }\r\n    }\r\n  }\r\n\r\n  onBackClick(): void {\r\n    let isQsrOutlet = this.checkQsrOutlet();\r\n\r\n    if (isQsrOutlet) {\r\n      let layoutData = JSON.parse(localStorage.getItem(\"tableLayout\"));\r\n\r\n      if(!layoutData) {\r\n        this.tableLayoutService.getTableLayoutBy(this.outletId).subscribe((data) => {\r\n          this.getAvailableTable(data);\r\n        })\r\n      } else {\r\n        this.getAvailableTable(layoutData);\r\n      }\r\n    } else {\r\n      this.router.navigate(['/table-layout/' + this.outletId]);\r\n    }\r\n  }\r\n\r\n  checkQsrOutlet() {\r\n    let isQsrOutlet: boolean = false;\r\n    if (this.outletId) {\r\n      const outletSettingData: OutletSetting[] = JSON.parse(localStorage.getItem(\"outletSetting\"));\r\n      if (outletSettingData) {\r\n        let currentOutletSetting = outletSettingData.filter(a => a.pos_restaurant_id === +this.outletId);\r\n\r\n        if (currentOutletSetting.length > 0) {\r\n          isQsrOutlet = currentOutletSetting[0].qsr_in_use_ind;\r\n        }\r\n        return isQsrOutlet\r\n      } else {\r\n        this.router.navigate(['/outlet']);\r\n      }\r\n    }\r\n  }\r\n\r\n  getAvailableTable(layoutData) {\r\n    //Get any Free table from layout for QSR billing\r\n    let selectedTable = layoutData.filter(t => {\r\n      return t.pos_restaurant_id == +this.outletId && t.table_status.toUpperCase() === environment.POS_TABLE_STATUS_AVAILABLE.toUpperCase()\r\n    });\r\n\r\n    if (selectedTable && selectedTable.length > 0) {\r\n      this.router.navigate(['/billing/' + this.outletId + '/qsr/' + selectedTable[0].table_code]);\r\n    } else {\r\n      this.alertService.error(environment.NO_FREE_TABLE_AVAILABLE);\r\n    }\r\n  }\r\n}\r\n","<div class=\"wrapg_blk\">\r\n  <app-header></app-header>\r\n\r\n  <!-- SOF Sub-header HTML -->\r\n  <div class=\"sub_header_parnt menu_sub_hdr\">\r\n    <button class=\"btn info_btn\"><i class=\"bi bi-info-lg\"></i></button>\r\n    <div class=\"sub_header_inr\">\r\n      <h2 class=\"page_name\">Address book</h2>\r\n    </div>\r\n    <app-business-date></app-business-date>\r\n  </div>\r\n  <!-- EOF Sub-header HTML -->\r\n\r\n  <main class=\"main_cnt_blk\">\r\n    <section class=\"table_tab_parnt\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <div class=\"address_blk_parnt\">\r\n            <div class=\"address_blk_inr\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-7 col-sm-4 col-lg-3 col-xl-2\">\r\n                      <div class=\"generic_inpt mb-0\">\r\n                        <label>Contact number</label>\r\n                        <input type=\"number\" [(ngModel)]=\"mobileNumber\" id=\"mobileNumber\" (keyup.enter)=\"searchAddress()\" autocomplete=\"none\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-5 col-md-6 col-lg-8\">\r\n                      <div class=\"tabs address_outr_tab\">\r\n                        <ul class=\"tabs-list\">\r\n                          <li class=\"active\" (click)=\"searchAddress()\">\r\n                            <a href=\"javascript:void(0)\" class=\"scrh_btn_main\">\r\n                              <i class=\"bi bi-search\"></i>Search\r\n                            </a>\r\n                          </li>\r\n                          <li (click)=\"newAddress()\">\r\n                            <a href=\"javascript:void(0)\" class=\"add_new_addrs_btn\">\r\n                              <i class=\"fa fa-user-plus\" aria-hidden=\"true\"></i>Add new address\r\n                            </a>\r\n                          </li>\r\n                        </ul>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div id=\"srch_tab\" class=\"tab active\" *ngIf=\"!showAddressFields\">\r\n                    <div class=\"address_lst_grd_tab\">\r\n                      <!-- <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                          <button class=\"btn nav-link active\" id=\"list-tab\" data-bs-toggle=\"tab\"\r\n                            data-bs-target=\"#list-tab-pane\" type=\"button\" role=\"tab\" aria-controls=\"list-tab-pane\"\r\n                            aria-selected=\"true\"><i class=\"bi bi-list\"></i></button>\r\n                        </li>\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                          <button class=\"btn nav-link\" id=\"grid-tab\" data-bs-toggle=\"tab\"\r\n                            data-bs-target=\"#grid-tab-pane\" type=\"button\" role=\"tab\" aria-controls=\"grid-tab-pane\"\r\n                            aria-selected=\"false\"><i class=\"bi bi-grid-3x3-gap-fill\"></i></button>\r\n                        </li>\r\n                      </ul> -->\r\n                      <div class=\"tab-content\" id=\"myTabContent\">\r\n                        <div class=\"tab-pane fade show active\" id=\"list-tab-pane\" role=\"tabpanel\"\r\n                          aria-labelledby=\"list-tab\" tabindex=\"0\">\r\n                          <div class=\"address_lst_grd_blk\">\r\n                            <div class=\"row\">\r\n                              <div class=\"col-md-6 col-lg-4\" *ngFor=\"let account of guestAddressList\">\r\n                                <div class=\"address_lst_cnt address_slcted\" (click)=\"onAddressSelection(account)\">\r\n                                  <span class=\"home_adrs_icn\"></span>\r\n                                  <h4>{{ account.title }} {{ account.first_name }} {{ account.last_name }}</h4>\r\n                                  <ul *ngIf=\"account.account_address\">\r\n                                    <li>{{ account.account_address[0].address1 }}</li>\r\n                                    <li>{{ account.account_address[0].address2 }}</li>\r\n                                    <li>{{ account.account_address[0].address3 }}</li>\r\n                                    <li>{{ account.account_address[0].city_name }} {{\r\n                                      account.account_address[0].state_name }} {{\r\n                                      account.account_address[0].country_name }}</li>\r\n                                    <li>{{ account.account_address[0].zip }}</li>\r\n                                  </ul>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <!-- <div class=\"tab-pane fade\" id=\"grid-tab-pane\" role=\"tabpanel\" aria-labelledby=\"grid-tab\"\r\n                          tabindex=\"0\">\r\n                          <div class=\"address_lst_grd_blk grd_parnt_blk\">\r\n                            <div class=\"demo-container dev_grd_blk\">\r\n                              <div id=\"descContainer\"></div>\r\n                              <div id=\"gridContact\"></div>\r\n                            </div>\r\n                          </div>\r\n                        </div> -->\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <form (submit)=\"addAddress(addressForm)\" #addressForm=\"ngForm\">\r\n                    <div id=\"add_addrs_tab\" class=\"tab active\" *ngIf=\"showAddressFields\">\r\n                      <div class=\"add_addrs_tab\">\r\n                        <div class=\"row\">\r\n                          <div class=\"col-sm-6 col-md-4 col-lg-3 mb-15\">\r\n                            <div class=\"generic_inpt\">\r\n                              <label>First name</label>\r\n                              <input type=\"text\" name=\"first_name\" required ngModel (click)=\"openKeyboard($event)\" autocomplete=\"none\">\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"col-sm-6 col-md-4 col-lg-3 mb-15\">\r\n                            <div class=\"generic_inpt\">\r\n                              <label>Last name</label>\r\n                              <input type=\"text\" name=\"last_name\" ngModel (click)=\"openKeyboard($event)\" autocomplete=\"none\">\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"col-sm-6 col-md-4 col-lg-3 mb-15\">\r\n                            <div class=\"generic_inpt\">\r\n                              <label>Email id</label>\r\n                              <input type=\"email\" name=\"email\" ngModel pattern=\"^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\" (click)=\"openKeyboard($event)\" autocomplete=\"none\">\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"col-sm-6 col-md-4 col-lg-3 mb-15\">\r\n                            <div class=\"generic_inpt\">\r\n                              <label>Address Type</label>\r\n                              <select name=\"address_type_id\" ngModel>\r\n                                <option selected>Select</option>\r\n                                <option *ngFor=\"let type of addressTypes\" value={{type.id}}>\r\n                                  {{ type.description }}\r\n                                </option>\r\n                              </select>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"col-sm-6 col-md-4 col-lg-3 mb-15\">\r\n                            <div class=\"generic_inpt\">\r\n                              <label>Address line 1</label>\r\n                              <input type=\"text\" name=\"address1\" ngModel (click)=\"openKeyboard($event)\" autocomplete=\"none\">\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"col-sm-6 col-md-4 col-lg-3 mb-15\">\r\n                            <div class=\"generic_inpt\">\r\n                              <label>Address line 2</label>\r\n                              <input type=\"text\" name=\"address2\" ngModel (click)=\"openKeyboard($event)\" autocomplete=\"none\">\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"col-sm-6 col-md-4 col-lg-3 mb-15\">\r\n                            <div class=\"generic_inpt\">\r\n                              <label>Address line 3</label>\r\n                              <input type=\"text\" name=\"address3\" ngModel (click)=\"openKeyboard($event)\" autocomplete=\"none\">\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"col-sm-6 col-md-4 col-lg-3 mb-15\">\r\n                            <div class=\"generic_inpt\">\r\n                              <label>City</label>\r\n                              <select name=\"city_id\" ngModel (change)=\"onSelect($event.target.value)\">\r\n                                <option *ngFor=\"let city of cities\" value={{city.id}}>\r\n                                  {{ city.description }}\r\n                                </option>\r\n                              </select>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"col-sm-6 col-md-4 col-lg-3 mb-15\">\r\n                            <div class=\"generic_inpt\">\r\n                              <label>State</label>\r\n                              <input type=\"text\" name=\"state_id\" ngModel (click)=\"openKeyboard($event)\"\r\n                                value={{state_name}} autocomplete=\"none\">\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"col-sm-6 col-md-4 col-lg-3 mb-15\">\r\n                            <div class=\"generic_inpt\">\r\n                              <label>Country</label>\r\n                              <input type=\"text\" name=\"country_id\" ngModel (click)=\"openKeyboard($event)\"\r\n                                value={{country_name}}>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"col-sm-6 col-md-4 col-lg-3 mb-15\">\r\n                            <div class=\"generic_inpt\">\r\n                              <label>Zip/Postcode</label>\r\n                              <input type=\"text\" name=\"zip\" ngModel (click)=\"openKeyboard($event)\" autocomplete=\"none\"> \r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"button_blk\" *ngIf=\"showAddressFields\">\r\n                      <button type=\"submit\" class=\"btn gry_btn\">\r\n                        <i class=\"fas fa-check-circle\"></i>Save\r\n                      </button>\r\n                      <button type=\"button\" class=\"btn red_btn\" (click)=\"onCancel()\">\r\n                        <i class=\"fas fa-times-circle\"></i>Cancel\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <section class=\"action_btn_parnt\">\r\n      <ul>\r\n        <li (click)=\"onBackClick()\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 122.88 98.86\" style=\"enable-background:new 0 0 122.88 98.86\" xml:space=\"preserve\"><g><path d=\"M0,49.43l48.93,49.43V74.23c30.94-6.41,55.39,0.66,73.95,24.19c-3.22-48.4-36.29-71.76-73.95-73.31V0L0,49.43 L0,49.43L0,49.43z\"/></g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.BACK' | translate }}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n    <!-- SOF Common keyboard html -->\r\n    <app-qwerty-keyboard></app-qwerty-keyboard>\r\n    <!-- EOF Common keyboard html -->\r\n  </main>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PosCheckSettlement } from '../../models/pos-check-settlement.model';\r\nimport { PosCheck } from '../../models/pos-check.model';\r\nimport { PosRestaurant } from '../../models/pos-restaurant.model';\r\nimport { PointerService } from '../../services/pointer.service';\r\nimport { PosCheckService } from '../../services/pos-check.service';\r\nimport { environment } from '../../../environments/environment';\r\nimport { AlertService } from '../../services/alert.service';\r\n\r\n@Component({\r\n  selector: 'app-allowance',\r\n  templateUrl: './allowance.component.html',\r\n  styles: [\r\n  ]\r\n})\r\nexport class AllowanceComponent implements OnInit {\r\n  outletId: string = \"\";\r\n  posCheck: PosCheck;\r\n  posCheckId: string;\r\n  currencySymbol: string = \"\";\r\n  debitCardPointer: any;\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private posCheckService: PosCheckService,\r\n    private alertService: AlertService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.outletId = this.activatedRoute.snapshot.params[\"outlet_id\"];\r\n    this.posCheckId = this.activatedRoute.snapshot.params[\"check_id\"];\r\n    this.debitCardPointer = JSON.parse(localStorage.getItem(\"pointerData\"))?.filter(res => res.code == environment.POINTER_DEBIT_CARD_PAYMENT_MODE)[0]?.pointer_value;\r\n    this.getCheckDetails();\r\n    this.currencySymbol = PointerService.getLocalCurrencySymbol();\r\n  }\r\n\r\n  getCheckDetails(): void {\r\n    this.posCheckService.findBy(this.posCheckId)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          if (data) {\r\n            this.posCheck = data;\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  isPaymentDisabled(payment: any): boolean {\r\n    return payment.allowance_ind ||\r\n      this.posCheck.pos_check_settlements.some(p =>\r\n        p !== payment &&\r\n        p.charge_id === payment.charge_id &&\r\n        p.allowance_ind\r\n      );\r\n  }\r\n\r\n  onPaymentSelection(selectedPayment: PosCheckSettlement): void {\r\n    if (selectedPayment && selectedPayment.id) {\r\n      const objItem = this.posCheck.pos_check_settlements.filter(x => x.id == selectedPayment.id);\r\n\r\n      const outletData: PosRestaurant[] = JSON.parse(localStorage.getItem(\"posRestaurant\"));\r\n      const currentOutletData = outletData.filter(a => a.id == +this.outletId);\r\n\r\n      if (currentOutletData.length > 0) {\r\n        const selectedCharge = currentOutletData[0].pos_payment_restaurants.filter(b => b.payment_id == objItem[0].charge_id);\r\n        if (selectedCharge && selectedCharge.length > 0) {\r\n          if (selectedCharge[0].payment.allowance_allowed_ind && selectedCharge[0].payment_id != this.debitCardPointer) {\r\n            //create copy of exisiting record with allowance ind true\r\n            const newObject = Object.assign(new PosCheckSettlement(), objItem[0]);\r\n            newObject.id = null;\r\n            newObject.allowance_ind = true;\r\n            newObject.is_new = true;\r\n            newObject.is_dirty = false;\r\n            this.posCheck.pos_check_settlements.push(newObject);\r\n            this.posCheck.pos_check_settlements = this.posCheck?.pos_check_settlements?.filter((value, index, self) =>\r\n              index === self.findIndex((t) => (\r\n                t.charge_id === value.charge_id && t.id === value.id && t.amount === value.amount\r\n              ))\r\n            );\r\n          } else {\r\n            // show error\r\n            this.alertService.error(environment.ALLOWANCE_NOT_ALLOWED);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onBackClick(): void {\r\n    this.router.navigate(['/billing/' + this.outletId + '/view-bill/' + this.posCheckId]);\r\n  }\r\n\r\n  markAllowance(): void {\r\n    const isAllowanceMarked = this.posCheck.pos_check_settlements.filter(x => x.is_new && x.allowance_ind == true);\r\n\r\n    if (isAllowanceMarked.length > 0) {\r\n      this.posCheckService.settleBill(this.posCheck)\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            this.router.navigate(['/billing/' + this.outletId + '/view-bill/' + this.posCheckId]);\r\n          },\r\n          error: (error: any) => {\r\n            if (error.errors && error.errors.length > 0) {\r\n              this.alertService.error(error.errors[0]);\r\n            } else {\r\n              this.alertService.error(error);\r\n            }\r\n          }\r\n        });\r\n    } else {\r\n      this.alertService.error(environment.ALLOWANCE_NOT_SELECTED);\r\n    }\r\n  }\r\n}\r\n","<div class=\"wrapg_blk\">\r\n  <app-header></app-header>\r\n\r\n  <!-- SOF Sub-header HTML -->\r\n  <div class=\"sub_header_parnt menu_sub_hdr\">\r\n    <div class=\"sub_btn_grp\">\r\n      <button class=\"btn info_btn\"><i class=\"bi bi-info-lg\"></i></button>\r\n    </div>\r\n    <div class=\"sub_header_inr\">\r\n      <h2 class=\"page_name\">Allowance</h2>\r\n      <div class=\"table_drpdwn\">\r\n        <select>\r\n          <option *ngIf=\"posCheck\">{{ posCheck.table_code }}</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"cover_num_blk\">\r\n        <p>\r\n          <label>Covers:</label>\r\n          <input *ngIf=\"posCheck\" type=\"number\" [placeholder]=\"posCheck.covers ? posCheck.covers : ''\" readonly />\r\n        </p>\r\n      </div>\r\n      <div class=\"gust_info_blk\">\r\n        <div class=\"guest_name_parnt\">\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>Name:</label>\r\n              <input *ngIf=\"posCheck\" type=\"text\" readonly\r\n                [placeholder]=\"posCheck.guest_name ? posCheck.guest_name : '' \" />\r\n            </p>\r\n          </div>\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>GST:</label>\r\n              <input *ngIf=\"posCheck\" type=\"text\"\r\n                [placeholder]=\"posCheck.guest_gst_number ? posCheck.guest_gst_number : ''\" readonly />\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <app-business-date></app-business-date>\r\n  </div>\r\n  <!-- EOF Sub-header HTML -->\r\n\r\n  <main class=\"main_cnt_blk action_btn_hght\">\r\n    <section class=\"table_tab_parnt\">\r\n      <div class=\"select_out_parnt\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12\">\r\n            <div class=\"row\" *ngIf=\"posCheck\">\r\n              <div class=\"col-sm-4 col-md-3 col-xl-2 mb-15\" *ngFor=\"let payment of posCheck.pos_check_settlements\">\r\n                <div class=\"paymt_blk blue_main_parnt\" [class.disabled]=\"isPaymentDisabled(payment)\"\r\n                  [style.pointer-events]=\"isPaymentDisabled(payment) ? 'none' : 'auto'\"\r\n                  (click)=\"onPaymentSelection(payment)\">\r\n                  <a class=\"form-control\" tabindex=\"0\" [class.cash_icn]=\"payment.settlement_type == 'CA'\"\r\n                    [class.card_icn]=\"payment.settlement_type == 'CC'\">\r\n                    <label>\r\n                      {{ payment.description }}\r\n                      <span *ngIf=\"payment.card_no\">#{{ payment.card_no }}</span>\r\n                      {{ currencySymbol }}\r\n                      <span *ngIf=\"payment.allowance_ind\">- {{ payment.amount }}</span>\r\n                      <span *ngIf=\"!payment.allowance_ind\">{{ payment.amount }}</span>\r\n                    </label>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"action_btn_parnt\">\r\n      <ul>\r\n        <li class=\"copy_icn\" (click)=\"markAllowance()\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" shape-rendering=\"geometricPrecision\"\r\n              text-rendering=\"geometricPrecision\" image-rendering=\"optimizeQuality\" fill-rule=\"evenodd\"\r\n              clip-rule=\"evenodd\" viewBox=\"0 0 512 512\">\r\n              <path fill-rule=\"nonzero\"\r\n                d=\"M256 0c70.69 0 134.7 28.66 181.02 74.98C483.34 121.31 512 185.31 512 256c0 70.69-28.66 134.7-74.98 181.02C390.7 483.34 326.69 512 256 512c-70.69 0-134.69-28.66-181.02-74.98C28.66 390.7 0 326.69 0 256c0-70.69 28.66-134.69 74.98-181.02C121.31 28.66 185.31 0 256 0zm-21.49 301.51v-2.03c.16-13.46 1.48-24.12 4.07-32.05 2.54-7.92 6.19-14.37 10.97-19.25 4.77-4.92 10.51-9.39 17.22-13.46 4.31-2.74 8.22-5.78 11.68-9.18 3.45-3.36 6.19-7.27 8.23-11.69 2.02-4.37 3.04-9.24 3.04-14.62 0-6.4-1.52-11.94-4.57-16.66-3-4.68-7.06-8.28-12.04-10.87-5.03-2.54-10.61-3.81-16.76-3.81-5.53 0-10.81 1.11-15.89 3.45-5.03 2.29-9.25 5.89-12.55 10.77-3.3 4.87-5.23 11.12-5.74 18.74h-32.91c.51-12.95 3.81-23.92 9.85-32.91 6.1-8.99 14.13-15.8 24.08-20.42 10.01-4.62 21.08-6.9 33.16-6.9 13.31 0 24.89 2.43 34.84 7.41 9.96 4.93 17.73 11.83 23.27 20.67 5.48 8.84 8.28 19.1 8.28 30.88 0 8.08-1.27 15.34-3.81 21.79-2.54 6.45-6.1 12.24-10.77 17.27-4.68 5.08-10.21 9.54-16.71 13.41-6.15 3.86-11.12 7.82-14.88 11.93-3.81 4.11-6.56 8.99-8.28 14.58-1.73 5.63-2.69 12.59-2.84 20.92v2.03h-30.94zm16.36 65.82c-5.94-.04-11.02-2.13-15.29-6.35-4.26-4.21-6.35-9.34-6.35-15.33 0-5.89 2.09-10.97 6.35-15.19 4.27-4.21 9.35-6.35 15.29-6.35 5.84 0 10.92 2.14 15.18 6.35 4.32 4.22 6.45 9.3 6.45 15.19 0 3.96-1.01 7.62-2.99 10.87-1.98 3.3-4.57 5.94-7.82 7.87-3.25 1.93-6.86 2.9-10.82 2.94zM417.71 94.29C376.33 52.92 319.15 27.32 256 27.32c-63.15 0-120.32 25.6-161.71 66.97C52.92 135.68 27.32 192.85 27.32 256c0 63.15 25.6 120.33 66.97 161.71 41.39 41.37 98.56 66.97 161.71 66.97 63.15 0 120.33-25.6 161.71-66.97 41.37-41.38 66.97-98.56 66.97-161.71 0-63.15-25.6-120.32-66.97-161.71z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.ALLOWANCE' | translate }}\r\n          </a>\r\n        </li>\r\n        <li (click)=\"onBackClick()\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 122.88 98.86\"\r\n              style=\"enable-background:new 0 0 122.88 98.86\" xml:space=\"preserve\">\r\n              <g>\r\n                <path\r\n                  d=\"M0,49.43l48.93,49.43V74.23c30.94-6.41,55.39,0.66,73.95,24.19c-3.22-48.4-36.29-71.76-73.95-73.31V0L0,49.43 L0,49.43L0,49.43z\" />\r\n              </g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.BACK' | translate }}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n  </main>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PosCheckChargeDiscount } from '../../models/pos-check-charge-discount.model';\r\nimport { PosCheck } from '../../models/pos-check.model';\r\nimport { PointerService } from '../../services/pointer.service';\r\nimport { PosCheckService } from '../../services/pos-check.service';\r\nimport { environment } from '../../../environments/environment';\r\nimport { ANG } from '../../models/ang.model';\r\nimport { ANGService } from '../../services/ang.service';\r\nimport { AlertService } from '../../services/alert.service';\r\n\r\n@Component({\r\n  selector: 'app-ang',\r\n  templateUrl: './ang.component.html'\r\n})\r\nexport class ANGComponent implements OnInit {\r\n  outletId: string = \"\";\r\n  posCheckId: string = \"\";\r\n  angCategories: ANG[] = [];\r\n  selectedANG: ANG;\r\n  posCheck: PosCheck;\r\n  decimalPlace: number = this.pointerService.getDecimalPlaceValue();\r\n\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private angService: ANGService,\r\n    private posCheckService: PosCheckService,\r\n    private pointerService: PointerService,\r\n    private alertService: AlertService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.outletId = this.activatedRoute.snapshot.params[\"outlet_id\"];\r\n    this.posCheckId = this.activatedRoute.snapshot.params[\"check_id\"];\r\n\r\n    this.angService.getAll()\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          this.angCategories = data;\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n\r\n    this.posCheckService.findBy(this.posCheckId)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          this.posCheck = data;\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  onBackClick(): void {\r\n    this.router.navigate(['/billing/' + this.outletId + '/view-bill/' + this.posCheckId]);\r\n  }\r\n\r\n  onANGSelection(ang: ANG): void {\r\n    this.selectedANG = ang;\r\n  }\r\n\r\n  onSaveClick(): void {\r\n    if (this.selectedANG) {\r\n      this.posCheckService.findBy(this.posCheckId)\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            if (data) {\r\n              this.posCheck = data;\r\n              this.posCheck.pos_ang_category_id = this.selectedANG.id;\r\n\r\n              this.posCheck.pos_check_charges.forEach(posCheckCharge => {\r\n                if (posCheckCharge.charge_id) {\r\n                  let chargeDiscount = new PosCheckChargeDiscount();\r\n\r\n                  chargeDiscount.pos_check_charge_id = posCheckCharge.id;\r\n                  chargeDiscount.amount = (posCheckCharge.amount * (+environment.ANG_DISCOUNT_PERCENTAGE) / 100);\r\n                  chargeDiscount.charge_id = posCheckCharge.charge_id;\r\n                  chargeDiscount.currency_id = PointerService.getLocalCurrencyId();\r\n                  chargeDiscount.dr_cr = environment.CR_IND;\r\n                  chargeDiscount.pos_discount_id = this.selectedANG.pos_discount_id;\r\n                  chargeDiscount.discount_percentage = +environment.ANG_DISCOUNT_PERCENTAGE;\r\n\r\n                  posCheckCharge.pos_check_charge_discounts.push(chargeDiscount);\r\n\r\n                  if (posCheckCharge.pos_check_charge_taxes && posCheckCharge.pos_check_charge_taxes.length > 0) {\r\n                    posCheckCharge.pos_check_charge_taxes.forEach(tax => {\r\n                      if (tax.is_dirty) {\r\n                        tax.amount = +((posCheckCharge.amount - chargeDiscount.amount) * tax.tax_percentage / 100).toFixed(this.decimalPlace);\r\n                        if (tax.amount <= 0) {\r\n                          tax.destroy = 1;\r\n                        }\r\n                      }\r\n                    })\r\n                  }\r\n                }\r\n              });\r\n\r\n              this.posCheckService.calculateDrTotal(this.posCheck);\r\n\r\n              this.posCheckService.saveBill(this.posCheck)\r\n                .subscribe({\r\n                  next: (data: any) => {\r\n                    if (data) {\r\n                      this.router.navigate(['/billing/' + this.outletId + '/view-bill/' + this.posCheck?.id])\r\n                    }\r\n                  },\r\n                  error: (error: any) => {\r\n                    if (error.errors && error.errors.length > 0) {\r\n                      this.alertService.error(error.errors[0]);\r\n                    } else {\r\n                      this.alertService.error(error);\r\n                    }\r\n                  }\r\n                });\r\n\r\n            }\r\n          },\r\n          error: (error: any) => {\r\n            if (error.errors && error.errors.length > 0) {\r\n              this.alertService.error(error.errors[0]);\r\n            } else {\r\n              this.alertService.error(error);\r\n            }\r\n          }\r\n        });\r\n    }\r\n  }\r\n}\r\n","<div class=\"wrapg_blk\">\r\n  <app-header></app-header>\r\n\r\n  <!-- SOF Sub-header HTML -->\r\n  <div class=\"sub_header_parnt menu_sub_hdr\">\r\n    <div class=\"sub_btn_grp\">\r\n      <button class=\"btn info_btn\"><i class=\"bi bi-info-lg\"></i></button>\r\n    </div>\r\n    <div class=\"sub_header_inr\">\r\n      <h2 class=\"page_name\">{{ 'ACTION_BUTTON.A&G' | translate }}</h2>\r\n      <div class=\"table_drpdwn\">\r\n        <select>\r\n          <option *ngIf=\"posCheck\">{{ posCheck.table_code }}</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"cover_num_blk\">\r\n        <p>\r\n          <label>{{ 'COMMON_LABEL.COVERS' | translate }}:</label>\r\n          <input *ngIf=\"posCheck\" type=\"number\" [placeholder]=\"posCheck.covers ? posCheck.covers : ''\" readonly />\r\n        </p>\r\n      </div>\r\n      <div class=\"gust_info_blk\">\r\n        <div class=\"guest_name_parnt\">\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>{{ 'COMMON_LABEL.NAME' | translate }}:</label>\r\n              <input *ngIf=\"posCheck\" type=\"text\" readonly [placeholder]=\"posCheck.guest_name ? posCheck.guest_name : ''\" />\r\n            </p>\r\n          </div>\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>{{ 'COMMON_LABEL.GST' | translate }}:</label>\r\n              <input *ngIf=\"posCheck\" type=\"text\" [placeholder]=\"posCheck.guest_gst_number ? posCheck.guest_gst_number : ''\" readonly />\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <app-business-date></app-business-date>\r\n  </div>\r\n  <!-- EOF Sub-header HTML -->\r\n\r\n  <main class=\"main_cnt_blk action_btn_hght\">\r\n    <section class=\"table_tab_parnt\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12 mb-15\">\r\n          <div class=\"disnt_parnt_blk discnt_reasn_blk\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-4 col-md-3 col-xl-2 mb-15\" *ngFor=\"let ang of angCategories; odd as isOdd; even as isEven;\">\r\n                <div class=\"paymt_blk\" [ngClass]=\"{ 'blue_main_parnt': isEven, 'purple_main_parnt': isOdd }\">\r\n                  <a href=\"javascript:void(0)\" class=\"form-control ang_icn\" tabindex=\"0\" (click)=\"onANGSelection(ang)\">\r\n                    <label>{{ ang.description }}</label>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <section class=\"action_btn_parnt\">\r\n      <ul>\r\n        <li (click)=\"onSaveClick()\" [class.unavlbl_btn]=\"!selectedANG\">\r\n          <a href=\"javascript:void(0)\" class=\"form-control\" tabindex=\"0\">\r\n            <svg enable-background=\"new 0 0 26 26\" version=\"1.1\" viewBox=\"0 0 26 26\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><path d=\"M16.8035889,14.4605103c2.0820923-1.2811279,3.4776611-3.5723267,3.4776611-6.1885376  C20.28125,4.262207,17.0146484,1,13,1S5.71875,4.262207,5.71875,8.2719727c0,2.6162109,1.3955688,4.9074097,3.4776611,6.1885376  c-4.4957886,1.0071411-7.6505127,3.7583618-7.6505127,7.0878296C1.5458984,24.2729492,8.7460938,25,13,25  s11.4541016-0.7270508,11.4541016-3.4516602C24.4541016,18.2188721,21.2993774,15.4676514,16.8035889,14.4605103z   M7.21875,8.2719727C7.21875,5.0893555,9.8125,2.5,13,2.5s5.78125,2.5893555,5.78125,5.7719727S16.1875,14.043457,13,14.043457  S7.21875,11.4545898,7.21875,8.2719727z M13,23.5c-6.1149902,0-9.7753906-1.289978-9.9536743-1.9567261  C3.0509644,18.2345581,7.5145874,15.543457,13,15.543457c5.4848633,0,9.9481201,2.6906128,9.9536133,5.9988403  C22.7797852,22.2085571,19.1190186,23.5,13,23.5z\"/></svg>\r\n            {{ 'ACTION_BUTTON.A&G' | translate }}\r\n          </a>\r\n        </li>\r\n        <li (click)=\"onBackClick()\">\r\n          <a href=\"javascript:void(0)\" class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 122.88 98.86\" style=\"enable-background:new 0 0 122.88 98.86\" xml:space=\"preserve\"><g><path d=\"M0,49.43l48.93,49.43V74.23c30.94-6.41,55.39,0.66,73.95,24.19c-3.22-48.4-36.29-71.76-73.95-73.31V0L0,49.43 L0,49.43L0,49.43z\"/></g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.BACK' | translate }}\r\n          </a>\r\n        </li>\r\n        \r\n      </ul>\r\n    </section>\r\n  </main>\r\n</div>","import { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from '../auth/auth.guard';\r\nimport { NgModule } from '@angular/core';\r\nimport { ViewBillComponent } from './view-bill/view-bill.component';\r\nimport { PlaceOrderComponent } from './place-order/place-order.component';\r\nimport { ANGComponent } from './ang/ang.component';\r\nimport { RecallCheckComponent } from './recall-check/recall-check.component';\r\nimport { SettlementComponent } from './settlement/settlement.component';\r\nimport { KotComponent } from './kot/kot.component';\r\nimport { DiscountComponent } from './discount/discount.component';\r\nimport { AddressBookComponent } from './address-book/address-book.component'\r\nimport { AllowanceComponent } from './allowance/allowance.component';\r\nimport { QsrComponent } from './qsr/qsr.component';\r\nimport { RoomPostComponent } from './room-post/room-post.component';\r\nimport { TableKotComponent } from './table-kot/table-kot.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'billing/:outlet_id',\r\n    canActivate: [AuthGuard],\r\n    children: [\r\n      { path: 'place-order/:table_code', component: PlaceOrderComponent },\r\n      { path: 'qsr/:table_code', component: QsrComponent },\r\n      { path: 'place-order/:table_code/:check_id', component: PlaceOrderComponent },\r\n      { path: 'view-bill/:check_id', component: ViewBillComponent },\r\n      { path: 'ang/:check_id', component: ANGComponent },\r\n      { path: 'settlement/:check_id', component: SettlementComponent },\r\n      { path: 'recall-check/:table_code', component: RecallCheckComponent },\r\n      { path: 'recall-check', component: RecallCheckComponent },\r\n      { path: 'kot', component: KotComponent },\r\n      { path: 'discount/:check_id', component: DiscountComponent },\r\n      { path: 'allowance/:check_id', component: AllowanceComponent },\r\n      { path: 'address-book', component: AddressBookComponent },\r\n      { path: 'room-post/:check_id', component: RoomPostComponent },\r\n      { path: 'table-kot/:check_id', component: TableKotComponent }\r\n    ]\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class BillingRoutingModule { }","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BillingRoutingModule } from './billing-routing.module';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { ViewBillComponent } from './view-bill/view-bill.component';\r\nimport { PlaceOrderComponent } from './place-order/place-order.component';\r\nimport { FilterMenuSubHeader } from './custom-filter/menu-sub-header.pipe';\r\nimport { FilterItemBySubHeader } from './custom-filter/menu-sub-header-item.pipe';\r\nimport { FilterTax } from './custom-filter/charge-tax.pipe';\r\nimport { FilterModifierByItem } from './custom-filter/item-modifier.pipe';\r\nimport { SaleComponent } from './sale/sale.component';\r\nimport { DxDataGridModule } from 'devextreme-angular/ui/data-grid';\r\nimport { RecallCheckComponent } from './recall-check/recall-check.component';\r\nimport { ANGComponent } from './ang/ang.component';\r\nimport { SettlementComponent } from './settlement/settlement.component';\r\nimport { KotComponent } from './kot/kot.component';\r\nimport { DiscountComponent } from './discount/discount.component';\r\nimport { AddressBookComponent } from './address-book/address-book.component';\r\nimport { AllowanceComponent } from './allowance/allowance.component';\r\nimport { QsrComponent } from './qsr/qsr.component';\r\nimport { RoomPostComponent } from './room-post/room-post.component';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { QRCodeModule } from 'angularx-qrcode';\r\nimport { TableKotComponent } from './table-kot/table-kot.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ViewBillComponent, \r\n    PlaceOrderComponent,\r\n    FilterMenuSubHeader,\r\n    FilterItemBySubHeader,\r\n    FilterModifierByItem,\r\n    FilterTax,\r\n    SaleComponent,\r\n    RecallCheckComponent,\r\n    ANGComponent,\r\n    SettlementComponent,\r\n    KotComponent,\r\n    DiscountComponent,\r\n    AddressBookComponent,\r\n    AllowanceComponent,\r\n    QsrComponent,\r\n    RoomPostComponent,\r\n    TableKotComponent\r\n  ],\r\n  imports: [\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    DxDataGridModule,\r\n    CommonModule,\r\n    SharedModule,\r\n    BillingRoutingModule,\r\n    MatAutocompleteModule,\r\n    MatInputModule,\r\n    MatNativeDateModule,\r\n    MatFormFieldModule,\r\n    QRCodeModule\r\n  ],\r\n  exports: [\r\n    SaleComponent,\r\n    RecallCheckComponent\r\n  ]\r\n})\r\nexport class BillingModule { }\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { PosCheckCharge } from '../../models/pos-check-charge.model';\r\n\r\n@Pipe({\r\n  name: 'FilterTax',\r\n  pure: true\r\n})\r\nexport class FilterTax implements PipeTransform {\r\n  \r\n  transform(posCheckCharges: PosCheckCharge[]) {\r\n    if(posCheckCharges) {\r\n      let taxArray = [];\r\n      const uniqueCharges = [...new Set(posCheckCharges.map(item => item.pos_check_charge_taxes))];\r\n      \r\n      uniqueCharges.forEach(charge => {\r\n        charge.forEach(element => {\r\n          const objIndex = taxArray.findIndex(x => x.tax_id === element.tax_id);\r\n          \r\n          if(objIndex === -1) {\r\n            taxArray.push(element);\r\n          } else {\r\n            taxArray[objIndex].amount += +element.amount;\r\n          }\r\n        });\r\n      });\r\n      return taxArray;\r\n    }\r\n  } \r\n}","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'DateSuffix',\r\n  pure: true\r\n})\r\nexport class DateSuffix implements PipeTransform {\r\n  transform(value: string): string {\r\n\r\n    let suffix = 'th',\r\n    day = value;\r\n\r\n    if (day === '1' || day === '21' || day === '31') {\r\n      suffix = 'st'\r\n    } else if (day === '2' || day === '22') {\r\n      suffix = 'nd';\r\n    } else if (day === '3' || day === '23') {\r\n      suffix = 'rd';\r\n    }\r\n    return suffix;\r\n  }\r\n}","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { PosItemModifier } from '../../models/pos-item-modifier.model';\r\nimport { PosItemMenu } from '../../models/pos-item-menu.model';\r\n\r\n@Pipe({\r\n  name: 'FilterModifierByItem',\r\n  pure: true\r\n})\r\n\r\nexport class FilterModifierByItem implements PipeTransform{\r\n  transform(currentPosItemModifier: PosItemModifier[], posItemMenu: PosItemMenu) {\r\n    if(currentPosItemModifier && posItemMenu) { \r\n      let filteredModifier = currentPosItemModifier.filter(a => a.pos_item_id == posItemMenu.pos_item_id);\r\n      return filteredModifier;\r\n    }\r\n  }\r\n}","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { PosItemMenu } from '../../models/pos-item-menu.model';\r\nimport { PosMenuHeader } from '../../models/pos-menu-header.model';\r\nimport { PosMenuSubHeader } from '../../models/pos-menu-subheader.model';\r\n\r\n@Pipe({\r\n  name: 'FilterItemBySubHeader',\r\n  pure: true\r\n})\r\n\r\nexport class FilterItemBySubHeader implements PipeTransform{\r\n  transform(currentMenuitems: PosItemMenu[], menuHeader: PosMenuHeader, menuSubHeader: PosMenuSubHeader) {\r\n    if(currentMenuitems) { \r\n      let menuHeaderItems = currentMenuitems.filter(a => a.pos_menu_header_id == menuHeader.id);\r\n\r\n      let menuSubHeaderItems = menuHeaderItems.filter(function (item) {\r\n                                return item.menu_sub_header.id === menuSubHeader.id;\r\n                              }).map(function (item) {\r\n                                return item;\r\n                              });\r\n      return menuSubHeaderItems;\r\n    }\r\n  }\r\n}","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { PosItemMenu } from '../../models/pos-item-menu.model';\r\nimport { PosMenuHeader } from '../../models/pos-menu-header.model';\r\n\r\n@Pipe({\r\n  name: 'FilterMenuSubHeader',\r\n  pure: true\r\n})\r\n\r\nexport class FilterMenuSubHeader implements PipeTransform{\r\n  transform(items: PosItemMenu[], menuHeader: PosMenuHeader) {\r\n    if(items) { \r\n      let menuHeaderItems = items.filter(a => a.pos_menu_header_id == menuHeader.id);\r\n      let menuSubHeads = menuHeaderItems.map(a => a.menu_sub_header);\r\n\r\n      let uniqueSubheaders = Array.from(new Set(menuSubHeads.map((object)=> JSON.stringify(object)))).map((string) => JSON.parse(string))\r\n      //console.log(uniqueSubheaders);\r\n      return uniqueSubheaders;\r\n    }\r\n  }\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PosCheckChargeDiscount } from '../../models/pos-check-charge-discount.model';\r\nimport { PosCheckCharge } from '../../models/pos-check-charge.model';\r\nimport { PosCheck } from '../../models/pos-check.model';\r\nimport { PosDiscount } from '../../models/pos-discount.model';\r\nimport { PointerService } from '../../services/pointer.service';\r\nimport { PosCheckService } from '../../services/pos-check.service';\r\nimport { PosDiscountService } from '../../services/pos-discount.service';\r\nimport { environment } from '../../../environments/environment';\r\nimport { AlertService } from '../../services/alert.service';\r\ndeclare function initializeKeyboard(event): any;\r\n\r\n@Component({\r\n  selector: 'app-discount',\r\n  templateUrl: './discount.component.html'\r\n})\r\nexport class DiscountComponent implements OnInit {\r\n  outletId: string = \"\";\r\n  posCheck: PosCheck;\r\n  posCheckId: string;\r\n  discountList: PosDiscount[] = [];\r\n  showDiscountList: boolean = true;\r\n  selectedDiscount: PosDiscount;\r\n  decimalPlace: number = this.pointerService.getDecimalPlaceValue();\r\n  posDiscountCharge: any;\r\n\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private posCheckService: PosCheckService,\r\n    private posDiscountService: PosDiscountService,\r\n    private pointerService: PointerService,\r\n    private alertService: AlertService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.outletId = this.activatedRoute.snapshot.params[\"outlet_id\"];\r\n    this.posCheckId = this.activatedRoute.snapshot.params[\"check_id\"];\r\n    this.getCheckDetails();\r\n  }\r\n\r\n  getCheckDetails(): void {\r\n    this.posCheckService.findBy(this.posCheckId)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          if (data) {\r\n            this.posCheck = data;\r\n            this.listDiscount();\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  listDiscount(): void {\r\n    const discountData: PosDiscount[] = JSON.parse(localStorage.getItem(\"discountData\"));\r\n    if (discountData) {\r\n      this.discountList = discountData;\r\n      this.discountList = this.discountList.filter(x => x.display_in_lookup_ind == true);\r\n    } else {\r\n      this.posDiscountService.getAll()\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            if (data) {\r\n              this.discountList = data;\r\n              this.discountList = this.discountList.filter(x => x.display_in_lookup_ind == true);\r\n            }\r\n          },\r\n          error: (error: any) => {\r\n            if (error.errors && error.errors.length > 0) {\r\n              this.alertService.error(error.errors[0]);\r\n            } else {\r\n              this.alertService.error(error);\r\n            }\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  onBackClick(): void {\r\n    this.router.navigate(['/billing/' + this.outletId + '/view-bill/' + this.posCheckId]);\r\n  }\r\n\r\n  onDiscountSelection(discount: PosDiscount): void {\r\n    this.showDiscountList = false;\r\n    this.selectedDiscount = discount;\r\n    this.filterPosCheckDiscountCharge();\r\n  }\r\n\r\n  applyDiscount(value, isPercent: boolean, charge: PosCheckCharge): void {\r\n    if (value) {\r\n      let discountAmount = 0;\r\n      if (isPercent) {\r\n        discountAmount = +(charge.amount * value / 100).toFixed(this.decimalPlace);\r\n      } else {\r\n        discountAmount = value;\r\n      }\r\n\r\n      if (charge.pos_check_charge_discounts && charge.pos_check_charge_discounts.length > 0) {\r\n        charge.pos_check_charge_discounts[0].amount = discountAmount;\r\n        charge.pos_check_charge_discounts[0].discount_percentage = isPercent ? value : \"\";\r\n      } else {\r\n        let checkChargeDiscount = new PosCheckChargeDiscount();\r\n        checkChargeDiscount.amount = discountAmount;\r\n        checkChargeDiscount.charge_id = charge.charge_id;\r\n        checkChargeDiscount.currency_id = PointerService.getLocalCurrencyId();\r\n        checkChargeDiscount.description = this.selectedDiscount.description;\r\n        checkChargeDiscount.discount_percentage = isPercent ? value : \"\";\r\n        checkChargeDiscount.dr_cr = environment.CR_IND;\r\n        checkChargeDiscount.pos_check_charge_id = charge.id;\r\n        checkChargeDiscount.pos_discount_id = this.selectedDiscount.id;\r\n        checkChargeDiscount.serial_number = 1;\r\n        charge.pos_check_charge_discounts.push(checkChargeDiscount);\r\n      }\r\n    }\r\n    this.posCheckService.updateOrder(this.posCheck);\r\n  }\r\n\r\n  filterPosCheckDiscountCharge() {\r\n    const uniqueAccountCodes = [...new Set(this.posCheck.pos_check_charges.map(item => item.charge.account_code))];\r\n\r\n    this.posDiscountCharge = this.selectedDiscount.pos_discount_details.filter(x => uniqueAccountCodes.includes(x.charge.code));\r\n\r\n    //adding discount object inside respective PosCheckCharge for auto processing on html side\r\n    this.posCheck.pos_check_charges.forEach(checkCharge => {\r\n      const discountCharges = this.posDiscountCharge.filter(x => x.charge.code == checkCharge.charge.account_code);\r\n      if (discountCharges.length > 0) {\r\n        checkCharge['discount'] = discountCharges;\r\n\r\n        if (checkCharge['discount'][0].discount_percent) {\r\n          this.applyDiscount(checkCharge['discount'][0].discount_percent, true, checkCharge);\r\n        } else {\r\n          this.applyDiscount(checkCharge['discount'][0].discount_amount, true, checkCharge);\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  onSaveDiscount(): void {\r\n    if (this.posCheck.pos_check_details && this.posCheck.pos_check_details.length > 0) {\r\n      this.posCheckService.saveBill(this.posCheck).subscribe(data => {\r\n        this.router.navigate(['/billing/' + this.outletId + '/view-bill/' + this.posCheckId]);\r\n      });\r\n    }\r\n  }\r\n\r\n  openKeyboard(event): void {\r\n    initializeKeyboard(event.target);\r\n  }\r\n}\r\n","<div class=\"wrapg_blk\">\r\n  <app-header></app-header>\r\n\r\n  <!-- SOF Sub-header HTML -->\r\n  <div class=\"sub_header_parnt menu_sub_hdr\">\r\n    <div class=\"sub_btn_grp\">\r\n      <button class=\"btn info_btn\"><i class=\"bi bi-info-lg\"></i></button>\r\n    </div>\r\n    <div class=\"sub_header_inr\">\r\n      <h2 class=\"page_name\">Discount</h2>\r\n      <div class=\"table_drpdwn\">\r\n        <select>\r\n          <option *ngIf=\"posCheck\">{{ posCheck.table_code }}</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"cover_num_blk\">\r\n        <p>\r\n          <input *ngIf=\"posCheck\" type=\"number\" [placeholder]=\"posCheck.covers ? posCheck.covers : ''\" readonly />\r\n        </p>\r\n      </div>\r\n      <div class=\"gust_info_blk\">\r\n        <div class=\"guest_name_parnt\">\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>Name:</label>\r\n              <input *ngIf=\"posCheck\" type=\"text\" readonly\r\n                [placeholder]=\"posCheck.guest_name ? posCheck.guest_name : '' \" />\r\n            </p>\r\n          </div>\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>GST:</label>\r\n              <input *ngIf=\"posCheck\" type=\"text\"\r\n                [placeholder]=\"posCheck.guest_gst_number ? posCheck.guest_gst_number : ''\" readonly />\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <app-business-date></app-business-date>\r\n  </div>\r\n  <!-- EOF Sub-header HTML -->\r\n\r\n  <main class=\"main_cnt_blk action_btn_hght\" [style.display]=\"showDiscountList ? 'block': 'none'\">\r\n    <section class=\"menu_parnt_blk\">\r\n      <div class=\"disnt_parnt_blk discnt_reasn_blk\">\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-4 col-md-3 col-xl-2 mb-15\"\r\n            *ngFor=\"let discount of discountList; odd as isOdd; even as isEven;\">\r\n            <div class=\"paymt_blk\" [ngClass]=\"{ 'blue_main_parnt': isEven, 'purple_main_parnt': isOdd }\"\r\n              (click)=\"onDiscountSelection(discount)\">\r\n              <a class=\"form-control discnt_icn\" tabindex=\"0\"><label>{{ discount.description }}</label></a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"action_btn_parnt\">\r\n      <ul>\r\n        <li (click)=\"onBackClick()\">\r\n          <a href=\"javascript:void(0)\" class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 122.88 98.86\" style=\"enable-background:new 0 0 122.88 98.86\" xml:space=\"preserve\"><style type=\"text/css\">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class=\"st0\" d=\"M0,49.43l48.93,49.43V74.23c30.94-6.41,55.39,0.66,73.95,24.19c-3.22-48.4-36.29-71.76-73.95-73.31V0L0,49.43 L0,49.43L0,49.43z\"/></g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.BACK' | translate }}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n  </main>\r\n\r\n  <main class=\"main_cnt_blk action_btn_hght\" [style.display]=\"!showDiscountList ? 'block': 'none'\">\r\n    <section class=\"table_tab_parnt\">\r\n      <div class=\"disnt_parnt_blk\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12\">\r\n            <div class=\"disnt_parnt_inr\">\r\n              <div class=\"blue_main_parnt\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-6 col-sm-4 col-lg-2\" *ngIf=\"posCheck\">\r\n                    <label>Debit total</label>\r\n                    {{ posCheck.dr_total }}\r\n                  </div>\r\n                  <div class=\"col-6 col-sm-4 col-lg-2\" *ngIf=\"posCheck\">\r\n                    <label>Credit total</label>\r\n                    {{ posCheck.cr_total }}\r\n                  </div>\r\n                  <div class=\"col-6 col-sm-4 col-lg-2\" *ngIf=\"posCheck\">\r\n                    <label>Opened on</label>\r\n                    {{ posCheck.open_time | date: 'dd MMM yyyy hh:mm' }}\r\n                  </div>\r\n                  <div class=\"col-6 col-sm-4 col-lg-2\" *ngIf=\"posCheck\">\r\n                    <label>Bill no</label>\r\n                    {{ posCheck.check_no }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"disnt_inr_blk\">\r\n                <div class=\"row\"\r\n                  *ngIf=\"posCheck && posCheck.pos_check_charges && posCheck.pos_check_charges.length > 0\">\r\n                  <div class=\"col-sm-6 col-md-4 col-lg-3 mb-15\" *ngFor=\"let charge of posCheck.pos_check_charges\">\r\n                    <div class=\"discnt_blk\">\r\n                      <!-- <div class=\"generic_chckbx_blk discnt_chckbx\">\r\n                          <div class=\"chckbx_inr\">\r\n                            <input [id]=\"charge.id\" type=\"checkbox\" name=\"checkbox\" class=\"form-control chckbx_btn\">\r\n                            <label [for]=\"charge.id\" class=\"chckbx_label\"></label>\r\n                          </div>\r\n                        </div> -->\r\n                      <ul>\r\n                        <li>\r\n                          <span>Account:</span>\r\n                          <label>{{ charge.description }}</label>\r\n                        </li>\r\n                        <li>\r\n                          <span>Total:</span>\r\n                          <label>{{ charge.amount }}</label>\r\n                        </li>\r\n                        <li>\r\n                          <span>Discount percent:</span>\r\n                          <input type=\"number\"\r\n                            [value]=\"charge.discount && charge.discount.length > 0 ? charge.discount[0].discount_percent : ''\"\r\n                            (change)=\"applyDiscount($event.target.value, true, charge)\"\r\n                            (click)=\"openKeyboard($event)\" />%\r\n                        </li>\r\n                        <li>\r\n                          <span>Discount amount:</span>\r\n                          <input type=\"number\"\r\n                            [value]=\"charge.discount && charge.discount.length > 0 ? charge.discount[0].discount_amount : ''\"\r\n                            (change)=\"applyDiscount($event.target.value, false, charge)\"\r\n                            (click)=\"openKeyboard($event)\" />\r\n                        </li>\r\n                        <li *ngIf=\"charge.pos_check_charge_discounts && charge.pos_check_charge_discounts.length > 0\">\r\n                          <span>Total Discount:</span>\r\n                          <label>{{ charge.pos_check_charge_discounts[0].amount }}</label>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <section class=\"action_btn_parnt\">\r\n      <ul>\r\n        <li (click)=\"onSaveDiscount()\">\r\n          <a href=\"javascript:void(0)\" class=\"form-control\" tabindex=\"0\">\r\n            <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.88 122.88\"><title>offer</title><path d=\"M13.7,49.54,8,33.63a3.47,3.47,0,0,1,2.1-4.44,3.93,3.93,0,0,1,.81-.18L27.3,27.3,29,10.79a3.47,3.47,0,0,1,3.81-3.1,2.9,2.9,0,0,1,.71.15l16,4.11L58.8,1.21A3.49,3.49,0,0,1,63.7.83a3.91,3.91,0,0,1,.61.68l9,12.17,15.91-5.8A3.48,3.48,0,0,1,93.69,10a3.44,3.44,0,0,1,.19.83l1.7,16.51L112.09,29a3.47,3.47,0,0,1,2.71,5.09l-7.3,13.77,14,10.83a3.46,3.46,0,0,1,.62,4.87,3.18,3.18,0,0,1-.72.7L109.2,73.33,115,89.24a3.48,3.48,0,0,1-2.08,4.45,3.44,3.44,0,0,1-.83.19l-16.51,1.7L93.88,112a3.48,3.48,0,0,1-3.81,3.1,3.61,3.61,0,0,1-1.27-.38L75,107.49l-10.85,14a3.46,3.46,0,0,1-5.57-.1l-9.08-12.25-15.91,5.74A3.47,3.47,0,0,1,29,112.05L27.3,97.29,10.53,93.82a3.46,3.46,0,0,1-2.7-4.09A2.62,2.62,0,0,1,8,89.11L13.7,73.34,1.4,64.23a3.48,3.48,0,0,1-.72-4.86,3.42,3.42,0,0,1,.77-.75L13.7,49.54Zm62.39-6.2L55.66,78.86a6.86,6.86,0,0,1-.67,1,2.76,2.76,0,0,1-.82.71,3.14,3.14,0,0,1-1.1.31,10.25,10.25,0,0,1-1.31.07H47.9a1.16,1.16,0,0,1-1.16-1.15,1.18,1.18,0,0,1,.21-.67L67.39,43.57a7.2,7.2,0,0,1,.65-1l0-.06a2.84,2.84,0,0,1,.78-.65A3.15,3.15,0,0,1,70,41.59h0a10,10,0,0,1,1.29-.07h3.85a1.16,1.16,0,0,1,1.16,1.15,1.18,1.18,0,0,1-.21.67Zm-7.4,36.07c-1.72-1.8-2.59-4.56-2.59-8.28s.87-6.48,2.59-8.28,4.52-2.7,8.4-2.7,6.68.9,8.4,2.7,2.58,4.56,2.58,8.28-.86,6.48-2.58,8.28-4.52,2.7-8.4,2.7-6.68-.9-8.4-2.7Zm6-11.44v8h1.3a16.21,16.21,0,0,0,3.27-.26c.22-.18.33-.67.33-1.46v-8h-3a3,3,0,0,0-1.58.26c-.21.18-.32.67-.32,1.46ZM37.39,60q-2.58-2.7-2.58-8.28t2.58-8.28q2.58-2.7,8.4-2.7t8.4,2.7q2.58,2.7,2.58,8.28T54.19,60q-2.58,2.7-8.4,2.7T37.39,60Zm6-11.44v8h3a2.93,2.93,0,0,0,1.57-.27c.22-.18.33-.67.33-1.46v-8H46.93a15.28,15.28,0,0,0-3.26.27c-.22.17-.33.66-.33,1.45ZM16,35.46l5,14a3.48,3.48,0,0,1-1.14,4.13L9.3,61.44,19.9,69.3a3.48,3.48,0,0,1,1.2,4L15.84,87.84,31,91a3.48,3.48,0,0,1,3,3.05l1.49,12.9,14.05-5.06A3.47,3.47,0,0,1,53.59,103l7.91,10.68,9.74-12.61A3.48,3.48,0,0,1,75.69,100l11.81,6.21L89,92.1A3.47,3.47,0,0,1,92.06,89L107,87.43,101.8,73.32a3.46,3.46,0,0,1,1.18-4l10.67-7.92-12.52-9.67A3.5,3.5,0,0,1,100,47.18l6.26-11.8L92.1,33.93A3.48,3.48,0,0,1,89,30.82L87.43,15.93,73.32,21.08a3.48,3.48,0,0,1-4-1.18L61.24,9l-7.8,9.07a3.48,3.48,0,0,1-3.5,1.1L35.5,15.5,33.92,30.78a3.47,3.47,0,0,1-3.1,3.14L16,35.46Z\"/>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.DISCOUNT' | translate }}\r\n          </a>\r\n        </li>\r\n        <li (click)=\"onBackClick()\">\r\n          <a href=\"javascript:void(0)\" class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 122.88 98.86\" style=\"enable-background:new 0 0 122.88 98.86\" xml:space=\"preserve\"><style type=\"text/css\">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class=\"st0\" d=\"M0,49.43l48.93,49.43V74.23c30.94-6.41,55.39,0.66,73.95,24.19c-3.22-48.4-36.29-71.76-73.95-73.31V0L0,49.43 L0,49.43L0,49.43z\"/></g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.BACK' | translate }}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n\r\n    <!-- SOF Common keyboard html -->\r\n    <app-qwerty-keyboard></app-qwerty-keyboard>\r\n    <!-- EOF Common keyboard html -->\r\n  </main>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { KotService } from '../../services/kot.service';\r\nimport { AlertService } from '../../services/alert.service';\r\nimport { PosCheck } from '../../models/pos-check.model';\r\nimport { environment } from 'projects/pos/src/environments/environment';\r\n//import { ActionCableService, Channel } from 'angular2-actioncable';\r\n//import * as ActionCable from 'actioncable';\r\nimport { Subscription } from 'rxjs';\r\nimport { PosOrderStatus } from '../../models/pos-order-status.model';\r\nimport { ActionCableService } from '../../services/action-cable.service';\r\nimport { PosCheckDetail } from '../../models/pos-check-detail.model';\r\nimport { User } from '../../models/user.model';\r\n\r\n@Component({\r\n  selector: 'app-kot',\r\n  templateUrl: './kot.component.html',\r\n  styles: [`\r\n    .kot_menu_detls .kot_item_detls ul {\r\n      width: 100% !important;\r\n    }\r\n\r\n    .dx-template-wrapper {\r\n      margin-top: -10px !important;\r\n    }\r\n  `]\r\n})\r\nexport class KotComponent implements OnInit {\r\n  outletId: string = \"\";\r\n  businessDate: Date;\r\n  subscription: Subscription;\r\n  checkList: PosCheck[] = [];\r\n  allKotList: any[] = [];\r\n  pendingKotList: any[] = [];\r\n  orderStatusList: PosOrderStatus[] = [];\r\n  POS_ORDER_STATUS_NEW: string = environment.POS_ORDER_STATUS_NEW.toUpperCase();\r\n  POS_ORDER_STATUS_ACKNOWLEDGE: string = environment.POS_ORDER_STATUS_ACKNOWLEDGE.toUpperCase();\r\n  POS_ORDER_STATUS_CANCEL: string = environment.POS_ORDER_STATUS_CANCEL.toUpperCase();\r\n  POS_ORDER_STATUS_IN_PROGRESS: string = environment.POS_ORDER_STATUS_IN_PROGRESS.toUpperCase();\r\n  POS_ORDER_STATUS_FOOD_COMPLETED: string = environment.POS_ORDER_STATUS_FOOD_COMPLETED.toUpperCase();\r\n  POS_ORDER_STATUS_FOOD_READY: string = environment.POS_ORDER_STATUS_FOOD_READY.toUpperCase();\r\n  private consumer: any;\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private kotService: KotService,\r\n    private alertService: AlertService,\r\n    private cableService: ActionCableService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.outletId = this.activatedRoute.snapshot.params['outlet_id'];\r\n    this.getKotScreenChecks();\r\n    //this.subscribeKotChannel(this.outletId);\r\n\r\n    this.cableService.subscribeKotChannel(this.outletId);\r\n\r\n    const orderStatusData: PosOrderStatus[] = JSON.parse(localStorage.getItem(\"orderStatusData\"));\r\n    if (!orderStatusData) {\r\n      this.kotService.getOrderStatuses()\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          this.orderStatusList = data;\r\n        },\r\n        error: (error: any) => {\r\n          if(error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      this.orderStatusList = orderStatusData;\r\n    }\r\n  }\r\n\r\n  getKotScreenChecks() {\r\n    this.kotService.getKotScreenCheckDetails(this.outletId)\r\n    .subscribe({\r\n      next: (data: PosCheck[]) => {\r\n        this.checkList = data;\r\n        this.mapKOTData();\r\n      },\r\n      error: (error: any) => {\r\n        if(error.errors && error.errors.length > 0) {\r\n          this.alertService.error(error.errors[0]);\r\n        } else {\r\n          this.alertService.error(error);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  onBackClick(): void {\r\n    this.router.navigate(['/table-layout/' + this.outletId]);\r\n  }\r\n\r\n  setClasses(statusCode: string): string {\r\n    let className: string = \"\";\r\n\r\n    switch(statusCode.toUpperCase()) {\r\n      case environment.POS_ORDER_STATUS_NEW.toUpperCase() :\r\n        className = \"\";\r\n      break;\r\n      case environment.POS_ORDER_STATUS_ACKNOWLEDGE.toUpperCase() :\r\n        className = \"\";\r\n      break;\r\n      case environment.POS_ORDER_STATUS_CANCEL.toUpperCase() :\r\n        className = \"kot_cncld\";\r\n      break;\r\n      case environment.POS_ORDER_STATUS_FOOD_COMPLETED.toUpperCase() :\r\n        className = \"food_cmplte\";\r\n      break;\r\n      case environment.POS_ORDER_STATUS_FOOD_READY.toUpperCase() :\r\n        className = \"ready_cls\";\r\n      break;\r\n      case environment.POS_ORDER_STATUS_IN_PROGRESS.toUpperCase() :\r\n        className = \"in_prg_cls quadrat\";\r\n      break;\r\n    }\r\n    return className;\r\n  }\r\n\r\n  mapKOTData() {\r\n    this.allKotList = [];\r\n    this.pendingKotList = [];\r\n\r\n    if(this.checkList && this.checkList.length > 0) {\r\n      this.checkList.forEach(check => {\r\n        check.pos_check_details.forEach(details => {\r\n          let objKot =  {};\r\n          objKot[\"check_no\"] = check.check_no;\r\n          objKot[\"kot_number\"] = details.kot_no;\r\n          objKot[\"id\"] = details.id;\r\n          objKot[\"pos_check_id\"] = details.pos_check_id;\r\n          objKot[\"pos_item_id\"] = details.pos_item_id;\r\n          objKot[\"kot_time\"] = details.system_time;\r\n          objKot[\"item_name\"] = details.item_description;\r\n          objKot[\"quantity\"] = details.quantity;\r\n          objKot[\"status_code\"] = details.order_status_code ? details.order_status_code : environment.POS_ORDER_STATUS_NEW.toUpperCase();\r\n          objKot[\"status\"] = details.order_status ? details.order_status : environment.POS_ORDER_STATUS_NEW.toUpperCase();\r\n\r\n          this.allKotList.push(objKot);\r\n          \r\n          if(objKot[\"status_code\"].toUpperCase() != environment.POS_ORDER_STATUS_CANCEL.toUpperCase() || objKot[\"status_code\"].toUpperCase() != environment.POS_ORDER_STATUS_FOOD_COMPLETED.toUpperCase()) {\r\n            this.pendingKotList.push(objKot);\r\n          } else {\r\n            // do not add to pending list\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  // subscribeKotChannel(outletId: string) {\r\n  //   const loadedUser: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n    \r\n  //   this.consumer = ActionCable.createConsumer(environment.ACTION_CABLE_ENPOINT + loadedUser.token);\r\n  //   console.log(\"Trying connection\");\r\n    \r\n  //   this.consumer.subscriptions.create(environment.KOT_SCREEN_CHANNEL +\"_\"+ outletId, {\r\n  //     connected() {\r\n  //       console.log(\"KOT Subscription is ready for use\");\r\n  //     },\r\n  //     disconnected() {\r\n  //       console.log(\"KOT Service terminated by WB server\");\r\n  //     },\r\n  //     received(data) {\r\n  //       if(data && data.pos_check_id) {\r\n  //         let isExistingCheck = this.checkList.filter(x => x.id == data.pos_check_id)[0];\r\n  \r\n  //         if(isExistingCheck) {\r\n  //           if(isExistingCheck.last_action.toUpperCase() == environment.LAST_ACTION_VOIDED.toUpperCase()) {\r\n  //             const index = this.checkList.findIndex(object => {\r\n  //               return object.id === data.pos_check_id;\r\n  //             });\r\n  \r\n  //             this.checkList.splice(index, 1);\r\n  //           } else {\r\n  //             let objItem = isExistingCheck.pos_check_details.filter(x => x.id == data.id && x.pos_item_id == data.pos_item_id)[0];\r\n  \r\n  //             if(objItem) {\r\n  //               const index = isExistingCheck.pos_check_details.findIndex(object => {\r\n  //                 return object.id === data.id;\r\n  //               });\r\n  \r\n  //               if(objItem.last_action.toUpperCase() == environment.LAST_ACTION_VOIDED.toUpperCase()) {\r\n  //                 //remove item - when last_action is voided\r\n  //                 isExistingCheck.pos_check_details.splice(index, 1);\r\n  //               } else {\r\n  //                 //update the status\r\n  //                 isExistingCheck.pos_check_details[index].order_status_code = data.status_code;\r\n  //               } \r\n  //             } else {\r\n  //               // new Item added\r\n  //               let newKotItem = new PosCheckDetail();\r\n  //               newKotItem.id = data.id;\r\n  //               newKotItem.pos_check_id = data.pos_check_id;\r\n  //               newKotItem.pos_item_id = data.pos_item_id;\r\n  //               newKotItem.order_status_code = data.status_code;\r\n  //               newKotItem.quantity = data.quantity;\r\n  //               newKotItem.item_description = data.pos_item_name;\r\n  //               isExistingCheck.pos_check_details.push(newKotItem);\r\n  \r\n  //               let objKot =  {};\r\n  //               objKot[\"id\"] = data.id;\r\n  //               objKot[\"pos_check_id\"] = data.pos_check_id;\r\n  //               objKot[\"pos_item_id\"] = data.pos_item_id;\r\n  //               objKot[\"item_name\"] = data.pos_item_name;\r\n  //               objKot[\"quantity\"] = data.quantity;\r\n  //               objKot[\"status_code\"] = data.status_code;\r\n  //               this.allKotList.push(objKot);\r\n  //               this.pendingKotList.push(objKot);\r\n  //             }\r\n  //           }\r\n  //         } else {\r\n  //           // new check raised\r\n  //           let newCheck = new PosCheck();\r\n  //           newCheck.id = data.pos_check_id;\r\n  //           newCheck.table_code = data.table_code;\r\n  //           newCheck.server_name = data.server;\r\n  //           newCheck.last_action = data.last_action;\r\n  \r\n  //           let detail = new PosCheckDetail();\r\n  //           detail.id = data.id;\r\n  //           detail.pos_check_id = data.pos_check_id;\r\n  //           detail.pos_item_id = data.pos_item_id;\r\n  //           detail.order_status_code = data.status_code;\r\n  //           detail.quantity = data.quantity;\r\n  //           detail.item_description = data.pos_item_name;\r\n  \r\n  //           newCheck.pos_check_details.push(detail);\r\n  //           this.checkList.push(newCheck)\r\n  \r\n  //           let objKot =  {};\r\n  //           objKot[\"id\"] = data.id;\r\n  //           objKot[\"pos_check_id\"] = data.pos_check_id;\r\n  //           objKot[\"pos_item_id\"] = data.pos_item_id;\r\n  //           objKot[\"item_name\"] = data.pos_item_name;\r\n  //           objKot[\"quantity\"] = data.quantity;\r\n  //           objKot[\"status_code\"] = data.status_code;\r\n  //           this.allKotList.push(objKot);\r\n  //           this.pendingKotList.push(objKot);\r\n  \r\n  //           // if((data.status_code && data.status_code.toUpperCase() != environment.POS_ORDER_STATUS_CANCEL)\r\n  //           // || (data.status_code && data.status_code.toUpperCase() != environment.POS_ORDER_STATUS_FOOD_COMPLETED)) {\r\n  //           //   this.pendingKotList.push(objKot);\r\n  //           // }\r\n  //         }\r\n  //       }\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  updateItemOrderStatus(data, nextStatus) {\r\n    //console.log(data);\r\n    let newStatus = this.orderStatusList.filter(x => x.code.toUpperCase() == nextStatus.toUpperCase())[0];\r\n    //console.log(newStatus.id)\r\n\r\n    let posCheck = {\r\n      id: data.pos_check_id,\r\n      pos_check_details_attributes: [{\r\n        id: data.id,\r\n        pos_check_id: data.pos_check_id,\r\n        pos_item_id: data.pos_item_id,\r\n        pos_order_status_id: newStatus.id\r\n      }]\r\n    }\r\n\r\n    this.kotService.updateOrderStatus(posCheck).subscribe({\r\n      next: (data: PosCheck) => {\r\n        const index = this.checkList.findIndex(object => {\r\n          return object.id === data[\"pos_check\"].id;\r\n        });\r\n        //remove first\r\n        this.checkList.splice(index, 1);\r\n\r\n        //Add updated check to same array\r\n        let updatedCheck = this.kotService.mapPosCheck(data[\"pos_check\"]);\r\n        this.checkList.push(updatedCheck);\r\n\r\n        this.mapKOTData();\r\n      },\r\n      error: (error: any) => {\r\n        if(error.errors && error.errors.length > 0) {\r\n          this.alertService.error(error.errors[0]);\r\n        } else {\r\n          this.alertService.error(error);\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"wrapg_blk\">\r\n  <app-header></app-header>\r\n\r\n  <!-- SOF Sub-header HTML -->\r\n  <div class=\"sub_header_parnt menu_sub_hdr\">\r\n    <div class=\"sub_header_inr only_page_name\">\r\n      <h2 class=\"page_name\">KOT details</h2>\r\n    </div>\r\n    <app-business-date></app-business-date>\r\n  </div>\r\n  <!-- EOF Sub-header HTML -->\r\n\r\n  <main class=\"main_cnt_blk\">\r\n    <section class=\"table_tab_parnt\">\r\n      <div class=\"kot_details_blk\">\r\n        <div class=\"kot_details_inr\">\r\n          <ul class=\"nav nav-tabs list_grd_tab\" id=\"viewTab\" role=\"tablist\">\r\n            <label>Select view type</label>\r\n            <li class=\"nav-item\" role=\"presentation\">\r\n              <button class=\"btn nav-link active\" id=\"list-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#list-tab-pane\"\r\n                type=\"button\" role=\"tab\" aria-controls=\"list-tab-pane\" aria-selected=\"true\"><i\r\n                  class=\"bi bi-list\"></i></button>\r\n            </li>\r\n            <li class=\"nav-item\" role=\"presentation\">\r\n              <button class=\"btn nav-link\" id=\"grid-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#grid-tab-pane\"\r\n                type=\"button\" role=\"tab\" aria-controls=\"grid-tab-pane\" aria-selected=\"false\"><i\r\n                  class=\"bi bi-grid-3x3-gap-fill\"></i></button>\r\n            </li>\r\n          </ul>\r\n          <div class=\"tab-content\" id=\"viewTabContent\">\r\n            <div class=\"tab-pane fade show active\" id=\"list-tab-pane\" role=\"tabpanel\" aria-labelledby=\"list-tab\"\r\n              tabindex=\"0\">\r\n              <ul class=\"nav nav-tabs kot_tabs\" id=\"myTab\" role=\"tablist\">\r\n                <li class=\"nav-item\" role=\"presentation\">\r\n                  <button class=\"nav-link\" id=\"all-kot-tab\" data-bs-toggle=\"tab\"\r\n                    data-bs-target=\"#all-kot-tab-pane\" type=\"button\" role=\"tab\" aria-controls=\"all-kot-tab-pane\"\r\n                    aria-selected=\"false\"><i class=\"bi bi-list-ul\"></i>All KOT</button>\r\n                </li>\r\n                <li class=\"nav-item\" role=\"presentation\">\r\n                  <button class=\"nav-link active\" id=\"pending-kot-tab\" data-bs-toggle=\"tab\"\r\n                    data-bs-target=\"#pending-kot-tab-pane\" type=\"button\" role=\"tab\" aria-controls=\"pending-kot-tab-pane\"\r\n                    aria-selected=\"true\"><i class=\"bi bi-hourglass-split\"></i>Pending KOT</button>\r\n                </li>\r\n              </ul>\r\n              <div class=\"tab-content\" id=\"myTabContent\">\r\n                <div class=\"tab-pane fade\" id=\"all-kot-tab-pane\" role=\"tabpanel\"\r\n                  aria-labelledby=\"all-kot-tab\" tabindex=\"0\">\r\n                  <div class=\"grd_parnt_blk\">\r\n                    <div class=\"dev_grd_blk demo-container \">\r\n                      <div id=\"grid\">\r\n                        <dx-data-grid id=\"gridAllKot\" [dataSource]=\"allKotList\" keyExpr=\"id\" [showBorders]=\"false\"\r\n                          [showColumnHeaders]=\"true\" [showRowLines]=\"true\" [showColumnLines]=\"true\">\r\n                          <dxo-paging [enabled]=\"true\" [pageSize]=\"10\"></dxo-paging>\r\n                          <dxo-pager [showNavigationButtons]=\"true\" [showPageSizeSelector]=\"false\"\r\n                            [visible]=\"true\"></dxo-pager>\r\n                          <dxo-selection mode=\"single\"></dxo-selection>\r\n                          <dxo-filter-row [visible]=\"true\"></dxo-filter-row>\r\n                          <dxo-scrolling mode=\"standard\"></dxo-scrolling>\r\n                          <dxo-editing mode=\"cell\" [allowUpdating]=\"false\">\r\n                          </dxo-editing>\r\n                          <dxi-column dataField=\"id\" [visible]=\"false\"></dxi-column>\r\n                          <dxi-column dataField=\"pos_check_id\" [visible]=\"false\"></dxi-column>\r\n                          <dxi-column dataField=\"pos_item_id\" [visible]=\"false\"></dxi-column>\r\n                         \r\n                          <dxi-column dataField=\"kot_number\" caption=\"{{ 'COMMON_LABEL.KOT_NUMBER' | translate }}\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"kot_time\" caption=\"{{ 'COMMON_LABEL.KOT_TIME' | translate }}\"\r\n                            dataType=\"date\" format=\"dd/MM/yyyy hh:mm\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"check_no\" caption=\"{{ 'COMMON_LABEL.BILL_NUMBER' | translate }}\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"item_name\" caption=\"{{ 'COMMON_LABEL.ITEM_NAME' | translate }}\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"quantity\" caption=\"{{ 'COMMON_LABEL.QUANTITY' | translate }}\" width=\"10%\" alignment=\"right\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"status\" caption=\"{{ 'COMMON_LABEL.CURRENT_STATUS' | translate }}\" alignment=\"left\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"status_code\" [visible]=\"false\">\r\n                          </dxi-column>\r\n                          <dxi-column cellTemplate=\"cellTemplate\" [allowFiltering]=\"false\"\r\n                            caption=\"Action\" alignment=\"left\" cssClass=\"padg_less\">\r\n                          </dxi-column>\r\n                          <div *dxTemplate=\"let data of 'cellTemplate'\">\r\n                              <a href=\"javascript:void(0)\" class=\"acknwdgeIcon\" title=\"{{ 'COMMON_LABEL.ACKNOWLEDGE' | translate }}\"\r\n                                *ngIf=\"data.data.status_code == POS_ORDER_STATUS_NEW\"\r\n                                (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_ACKNOWLEDGE)\">\r\n                                <i class=\"acknwdge_grd_icn\"></i>\r\n                              </a>\r\n                              <a href=\"javascript:void(0)\" class=\"cancelIcon\" title=\"{{ 'COMMON_LABEL.CANCEL' | translate }}\"\r\n                                *ngIf=\"data.data.status_code == POS_ORDER_STATUS_NEW\"\r\n                                (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_CANCEL)\">\r\n                                <i class=\"cancl_grd_icn\"></i>\r\n                              </a>\r\n                              <a href=\"javascript:void(0)\" class=\"inProgressIcon\" title=\"{{ 'COMMON_LABEL.IN_PROGRESS' | translate }}\" \r\n                                *ngIf=\"data.data.status_code == POS_ORDER_STATUS_ACKNOWLEDGE\"\r\n                                (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_IN_PROGRESS)\">\r\n                                <i class=\"in_prg_grd_icn\"></i>\r\n                              </a>\r\n                              <a href=\"javascript:void(0)\" class=\"foodReadyIcon\" title=\"{{ 'COMMON_LABEL.FOOD_READY' | translate }}\" \r\n                                *ngIf=\"data.data.status_code == POS_ORDER_STATUS_IN_PROGRESS\"\r\n                                (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_FOOD_READY)\">\r\n                                <i class=\"food_redy_grd_icn\"></i>\r\n                              </a>\r\n                              <a href=\"javascript:void(0)\" class=\"foodCompleteIcon\" title=\"{{ 'COMMON_LABEL.FOOD_COMPLETE' | translate }}\" \r\n                                *ngIf=\"data.data.status_code == POS_ORDER_STATUS_FOOD_READY\"\r\n                                (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_FOOD_COMPLETED)\">\r\n                                <i class=\"food_complt_grd_icn\"></i>\r\n                              </a>\r\n                          </div>\r\n                        </dx-data-grid>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"tab-pane fade show active\" id=\"pending-kot-tab-pane\" role=\"tabpanel\" aria-labelledby=\"pending-kot-tab\"\r\n                  tabindex=\"0\">\r\n                  <div class=\"grd_parnt_blk\">\r\n                    <div class=\"dx-viewport demo-container\">\r\n                      <div id=\"grid1\">\r\n                        <dx-data-grid id=\"gridPendingKot\" [dataSource]=\"pendingKotList\" keyExpr=\"id\" [showBorders]=\"false\"\r\n                          [showColumnHeaders]=\"true\" [showRowLines]=\"true\" [showColumnLines]=\"true\">\r\n                          <dxo-paging [enabled]=\"true\" [pageSize]=\"10\"></dxo-paging>\r\n                          <dxo-pager [showNavigationButtons]=\"true\" [showPageSizeSelector]=\"false\"\r\n                            [visible]=\"true\"></dxo-pager>\r\n                          <dxo-selection mode=\"single\"></dxo-selection>\r\n                          <dxo-scrolling mode=\"standard\"></dxo-scrolling>\r\n                          <dxo-filter-row [visible]=\"true\"></dxo-filter-row>\r\n                          <dxo-editing mode=\"cell\" [allowUpdating]=\"false\">\r\n                          </dxo-editing>\r\n                          <dxi-column dataField=\"id\" [visible]=\"false\"></dxi-column>\r\n                          <dxi-column dataField=\"pos_check_id\" [visible]=\"false\"></dxi-column>\r\n                          <dxi-column dataField=\"pos_item_id\" [visible]=\"false\"></dxi-column>\r\n                          <dxi-column dataField=\"kot_number\" caption=\"{{ 'COMMON_LABEL.KOT_NUMBER' | translate }}\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"kot_time\" caption=\"{{ 'COMMON_LABEL.KOT_TIME' | translate }}\"\r\n                            dataType=\"date\" format=\"dd/MM/yyyy hh:mm\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"check_no\" caption=\"{{ 'COMMON_LABEL.BILL_NUMBER' | translate }}\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"item_name\" caption=\"{{ 'COMMON_LABEL.ITEM_NAME' | translate }}\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"quantity\" caption=\"{{ 'COMMON_LABEL.QUANTITY' | translate }}\" width=\"10%\" alignment=\"right\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"status\" caption=\"{{ 'COMMON_LABEL.CURRENT_STATUS' | translate }}\" alignment=\"left\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"status_code\" [visible]=\"false\">\r\n                          </dxi-column>\r\n                          <dxi-column cellTemplate=\"cellTemplate\" [allowFiltering]=\"false\"\r\n                            caption=\"Action\" alignment=\"left\" cssClass=\"padg_less\">\r\n                          </dxi-column>\r\n                          <div *dxTemplate=\"let data of 'cellTemplate'\">\r\n                            <a href=\"javascript:void(0)\" class=\"acknwdgeIcon\" title=\"{{ 'COMMON_LABEL.ACKNOWLEDGE' | translate }}\"\r\n                              *ngIf=\"data.data.status_code == POS_ORDER_STATUS_NEW\"\r\n                              (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_ACKNOWLEDGE)\">\r\n                              <i class=\"acknwdge_grd_icn\"></i>\r\n                            </a>\r\n                            <a href=\"javascript:void(0)\" class=\"cancelIcon\" title=\"{{ 'COMMON_LABEL.CANCEL' | translate }}\"\r\n                              *ngIf=\"data.data.status_code == POS_ORDER_STATUS_NEW\"\r\n                              (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_CANCEL)\">\r\n                              <i class=\"cancl_grd_icn\"></i>\r\n                            </a>\r\n                            <a href=\"javascript:void(0)\" class=\"inProgressIcon\" title=\"{{ 'COMMON_LABEL.IN_PROGRESS' | translate }}\" \r\n                              *ngIf=\"data.data.status_code == POS_ORDER_STATUS_ACKNOWLEDGE\"\r\n                              (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_IN_PROGRESS)\">\r\n                              <i class=\"in_prg_grd_icn\"></i>\r\n                            </a>\r\n                            <a href=\"javascript:void(0)\" class=\"foodReadyIcon\" title=\"{{ 'COMMON_LABEL.FOOD_READY' | translate }}\" \r\n                              *ngIf=\"data.data.status_code == POS_ORDER_STATUS_IN_PROGRESS\"\r\n                              (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_FOOD_READY)\">\r\n                              <i class=\"food_redy_grd_icn\"></i>\r\n                            </a>\r\n                            <a href=\"javascript:void(0)\" class=\"foodCompleteIcon\" title=\"{{ 'COMMON_LABEL.FOOD_COMPLETE' | translate }}\" \r\n                              *ngIf=\"data.data.status_code == POS_ORDER_STATUS_FOOD_READY\"\r\n                              (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_FOOD_COMPLETED)\">\r\n                              <i class=\"food_complt_grd_icn\"></i>\r\n                            </a>\r\n                          </div>\r\n                        </dx-data-grid>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"tab-pane fade kot_grd_tab_ctnt\" id=\"grid-tab-pane\" role=\"tabpanel\" aria-labelledby=\"grid-tab\"\r\n              tabindex=\"0\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-6 col-lg-4 col-xxl-3\" *ngFor=\"let check of checkList\">\r\n                  <div class=\"kot_menu_detls\">\r\n                    <div class=\"kot_menu_head\">\r\n                      <div class=\"kot_tbl_no\">\r\n                        <label>Table: {{ check.table_code }}</label>\r\n                        <label class=\"seprator\" *ngIf=\"check.covers\"></label>\r\n                        <label *ngIf=\"check.covers\">C: {{ check.covers }}</label>\r\n                      </div>\r\n                      <div class=\"waiter_name\">Server: {{ check.server_name }}</div>\r\n                    </div>\r\n                    <div class=\"kot_qty_head\">\r\n                      <ul>\r\n                        <li>Qty</li>\r\n                        <li>Item</li>\r\n                        <li>Status</li>\r\n                      </ul>\r\n                    </div>\r\n                    <div class=\"kot_item_detls\">\r\n                      <ul *ngIf=\"check.pos_check_details && check.pos_check_details.length > 0\">\r\n                        <ng-container *ngFor=\"let item of check.pos_check_details\">\r\n                          <li [ngClass]=\"setClasses(item.order_status_code)\">\r\n                            <span>{{ item.quantity }}</span>\r\n                            <span>{{ item.item_description }}\r\n                              <ng-container\r\n                                *ngIf=\"item.pos_check_detail_modifiers && item.pos_check_detail_modifiers.length > 0\">\r\n                                <label *ngFor=\"let modifier of item.pos_check_detail_modifiers\">\r\n                                  <i class=\"fa fa-hand-o-right\" aria-hidden=\"true\"></i>{{\r\n                                  modifier.modifier_name_on_check }}\r\n                                </label>\r\n                              </ng-container>\r\n                              <ng-container\r\n                                *ngIf=\"item.order_status_code.toUpperCase() === 'NEW' || item.order_status_code.toUpperCase() === ''\">\r\n                                <label><button class=\"btn kot_green_btn\"><i class=\"bi bi-check2\"></i></button>\r\n                                  <button class=\"btn kot_red_btn\"><i class=\"bi bi-x\"></i></button>\r\n                                </label>\r\n                              </ng-container>\r\n                            </span>\r\n                            <!-- <span>\r\n                              <button class=\"btn kot_status kot_cncld_icn\"></button>\r\n                            </span>\r\n                            <span><button class=\"btn kot_status kot_new_icn\"></button></span> -->\r\n                          </li>\r\n                        </ng-container>\r\n                      </ul>\r\n                    </div>\r\n                    <div class=\"kot_footr\">\r\n                      <div class=\"row\">\r\n                        <div class=\"col\">KOT {{ check.pos_check_details.length }}</div>\r\n                        <div class=\"col\">\r\n                          <span class=\"kot_crcl white_crcl\"></span>16\r\n                        </div>\r\n                        <div class=\"col\">\r\n                          <span class=\"kot_crcl yellw_crcl\"></span>1\r\n                        </div>\r\n                        <div class=\"col\">\r\n                          <span class=\"kot_crcl green_crcl\"></span>1\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <section class=\"action_btn_parnt\">\r\n      <ul>\r\n        <li (click)=\"onBackClick()\">\r\n          <a href=\"javascript:void(0)\" class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\"\r\n              y=\"0px\" viewBox=\"0 0 122.88 98.86\" style=\"enable-background:new 0 0 122.88 98.86\" xml:space=\"preserve\">\r\n              <g>\r\n                <path\r\n                  d=\"M0,49.43l48.93,49.43V74.23c30.94-6.41,55.39,0.66,73.95,24.19c-3.22-48.4-36.29-71.76-73.95-73.31V0L0,49.43 L0,49.43L0,49.43z\" />\r\n              </g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.BACK' | translate }}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n  </main>\r\n</div>","import { Component, OnInit, ElementRef, ViewChild, ChangeDetectorRef, AfterViewInit, OnDestroy } from '@angular/core';\r\nimport { PosItemMenuService } from '../../services/pos-item-menu.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { OutletSetting } from '../../models/outlet-setting.model';\r\nimport { PosItemMenu } from '../../models/pos-item-menu.model';\r\nimport { PosMenuHeader } from '../../models/pos-menu-header.model';\r\nimport { TableLayout } from '../../models/table-layout.model';\r\nimport { PosCheck } from '../../models/pos-check.model';\r\nimport { TableLayoutService } from '../../services/table-layout.service';\r\nimport { environment } from '../../../environments/environment';\r\nimport { PointerService } from '../../services/pointer.service';\r\nimport { PosCheckService } from '../../services/pos-check.service';\r\nimport { PosCheckDetail } from '../../models/pos-check-detail.model';\r\nimport { CommonService } from '../../services/common.service';\r\nimport { ChargeService } from '../../services/charge.service';\r\nimport { OutletService } from '../../services/outlet.service';\r\nimport { Charge } from '../../models/charge.model';\r\nimport { PosItemModifier } from '../../models/pos-item-modifier.model';\r\nimport { PosMenuRestaurant } from '../../models/pos-menu-restaurant.model';\r\nimport { PosRestaurant } from '../../models/pos-restaurant.model';\r\nimport { PosCheckDetailModifier } from '../../models/pos-check-detail-modifier.model';\r\nimport { VoidReason } from '../../models/void-reason.model';\r\nimport { VoidReasonService } from '../../services/void-reason.service';\r\nimport { AlertService } from '../../services/alert.service';\r\nimport { User } from '../../models/user.model';\r\nimport { MemberSearchService } from '../../services/member-search.service';\r\nimport { DebitCardsService } from '../../services/debit-cards.service';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { ViewportScroller } from '@angular/common';\r\nimport CustomStore from 'devextreme/data/custom_store';\r\nimport { HttpClient, HttpHeaders, HttpParams, HttpXhrBackend } from '@angular/common/http';\r\nimport { lastValueFrom } from 'rxjs';\r\nimport { saveAs } from 'file-saver';\r\nimport { RoomService } from '../../services/room.service';\r\nimport { Modal } from 'bootstrap';\r\nimport { OutletBilling } from '../../models/outlet-billing.model';\r\ndeclare function enableMenuHeadTab(): any;\r\ndeclare function initializeKeyboard(event): any;\r\ndeclare var Stimulsoft: any;\r\ndeclare var saveReportPdf: any;\r\ndeclare function functionExpandCollapse(): any;\r\n\r\n@Component({\r\n  selector: 'app-place-order',\r\n  templateUrl: './place-order.component.html'\r\n})\r\nexport class PlaceOrderComponent implements OnInit, AfterViewInit {\r\n  inputControl = new FormControl('');\r\n  memberSearchForm!: FormGroup;\r\n  outletId: string = \"\";\r\n  defaultMenuId: string = \"\";\r\n  currentMenuItems: PosItemMenu[] = [];\r\n  posItemModifiers: PosItemModifier[] = [];\r\n  menuHeaders: PosMenuHeader[] = [];\r\n  searchItemList: any[] = [];\r\n  tableCode: string = \"\";\r\n  posCheck: PosCheck = new PosCheck();\r\n  layout: TableLayout;\r\n  businessDate: string = \"\";\r\n  currentUserShift: number;\r\n  posCheckId: string = \"\";\r\n  selectedItemFromKotWindow: PosCheckDetail;\r\n  isOpenItem = environment.POS_IC_OPEN_ITEM;\r\n  posMenuRestaurants: PosMenuRestaurant[] = [];\r\n  showOtherMenu: boolean = false;\r\n  showItemAddOns: boolean = false;\r\n  selectedItemModifier: PosItemModifier[] = [];\r\n  decimalPlace: number = this.pointerService.getDecimalPlaceValue();\r\n  selectedItemVoidQtyDropdownOption: number = 1;\r\n  voidReasonList: VoidReason[] = [];\r\n  maxChars: number = 150;\r\n  voidReasonNote: string = \"\";\r\n  selectedVoidQty: number = 1;\r\n  selectedVoidReason: number = null;\r\n  currencySymbol: string = \"\";\r\n  otherAddOnText: string = \"\";\r\n  otherAddOnPrice: number = 0;\r\n  openItemText: string = \"\";\r\n  options: any = new Stimulsoft.Viewer.StiViewerOptions();\r\n  viewer: any = new Stimulsoft.Viewer.StiViewer(this.options, 'StiViewer', false);\r\n  selectedMember: any = {};\r\n  blockedMemberSelection: any = {};\r\n  outletSettingData: OutletSetting[] = [];\r\n  currentOutletSettings: any;\r\n  @ViewChild('closeBtn1') closeBtn1: ElementRef;\r\n  debitCardDetails: any = [];\r\n  posKitchens: any;\r\n  debitCardNumber: any;\r\n  pointersData: any;\r\n  isRoomServiceOutlet: boolean = false;\r\n  canPrintSettledBill: boolean = false;\r\n  canReprintBill: boolean = false;\r\n  currentShift: number;\r\n  isPrintCheck: boolean = true;\r\n  printCheckReport: any;\r\n  posCheckData: any;\r\n  oldCheckData: any;\r\n  @ViewChild('voidConfirmModal') voidConfirmModal!: ElementRef;\r\n  private modalResolve: ((value: boolean) => void) | null = null;\r\n  private modalInstance: any;\r\n  readonly allowedPageSizes = [5, 10, 25, 50, 100, 'aFll'];\r\n  readonly displayModes = [{ text: \"Display Mode 'full'\", value: 'full' }, { text: \"Display Mode 'compact'\", value: 'compact' }];\r\n  displayMode = 'full';\r\n  orderTypeArray: any[] = [{\r\n    order_type: \"Dine-in\", id: environment.POS_ORDER_TYPE_DINE_IN\r\n  }, {\r\n    order_type: \"Parcel\", id: environment.POS_ORDER_TYPE_TAKEAWAY\r\n  }, {\r\n    order_type: \"Delivery\", id: environment.POS_ORDER_TYPE_DELIVERY\r\n  }];\r\n  defaultOrderType = environment.POS_ORDER_TYPE_DINE_IN\r\n  guestData: any;\r\n  selected_room: any;\r\n  chargeTotal: any;\r\n  taxTotal: any;\r\n  discountTotal: any\r\n  tipsAmount: any\r\n  discountList: any = [];\r\n  membersDataArray: any = [];\r\n  balanceAmount: number = 0;\r\n\r\n\r\n  canVoidKOT: boolean = false;\r\n\r\n  @ViewChild(\"txtSearchInput\") txtSearchInput: ElementRef;\r\n  @ViewChild(\"scrollMe\") private myScrollContainer: ElementRef;\r\n  @ViewChild('search') search: ElementRef;\r\n  @ViewChild('closeVRModalBtn') closeBtn: ElementRef;\r\n  @ViewChild('closeOtherAddOnModalBtn') closeOtherAddOn: ElementRef;\r\n  @ViewChild('closeOpenItemModalBtn') closeOpenItem: ElementRef;\r\n\r\n  constructor(private posItemMenuService: PosItemMenuService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private tableLayoutService: TableLayoutService,\r\n    private posCheckService: PosCheckService,\r\n    private commonService: CommonService,\r\n    private chargeService: ChargeService,\r\n    private outletService: OutletService,\r\n    private pointerService: PointerService,\r\n    private voidReasonService: VoidReasonService,\r\n    private changeDetector: ChangeDetectorRef,\r\n    private formBuilder: FormBuilder,\r\n    private alertService: AlertService,\r\n    private memberSearchService: MemberSearchService,\r\n    private viewportScroller: ViewportScroller,\r\n    private debitCardService: DebitCardsService,\r\n    private roomService: RoomService,\r\n    private authService: AuthService) { }\r\n\r\n  private async handleWithModalConfirmation(Oldids: any, voidMarkedItems: any, allPOItems: any): Promise<void> {\r\n    const voidCheckInd = await this.showConfirmationModal();\r\n    if (voidCheckInd) {\r\n      this.isPrintCheck = false;\r\n      this.printCheck();\r\n      setTimeout(() => {\r\n        this.processOrder(Oldids, voidMarkedItems, allPOItems, true);\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  private showConfirmationModal(): Promise<boolean> {\r\n    return new Promise((resolve) => {\r\n      this.modalResolve = resolve;\r\n      this.modalInstance = new Modal(this.voidConfirmModal.nativeElement);\r\n      this.modalInstance.show();\r\n    });\r\n  }\r\n\r\n  handleModalResponse(response: boolean): void {\r\n    if (this.modalResolve) {\r\n      this.modalResolve(response);\r\n      this.modalResolve = null;\r\n    }\r\n    this.modalInstance?.hide();\r\n  }\r\n\r\n\r\n  ngOnChanges(): void {\r\n    function isNotEmpty(value: any): boolean {\r\n      return value !== undefined && value !== null && value !== '';\r\n    }\r\n\r\n    // code for getting members by server side pagination\r\n    const user = this.authService.userValue;\r\n    let pointers = JSON.parse(localStorage.getItem('pointerData'));\r\n    let businessDate = pointers.filter(res => res.code == \"BUSI\")[0]?.pointer_value;\r\n    let key_organisation = pointers.filter(x => x.code === 'CL_CLUBID')[0].pointer_value;\r\n    let firstName = this.memberSearchForm.value.firstName;\r\n    let lastName = this.memberSearchForm.value.lastName;\r\n    let memberId = this.memberSearchForm.value.memberId;\r\n\r\n    this.membersDataArray = new CustomStore({\r\n      key: 'id',\r\n      load(loadOptions: any) {\r\n        let params: HttpParams = new HttpParams();\r\n        let skip: any;\r\n        let take: any;\r\n        [\r\n          'skip',\r\n          'take',\r\n        ].forEach((i) => {\r\n          if (i === 'skip') {\r\n            if (i in loadOptions && isNotEmpty(loadOptions[i])) {\r\n              skip = JSON.stringify(loadOptions[i]);\r\n              // params = params.set('per_page', JSON.stringify(loadOptions[i])); \r\n            }\r\n          } else if (i === 'take') {\r\n            if (i in loadOptions && isNotEmpty(loadOptions[i])) {\r\n              take = JSON.stringify(loadOptions[i]);\r\n            }\r\n          }\r\n        });\r\n        let pageIndex: any;\r\n        if (skip && take) {\r\n          pageIndex = (skip / take + 1);\r\n        }\r\n        if (memberId) {\r\n          params = params.set('key_like_membership_number', memberId).set(\"key_organisation\", key_organisation)\r\n        }\r\n        if (firstName) {\r\n          params = params.set('key_firstname', firstName)\r\n        }\r\n        if (lastName) {\r\n          params = params.set('key_lastname', lastName)\r\n        }\r\n        params = params.set('key_club_member_ind', true)\r\n\r\n        params = params.set('per_page', take);\r\n        params = params.set('page', pageIndex);\r\n        const httpClient = new HttpClient(new HttpXhrBackend({ build: () => new XMLHttpRequest() }))\r\n        let headers = new HttpHeaders();\r\n        headers = headers.set('Authorization', `Bearer ${user.token}`);\r\n\r\n        return lastValueFrom(httpClient.get(environment.APIENDPOINT + environment.ACCOUNT, { headers: headers, params }))\r\n          // return lastValueFrom(httpClient.get(environment.apiUrl + environment.accounts, { params }))\r\n          .then(function (response: any) {\r\n            return modifyData(response);\r\n          });\r\n\r\n        function modifyData(response: any): any {\r\n          let details: any = {\r\n            data: functionArrangeData(response),\r\n            totalCount: response.meta.pagination.total_objects,\r\n          }\r\n          return details;\r\n        }\r\n\r\n        function functionArrangeData(data) {\r\n          if (data.accounts && data.accounts.length > 0) {\r\n            let arrayOfMembers: any = [];\r\n            data.accounts.forEach((res: any) => {\r\n              let objMember = res;\r\n              objMember[\"id\"] = res.id;\r\n              objMember[\"account_id\"] = res.id;\r\n              objMember[\"membership_number\"] = res.account_affiliations[0]?.membership_number;\r\n              if (res.account_name) {\r\n                objMember[\"member_name\"] = res.account_name;\r\n              } else {\r\n                objMember[\"member_name\"] = res.title + \" \" + res.first_name + \" \" + res.last_name;\r\n              }\r\n              objMember[\"issue_date\"] = res.account_affiliations[0]?.issue_date;\r\n              objMember[\"birth_date\"] = res.birth_date;\r\n              objMember[\"expiry_date\"] = res.account_affiliations[0]?.expiry_date;\r\n              objMember[\"block_member_remark\"] = res.block_member_remark;\r\n              arrayOfMembers.push(objMember);\r\n            })\r\n            return arrayOfMembers;\r\n          }\r\n        }\r\n      },\r\n    });\r\n  }\r\n\r\n  onEnterKey(documentNumber?: any) {\r\n    let value: any;\r\n    if (documentNumber) {\r\n      value = documentNumber;\r\n    } else {\r\n      value = this.inputControl.value;\r\n    }\r\n    if (value?.trim()?.length > 5 && this.debitCardNumber != value?.trim()) {\r\n      this.debitCardDetails = {};\r\n      this.debitCardService.fetchDebitCardData(value)\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            this.membersDataArray = [];\r\n            this.memberSearchService.fetchMemberDetailsByDebitCard(value)\r\n              .subscribe({\r\n                next: (result: any) => {\r\n                  result = result?.accounts[0];\r\n                  if (result?.block_member_remark?.length > 0) {\r\n                    this.alertService.error(result?.title + \" \" + result?.first_name + \" \" + result?.last_name + \" \" + result?.block_member_remark);\r\n                    this.inputControl.setValue(\"\");\r\n                  } else {\r\n                    this.debitCardNumber = data?.debit_cards[0]?.debit_card_number;\r\n                    this.inputControl.setValue(data?.debit_cards[0]?.debit_card_number);\r\n                    this.createMemberObj(result);\r\n                    this.debitCardDetails = data?.debit_cards[0];\r\n                  }\r\n                },\r\n                error: (err: any) => {\r\n                  this.alertService.error(\"err\", err);\r\n                }\r\n              })\r\n          },\r\n          error: (err: any) => {\r\n            this.alertService.error(\"err\", err);\r\n          }\r\n        });\r\n\r\n    };\r\n  }\r\n\r\n  searchRecords(): void {\r\n    this.roomService.findGuestDetails(null, null, null, \"CI\", null, this.tableCode)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          if (data) {\r\n            this.guestData = data;\r\n            this.posCheck.guest_name = data?.filter(res => res.primary_client_ind == true)[0]?.guest_name;\r\n            this.posCheck.covers = data?.length;\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    functionExpandCollapse();\r\n    this.outletId = this.activatedRoute.snapshot.params['outlet_id'];\r\n    this.pointersData = JSON.parse(localStorage.getItem(\"pointerData\"));\r\n    let roomServiceOutletId = this.pointersData?.filter(res => res.code == environment.ROOM_SERVICE_POINTER)[0]?.pointer_value?.split(',');\r\n    this.isRoomServiceOutlet = roomServiceOutletId?.includes(this.outletId);\r\n    this.tableCode = this.activatedRoute.snapshot.params[\"table_code\"];\r\n    this.posCheckId = this.activatedRoute.snapshot.params[\"check_id\"];\r\n    this.outletSettingData = JSON.parse(localStorage.getItem(\"outletSetting\"));\r\n    this.posKitchens = JSON.parse(localStorage.getItem(\"posKitchens\"));\r\n\r\n\r\n    if (this.outletSettingData) {\r\n      this.currentOutletSettings = this.outletSettingData.filter(a => a.pos_restaurant_id === +this.outletId);\r\n      if (this.currentOutletSettings.length > 0) {\r\n        this.defaultMenuId = this.currentOutletSettings[0].default_menu_id.toString();\r\n        this.loadDefaultMenuItems();\r\n      }\r\n    } else {\r\n      this.router.navigate(['/outlet']);\r\n    }\r\n    this.memberSearchForm = this.formBuilder.group({\r\n      memberId: [''],\r\n      firstName: [''],\r\n      lastName: [''],\r\n    },\r\n      { validators: this.atLeastOneRequired }\r\n    )\r\n\r\n    this.currentUserShift = this.commonService.getCurrentUserShiftNumber(this.outletId);\r\n\r\n    const posRestaurantData: PosRestaurant[] = JSON.parse(localStorage.getItem(\"posRestaurant\"));\r\n    let restaurant = posRestaurantData.filter(a => a.id === +this.outletId);\r\n    if (restaurant.length > 0) {\r\n      this.posMenuRestaurants = restaurant[0].pos_menu_restaurants;\r\n    }\r\n    if (!this.posCheckId && this.isRoomServiceOutlet) {\r\n      this.searchRecords();\r\n    }\r\n    this.scrollToBottom();\r\n\r\n    const voidReasonData: VoidReason[] = JSON.parse(localStorage.getItem(\"voidReason\"));\r\n    if (!voidReasonData) {\r\n      this.voidReasonService.getAll()\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            this.voidReasonList = data;\r\n          },\r\n          error: (error: any) => {\r\n            if (error.errors && error.errors.length > 0) {\r\n              this.alertService.error(error.errors[0]);\r\n            } else {\r\n              this.alertService.error(error);\r\n            }\r\n          }\r\n        });\r\n    } else {\r\n      this.voidReasonList = voidReasonData;\r\n    }\r\n\r\n\r\n    enableMenuHeadTab();\r\n\r\n\r\n    this.loadExistingOrder();\r\n\r\n    // this.canReprintBill = this.commonService.hasFunctionalRights(environment.RIGHT_CODE_POS_CAN_REPRINT_CHECK);\r\n    this.currencySymbol = PointerService.getLocalCurrencySymbol();\r\n\r\n    this.canVoidKOT = this.commonService.hasFunctionalRights(environment.RIGHT_CODE_POS_CAN_VOID_KOT);\r\n\r\n  }\r\n\r\n\r\n\r\n  loadExistingOrder() {\r\n    const deliveryDetails = this.posCheckService.posCheckValue;\r\n    this.layout = this.tableLayoutService.getTableDetails(this.outletId, this.tableCode);\r\n    this.posCheck.order_type = environment.POS_ORDER_TYPE_DINE_IN;\r\n    if (this.posCheckId) {\r\n      this.businessDate = PointerService.getISOBusinessDate();\r\n      this.posCheckService.findBy(this.posCheckId)\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            this.posCheck = data;\r\n            if (data?.debit_card_number) {\r\n              this.inputControl.setValue(data?.debit_card_number);\r\n            }\r\n            if (deliveryDetails) {\r\n              this.posCheck.pos_check_delivery.push(deliveryDetails.pos_check_delivery[0]);\r\n              this.posCheck.guest_name = deliveryDetails.pos_check_delivery[0].first_name + \" \" + deliveryDetails.pos_check_delivery[0].last_name;\r\n              // this.posCheck.membership_number =\r\n              this.posCheckService.resetPosCheckSubject();\r\n            }\r\n\r\n            this.oldCheckData = this.posCheck.pos_check_details\r\n              .filter(detail => detail.id !== undefined)  // Filter out items without _id\r\n              .map(detail => ({\r\n                id: detail.id,\r\n                last_action: detail.last_action,\r\n                kot_no: detail.kot_no\r\n              }));\r\n          },\r\n          error: (error: any) => {\r\n            if (error.errors && error.errors.length > 0) {\r\n              this.alertService.error(error.errors[0]);\r\n            } else {\r\n              this.alertService.error(error);\r\n            }\r\n          }\r\n        });\r\n    }\r\n    else if (this.layout && this.layout.table_status == environment.POS_TABLE_STATUS_AVAILABLE) {\r\n      this.posCheck = new PosCheck();\r\n      this.posCheck.pos_restaurant_id = +this.outletId;\r\n      this.posCheck.table_code = this.tableCode;\r\n      this.posCheck.order_type = environment.POS_ORDER_TYPE_DINE_IN;\r\n      if (deliveryDetails) {\r\n        this.posCheck.pos_check_delivery[0] = deliveryDetails.pos_check_delivery[0];\r\n        this.posCheck.guest_name = deliveryDetails.pos_check_delivery[0].first_name + \" \" + deliveryDetails.pos_check_delivery[0].last_name;\r\n        this.posCheckService.resetPosCheckSubject();\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  atLeastOneRequired(group: FormGroup) {\r\n    const isAtLeastOneFilled = Object.values(group.controls).some(control => control.value?.trim() !== '');\r\n    return isAtLeastOneFilled ? null : { atLeastOneRequired: true };\r\n  }\r\n\r\n\r\n  onSelectionChange(event: Event) {\r\n    const selectedId = (event.target as HTMLSelectElement).value;\r\n    this.posCheck.order_type = selectedId;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    // this.loadExistingOrder();\r\n    enableMenuHeadTab();\r\n    this.txtSearchInput.nativeElement.focus();\r\n    this.changeDetector.detectChanges();\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    this.changeDetector.detectChanges();\r\n  }\r\n\r\n  scrollToBottom(): void {\r\n    try {\r\n      this.myScrollContainer.nativeElement.scrollTop = this.myScrollContainer.nativeElement.scrollHeight;\r\n    }\r\n    catch (err) { }\r\n  }\r\n\r\n  scrollTo(elementId: string) {\r\n    const element = document.getElementById(elementId);\r\n    if (element) {\r\n      element.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  }\r\n\r\n  onMemberSearch() {\r\n    if (this.memberSearchForm.valid) {\r\n      this.ngOnChanges();\r\n    } else {\r\n      this.membersDataArray = [];\r\n      this.alertService.error(\"Please search using at least one criteria!\")\r\n    }\r\n  }\r\n\r\n  createMemberObj(res: any) {\r\n    let objMember = {};\r\n    objMember[\"account_id\"] = res.id;\r\n    objMember[\"membership_number\"] = res.account_affiliations[0]?.membership_number;\r\n    if (res.account_name) {\r\n      objMember[\"member_name\"] = res.account_name;\r\n    } else {\r\n      objMember[\"member_name\"] = res.title + \" \" + res.first_name + \" \" + res.last_name;\r\n    }\r\n    objMember[\"issue_date\"] = res.account_affiliations[0]?.issue_date;\r\n    objMember[\"birth_date\"] = res.birth_date;\r\n    objMember[\"expiry_date\"] = res.account_affiliations[0]?.expiry_date;\r\n    objMember[\"block_member_remark\"] = res.block_member_remark;\r\n    this.membersDataArray.push(objMember);\r\n    this.selectedMember = {};\r\n    this.blockedMemberSelection = {};\r\n    if (this.membersDataArray[0]?.block_member_remark.length > 0) {\r\n      this.blockedMemberSelection = this.membersDataArray[0];\r\n      this.membersDataArray = [];\r\n    } else {\r\n      this.selectedMember = this.membersDataArray[0];\r\n      this.posCheck[\"_guest_name\"] = this.selectedMember?.member_name;\r\n      this.posCheck[\"_membership_number\"] = this.selectedMember?.membership_number;\r\n      this.posCheck[\"_guest_id\"] = this.selectedMember?.account_id;\r\n      this.closeBtn1.nativeElement.click();\r\n    }\r\n  }\r\n\r\n  onSelectMember(data: any) {\r\n    this.selectedMember = {};\r\n    this.blockedMemberSelection = {};\r\n    this.debitCardDetails = {};\r\n    if (data?.data?.block_member_remark.length > 0) {\r\n      this.blockedMemberSelection = data?.data;\r\n      this.membersDataArray = [];\r\n      this.memberSearchForm.reset();\r\n    } else {\r\n      this.selectedMember = data?.data;\r\n      this.posCheck[\"_guest_name\"] = this.selectedMember?.member_name;\r\n      this.posCheck[\"_membership_number\"] = this.selectedMember?.membership_number;\r\n      this.posCheck[\"_guest_id\"] = this.selectedMember?.account_id;\r\n      if (this.currentOutletSettings[0]?.debit_card_in_use_ind) {\r\n        let documentNumber: any\r\n        let accoundId: any;\r\n        accoundId = this.pointersData?.filter(res => res.code == environment.DEBIT_CARD_DOCUMENT_ID)[0]?.pointer_value;\r\n        documentNumber = this.selectedMember?.account_account_documents?.filter(res => res.account_document_id == accoundId)[0]?.document_number;\r\n        this.onEnterKey(documentNumber);\r\n      }\r\n      this.closeBtn1.nativeElement.click();\r\n    }\r\n  }\r\n\r\n  mapMenuHeaderSubheader(): void {\r\n    this.menuHeaders = [...new Map(this.currentMenuItems.map((item) => [item.pos_menu_header_id, item.menu_header])).values()];\r\n  }\r\n\r\n  onChangeMenu(): void {\r\n    this.showOtherMenu = true;\r\n  }\r\n\r\n  onDefaultMenu(): void {\r\n    this.loadDefaultMenuItems();\r\n    this.showOtherMenu = false;\r\n    this.search?.nativeElement.click();\r\n  }\r\n\r\n  onBackClick(): void {\r\n    this.router.navigate(['/table-layout/' + this.outletId]);\r\n  }\r\n\r\n  onMenuHeaderSelection(e): void {\r\n    const clickedLi = e.currentTarget as HTMLElement;\r\n\r\n    if (clickedLi.classList.contains('clicked')) return;\r\n    setTimeout(() => {\r\n      clickedLi.classList.add('clicked');\r\n      clickedLi.click();\r\n      clickedLi.classList.remove('clicked');\r\n    }, 0);\r\n    enableMenuHeadTab();\r\n  }\r\n\r\n  onKeyUp(event): void {\r\n    if (event.target.value) {\r\n      this.searchItemList = this.currentMenuItems.filter(x => x.description.toLowerCase().includes(event.target.value.toLowerCase()));\r\n    } else {\r\n      this.searchItemList = [];\r\n    }\r\n  }\r\n\r\n  onVirtualKeyboardInput(): void {\r\n    if (this.txtSearchInput.nativeElement.value) {\r\n      this.searchItemList = this.currentMenuItems.filter(x => x.description.toLowerCase().includes(this.txtSearchInput.nativeElement.value.toLowerCase()));\r\n    } else {\r\n      this.searchItemList = [];\r\n    }\r\n  }\r\n\r\n  onGridItemSelection(event): void {\r\n    if (event.selectedRowsData.length > 0) {\r\n      this.onItemSelection(event.selectedRowsData[0]);\r\n      this.searchItemList = [];\r\n      this.txtSearchInput.nativeElement.value = \"\";\r\n      this.txtSearchInput.nativeElement.focus();\r\n    }\r\n  }\r\n\r\n  onItemSelection(item: PosItemMenu): void {\r\n    let isHappyHourApplicable: boolean = false;\r\n\r\n    if (item && item.pos_menu_id) {\r\n      //isHappyHourApplicable = this.commonService.isHappyHour(item.pos_menu_id, this.outletId);\r\n    }\r\n    const objItem = this.posCheck.pos_check_details.filter(x => x.pos_item_id === item.pos_item_id && x.is_new);\r\n    if (objItem && objItem.length > 0) {\r\n      objItem[0].quantity += 1;\r\n      this.selectedItemFromKotWindow = objItem[0];\r\n    } else {\r\n      // new item added\r\n      let newItem = new PosCheckDetail();\r\n      newItem.is_new = true;\r\n      newItem.is_dirty = false;\r\n      newItem.pos_item_id = item.pos_item_id;\r\n      newItem.shift = this.currentUserShift;\r\n      newItem.pos_restaurant_id = +this.outletId;\r\n      newItem.service = item.pos_item.account_code;\r\n      newItem.charge_id = isHappyHourApplicable ? item.happy_hour_charge_id : item.pos_item_charge_id;\r\n      newItem.item_description = isHappyHourApplicable ? item.happy_hour_description : item.description;\r\n      newItem.pos_menu_id = item.pos_menu_id;\r\n      newItem.pos_kitchen_id = item.pos_kitchen_id;\r\n      newItem.serial_number = this.posCheck.pos_check_details.length + 1;\r\n      newItem.quantity = 1;\r\n      newItem.rate = isHappyHourApplicable ? item.happy_hour_price : item.pos_item_price;\r\n      newItem.currency_id = PointerService.getLocalCurrencyId();\r\n      newItem.pos_order_status_id = +environment.POS_ORDER_STATUS_ID;\r\n\r\n      if (item.pos_item && item.pos_item.item_class == environment.POS_IC_OPEN_ITEM) {\r\n        newItem.pos_item_name_on_check = item.name_on_check;\r\n      }\r\n\r\n      newItem.do_not_print_price_ind = item.do_not_print_price_on_check_ind;\r\n\r\n      if (typeof (newItem.charge_id) != 'undefined' || newItem.charge_id != null) {\r\n        let departmentCode: string = this.outletService.getDepartmentCodeBy(this.outletId);\r\n        let chargeCode: string = departmentCode + item.pos_item.account_code;\r\n        let selectedCharge: Charge = this.chargeService.getChargeByCode(chargeCode);\r\n\r\n        newItem.charge_id = selectedCharge.id;\r\n      }\r\n\r\n      newItem.pos_item_type = item.pos_item.item_class;\r\n\r\n      this.posCheck.pos_check_details.push(newItem);\r\n      this.selectedItemFromKotWindow = newItem;\r\n    }\r\n\r\n    this.posCheckService.updateOrder(this.posCheck);\r\n  }\r\n\r\n  onKotItemSelection(posCheckDetail: PosCheckDetail) {\r\n    this.selectedItemFromKotWindow = posCheckDetail;\r\n    if (this.selectedItemFromKotWindow.item_status != environment.STATUS_VOIDED) {\r\n      const numericInput: HTMLInputElement = document.getElementById(\"numericInput\") as HTMLInputElement;\r\n      if (numericInput && numericInput.value != \"\") {\r\n        if (this.selectedItemFromKotWindow.is_new) {\r\n          const objIndex = this.posCheck.pos_check_details.findIndex(x => x == this.selectedItemFromKotWindow);\r\n          if (objIndex > -1) {\r\n            this.posCheck.pos_check_details[objIndex].quantity += +numericInput.value;\r\n            this.posCheckService.updateOrder(this.posCheck);\r\n            numericInput.value = \"\";\r\n          }\r\n        } else {\r\n          //add same item as new kot item with specified qty\r\n\r\n          let newItem = new PosCheckDetail();\r\n          newItem.is_new = true;\r\n          newItem.pos_item_id = posCheckDetail.pos_item_id;\r\n          newItem.shift = this.currentUserShift;\r\n          newItem.pos_restaurant_id = +this.outletId;\r\n          newItem.service = posCheckDetail.service;\r\n          newItem.charge_id = posCheckDetail.charge_id;\r\n          newItem.item_description = posCheckDetail.item_description;\r\n          newItem.pos_menu_id = posCheckDetail.pos_menu_id;\r\n          newItem.pos_kitchen_id = posCheckDetail.pos_kitchen_id;\r\n          newItem.serial_number = this.posCheck.pos_check_details.length + 1;\r\n          newItem.rate = posCheckDetail.rate;\r\n          newItem.currency_id = PointerService.getLocalCurrencyId();\r\n          newItem.pos_item_name_on_check = posCheckDetail.pos_item_name_on_check;\r\n          newItem.do_not_print_price_ind = posCheckDetail.do_not_print_price_ind;\r\n          newItem.charge_id = posCheckDetail.charge_id;\r\n          newItem.pos_item_type = posCheckDetail.pos_item_type;\r\n\r\n          newItem.quantity = +numericInput.value;\r\n          this.posCheck.pos_check_details.push(newItem);\r\n\r\n          this.posCheckService.updateOrder(this.posCheck);\r\n          numericInput.value = \"\";\r\n          this.selectedItemFromKotWindow = newItem;\r\n        }\r\n      }\r\n      this.selectedItemVoidQtyDropdownOption = this.selectedItemFromKotWindow.quantity;\r\n    }\r\n  }\r\n\r\n  onQtyMinus(posCheckDetail: PosCheckDetail) {\r\n    this.selectedItemFromKotWindow = posCheckDetail;\r\n    if (this.selectedItemFromKotWindow.item_status != environment.STATUS_VOIDED) {\r\n      if (this.selectedItemFromKotWindow.is_new) {\r\n        const objIndex = this.posCheck.pos_check_details.findIndex(x => x == this.selectedItemFromKotWindow);\r\n        if (objIndex > -1 && this.posCheck.pos_check_details[objIndex].quantity > 1) {\r\n          this.posCheck.pos_check_details[objIndex].quantity -= 1;\r\n          this.posCheckService.updateOrder(this.posCheck);\r\n        }\r\n      }\r\n      this.selectedItemVoidQtyDropdownOption = this.selectedItemFromKotWindow.quantity;\r\n    }\r\n  }\r\n\r\n  onQtyAdd(posCheckDetail: PosCheckDetail) {\r\n    this.selectedItemFromKotWindow = posCheckDetail;\r\n    if (this.selectedItemFromKotWindow.item_status != environment.STATUS_VOIDED) {\r\n      if (this.selectedItemFromKotWindow.is_new) {\r\n        const objIndex = this.posCheck.pos_check_details.findIndex(x => x == this.selectedItemFromKotWindow);\r\n        if (objIndex > -1) {\r\n          this.posCheck.pos_check_details[objIndex].quantity += 1;\r\n          this.posCheckService.updateOrder(this.posCheck);\r\n        }\r\n      }\r\n      this.selectedItemVoidQtyDropdownOption = this.selectedItemFromKotWindow.quantity;\r\n    }\r\n  }\r\n\r\n\r\n  async onPlaceOrder(isBillPrint?: any): Promise<void> {\r\n    const coverMandatoryInd = this.outletSettingData[0]?.covers_mandetory_ind;\r\n    const guestNameMandetoryInd = this.outletSettingData[0]?.guest_name_mandetory_ind;\r\n    let guestNameInd = true;\r\n    let coversInd = true;\r\n    if (this.posCheck.pos_check_details && this.posCheck.pos_check_details.length > 0) {\r\n      if (coverMandatoryInd) {\r\n        coversInd = this.posCheck?.covers ? true : false;\r\n      }\r\n      if (guestNameMandetoryInd) {\r\n        guestNameInd = this.posCheck?.guest_name ? true : false;\r\n      }\r\n      if (coversInd && guestNameInd) {\r\n        let allPOItems: PosCheckDetail[] = this.posCheck.pos_check_details.filter(x => x.last_action.toUpperCase() == environment.LAST_ACTION_POSTED);\r\n        let voidMarkedItems: PosCheckDetail[] = this.posCheck.pos_check_details.filter(x => x.markedVoid == true);\r\n        this.posCheck.debit_card_number = this.debitCardDetails?.card_number;\r\n        this.posCheck.debit_card_reference_id = this.debitCardDetails?.id;\r\n        const Oldids = this.oldCheckData;\r\n        let voidCheckInd = false;\r\n        const totalQuantity = this.posCheck.pos_check_details.reduce((sum, item) => {\r\n          const quantity = Number(item.quantity) || 0;\r\n          return sum + quantity;\r\n        }, 0);\r\n\r\n        const totalVoidedQuantity = this.posCheck.pos_check_details.reduce((sum, item) => {\r\n          return item.last_action === \"VO\" ? sum + (Number(item.quantity) || 0) : sum;\r\n        }, 0);\r\n\r\n        if (totalQuantity == totalVoidedQuantity) {\r\n          this.handleWithModalConfirmation(Oldids, voidMarkedItems, allPOItems);\r\n        } else {\r\n          this.processOrder(Oldids, voidMarkedItems, allPOItems, voidCheckInd, isBillPrint); // Continue without confirmation\r\n        }\r\n\r\n      } else {\r\n        if (coverMandatoryInd && (!coversInd)) {\r\n          this.alertService.error(\"Please enter covers!\")\r\n        }\r\n        if (guestNameMandetoryInd && (!guestNameInd)) {\r\n          this.alertService.error(\"Please enter guest name!\")\r\n        }\r\n      }\r\n    } else {\r\n      this.alertService.error(environment.SELECT_ONE_ITEM);\r\n    }\r\n  }\r\n\r\n  processOrder(Oldids: any, voidMarkedItems: any, allPOItems: any, voidCheckInd: any, isBillPrint?: any) {\r\n    this.posCheck.open_shift = this.currentUserShift;\r\n    this.posCheckService.saveBill(this.posCheck)\r\n      .subscribe({\r\n        next: (data: PosCheck) => {\r\n          this.posCheck = data[\"pos_check\"]\r\n          let voidItems: PosCheckDetail[];\r\n          if (Oldids?.length > 0) {\r\n            // voidItems = data[\"pos_check\"].pos_check_details.filter(o1 =>\r\n            //   !Oldids.includes(o1.id) && o1.last_action == environment.LAST_ACTION_VOIDED\r\n            // );\r\n\r\n            voidItems = data[\"pos_check\"].pos_check_details.filter(o1 => {\r\n              const isExactMatchInNewArr = Oldids.some(\r\n                (item: any) => item.id === o1.id && item.last_action === o1.last_action && item.kot_no === o1.kot_no\r\n              );\r\n              return !isExactMatchInNewArr && o1.last_action === environment.LAST_ACTION_VOIDED;\r\n            });\r\n          } else {\r\n            voidItems = data[\"pos_check\"].pos_check_details.filter(function (o1) {\r\n              return voidMarkedItems.some(function (o2) {\r\n                return o1.pos_item_id === o2.pos_item_id\r\n                  && o1.id == o2.id // assumes unique pos_item_id & id\r\n              });\r\n            });\r\n          }\r\n\r\n          let newItems: PosCheckDetail[]\r\n          if (Oldids?.length > 0) {\r\n            // newItems = data[\"pos_check\"].pos_check_details.filter(o1 =>\r\n            //   !Oldids.includes(o1.id) && o1.last_action == environment.LAST_ACTION_POSTED\r\n            // );\r\n            newItems = data[\"pos_check\"].pos_check_details.filter(o1 => {\r\n              const isExactMatchInNewArr = Oldids.some(\r\n                (item: any) => item.id === o1.id && item.last_action === o1.last_action && item.kot_no === o1.kot_no\r\n              );\r\n              return !isExactMatchInNewArr && o1.last_action === environment.LAST_ACTION_POSTED;\r\n            });\r\n          } else {\r\n            newItems = data[\"pos_check\"].pos_check_details.filter(function (o1) {\r\n              return allPOItems.some(function (o2) {\r\n                return o1.pos_item_id === o2.pos_item_id && o2.is_new == true\r\n                  && o2.last_action == environment.LAST_ACTION_POSTED\r\n                  && o1.last_action == environment.LAST_ACTION_POSTED;\r\n              });\r\n            });\r\n          }\r\n\r\n          if (voidItems.length > 0) {\r\n            this.printClientSideKot([], voidItems, data[\"pos_check\"]);\r\n            setTimeout(() => {\r\n              this.printClientSideKot(newItems, [], data[\"pos_check\"]);\r\n              if (voidCheckInd) {\r\n                this.posCheckService.voidBill(data[\"pos_check\"])\r\n                  .subscribe({\r\n                    next: (data: any) => {\r\n                      this.printVoidCheck();\r\n                      this.router.navigate(['/table-layout/' + this.outletId]);\r\n\r\n                    },\r\n                    error: (error: any) => {\r\n                      if (error.errors && error.errors.length > 0) {\r\n                        this.alertService.error(error.errors[0]);\r\n                      } else {\r\n                        this.alertService.error(error);\r\n                      }\r\n                      this.router.navigate(['/table-layout/' + this.outletId]);\r\n                    }\r\n                  });\r\n              } else if (isBillPrint) {\r\n                this.printCheck();\r\n                this.router.navigate(['/billing/' + this.outletId + '/view-bill/' + data[\"pos_check\"][\"id\"]]);\r\n              } else {\r\n                this.router.navigate(['/table-layout/' + this.outletId]);\r\n              }\r\n            }, 2000);\r\n          } else {\r\n            this.printClientSideKot(newItems, [], data[\"pos_check\"]);\r\n            if (isBillPrint) {\r\n              this.printCheck();\r\n              this.router.navigate(['/billing/' + this.outletId + '/view-bill/' + data[\"pos_check\"][\"id\"]]);\r\n            } else {\r\n              this.router.navigate(['/table-layout/' + this.outletId]);\r\n            }\r\n          }\r\n\r\n          // setTimeout(() => {\r\n          //   this.router.navigate(['/table-layout/' + this.outletId]);\r\n          // }, 500);\r\n\r\n          this.posCheckService.changeMessage(this.posCheck.table_code);\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n\r\n  onReprintClick() {\r\n    let kotItems = this.posCheck?.pos_check_details?.filter(res => res.kot_no === this.selectedItemFromKotWindow?.kot_no && res.last_action != \"VO\");\r\n    this.printClientSideKot(kotItems, [], this.posCheck, true);\r\n  }\r\n\r\n  generateFileAndPrintInPdf(newItems: any) {\r\n    let kitchens = JSON.parse(localStorage.getItem(\"posKitchens\"))?.pos_kitchens;\r\n\r\n    // Function to get printers for a kitchen\r\n    const getPrinters = (id) => {\r\n      const kitchen = kitchens.find(k => k.id === id);\r\n      if (!kitchen) return [];\r\n\r\n      return [\r\n        kitchen.kitchen_printer1,\r\n        kitchen.kitchen_printer2,\r\n        kitchen.kitchen_printer3,\r\n        kitchen.kitchen_printer4,\r\n        kitchen.kitchen_printer5,\r\n      ].filter(printer => printer); // Remove null/empty values\r\n    };\r\n\r\n    let result = [];\r\n\r\n    newItems.forEach(order => {\r\n      let groupedData = [];\r\n\r\n      order.pos_check_details.forEach(item => {\r\n        const { kot_no, kitchen_name } = item;\r\n        const key = `${kot_no}-${kitchen_name}`;\r\n\r\n        let group = groupedData.find(group => group.key === key);\r\n\r\n        if (!group) {\r\n          group = {\r\n            key: key,\r\n            ...order,\r\n            pos_check_details: []\r\n          };\r\n          groupedData.push(group);\r\n        }\r\n\r\n        group.pos_check_details.push(item);\r\n      });\r\n\r\n      result.push(...groupedData);\r\n    });\r\n\r\n\r\n    // Add printers field after grouping\r\n    result.forEach((group: any) => {\r\n      const kitchen_id = group?.pos_check_details[0]?.pos_kitchen_id;\r\n      group.printers = getPrinters(kitchen_id);\r\n    });\r\n\r\n\r\n    // Convert grouped object into an array of orders\r\n    // result.push(...Object.values(groupedData));\r\n    // });\r\n\r\n    result?.forEach(res => {\r\n      if (res) {\r\n        let posCheckObj = { kot_report: res };\r\n        let dataSet = new Stimulsoft.System.Data.DataSet(\"kot_report\");\r\n        dataSet.readJson(posCheckObj);\r\n\r\n        let newGuid = Stimulsoft.System.Guid.newGuid().toString().substr(0, 8);\r\n        let report = new Stimulsoft.Report.StiReport();\r\n        //report.loadFile(\"/reports/\"+ saasCompanyCode +\"/\"+ companyCode +\"/\"+ branchCode+\"/\"+ \"kot.mrt\" + \"?n=\" + n);\r\n\r\n        report.loadFile(\"/public/mrt/\" + \"kot.mrt\" + \"?n=\" + newGuid);\r\n        report.regData(dataSet.kot_report, \"kot_report\", dataSet);\r\n\r\n        report.render();\r\n\r\n        // Export the report to a PDF format (returns Uint8Array)\r\n        let exportedFileData = report.exportDocument(Stimulsoft.Report.StiExportFormat.Pdf);\r\n\r\n        // Convert the Uint8Array to a Base64 string\r\n        let base64EncodedReport = btoa(String.fromCharCode(...exportedFileData));\r\n        let kotNumber = res?.pos_check_details[0]?.kot_no;\r\n        res?.printers?.forEach(element => {\r\n          let printerName = environment.TEST_PRINTER_NAME || element;\r\n          this.posCheckService.sendFileToServerPDF(base64EncodedReport, printerName, kotNumber);\r\n        });\r\n      }\r\n    })\r\n\r\n\r\n  }\r\n\r\n  generateFileAndPrint(newItems: any) {\r\n    let kitchens = JSON.parse(localStorage.getItem(\"posKitchens\"))?.pos_kitchens;\r\n\r\n    // Function to get printers for a kitchen\r\n    const getPrinters = (id) => {\r\n      const kitchen = kitchens.find(k => k.id === id);\r\n      if (!kitchen) return [];\r\n\r\n      return [\r\n        kitchen.kitchen_printer1,\r\n        kitchen.kitchen_printer2,\r\n        kitchen.kitchen_printer3,\r\n        kitchen.kitchen_printer4,\r\n        kitchen.kitchen_printer5,\r\n      ].filter(printer => printer); // Remove null/empty values\r\n    };\r\n\r\n    let result = [];\r\n\r\n    newItems.forEach(order => {\r\n      let groupedData = [];\r\n\r\n      order.pos_check_details.forEach(item => {\r\n        const { kot_no, kitchen_name } = item;\r\n        const key = `${kot_no}-${kitchen_name}`;\r\n\r\n        let group = groupedData.find(group => group.key === key);\r\n\r\n        if (!group) {\r\n          group = {\r\n            key: key,\r\n            ...order,\r\n            pos_check_details: []\r\n          };\r\n          groupedData.push(group);\r\n        }\r\n\r\n        group.pos_check_details.push(item);\r\n      });\r\n\r\n      result.push(...groupedData);\r\n    });\r\n\r\n\r\n    // Add printers field after grouping\r\n    result.forEach((group: any) => {\r\n      const kitchen_id = group?.pos_check_details[0]?.pos_kitchen_id;\r\n      group.printers = getPrinters(kitchen_id);\r\n    });\r\n\r\n\r\n    // Convert grouped object into an array of orders\r\n    // result.push(...Object.values(groupedData));\r\n    // });\r\n\r\n    result?.forEach(res => {\r\n      if (res) {\r\n        this.posCheckService.sendFileToServer1(res);\r\n      }\r\n    })\r\n\r\n\r\n  }\r\n\r\n  printClientSideKot(kotItems: PosCheckDetail[], voidItems: PosCheckDetail[], posCheck: any, reprint?: any) {\r\n    const loadedUser: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    //let saasCompanyCode = loadedUser.saas_company_code.toLowerCase();\r\n    //let companyCode = loadedUser.company_code.toLowerCase();\r\n    //let branchCode = loadedUser.branch_code.toLowerCase();\r\n    let mapItems = this.mapKotItemsForPrint(kotItems, voidItems, posCheck, reprint)\r\n    if (this.currentOutletSettings[0]?.kot_client_side_ind) {\r\n      if (mapItems.length > 0) {\r\n        let posCheckObj = { kot_report: mapItems };\r\n        let dataSet = new Stimulsoft.System.Data.DataSet(\"kot_report\");\r\n        dataSet.readJson(posCheckObj);\r\n\r\n        let newGuid = Stimulsoft.System.Guid.newGuid().toString().substr(0, 8);\r\n        let report = new Stimulsoft.Report.StiReport();\r\n\r\n        report.loadFile(\"/public/mrt/\" + \"kot.mrt\" + \"?n=\" + newGuid);\r\n        report.regData(dataSet.kot_report, \"kot_report\", dataSet);\r\n\r\n        report.render();\r\n        report.print();\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  mapKotItemsForPrint(kotItems: PosCheckDetail[], voidItems: PosCheckDetail[], posCheck: any, reprint: boolean) {\r\n    let posCheckKotList = [];\r\n    let posCheckDetailsArray = [];\r\n    let posCheckDetailItems = [];\r\n    let restaurantName = \"\";\r\n    let voidLabel = \"\";\r\n    let serverName = \"\";\r\n    let voidDash = \"\";\r\n    let voidReason = \"\";\r\n    if (posCheck.server_name || posCheck.server[\"first_name\"]) {\r\n      serverName = posCheck.server_name ? posCheck.server_name : posCheck.server[\"first_name\"];\r\n    }\r\n\r\n    if (posCheck.pos_void_reason_id) {\r\n      voidReason = this.voidReasonList.filter(x => x.id == this.posCheck.pos_void_reason_id)[0].description;\r\n    }\r\n    else if (posCheck.void_reason_note) {\r\n      voidReason = posCheck.void_reason_note;\r\n    }\r\n\r\n    if (posCheck.pos_restaurant_name) {\r\n      restaurantName = posCheck.pos_restaurant_name;\r\n    }\r\n\r\n    if (kotItems.length > 0) {\r\n      posCheckDetailItems = kotItems;\r\n    } else if (voidItems.length > 0) {\r\n      posCheckDetailItems = voidItems;\r\n    }\r\n    // else {\r\n    //   posCheckDetailItems = this.posCheck.pos_check_details\r\n    // }\r\n\r\n    if (posCheckDetailItems.length > 0) {\r\n      posCheckDetailItems.forEach(item => {\r\n        if (posCheck.pos_void_reason_id) {\r\n          voidReason = this.voidReasonList.filter(x => x.id == posCheck.pos_void_reason_id)[0].description;\r\n        }\r\n        else if (posCheck.void_reason_note) {\r\n          voidReason = posCheck.void_reason_note;\r\n        }\r\n\r\n        let itemDetails = {\r\n          kot_no: item.kot_no,\r\n          pos_kitchen_id: item.pos_kitchen_id,\r\n          kitchen_name: item.pos_kitchen && item.pos_kitchen.pos_kitchen_translations && item.pos_kitchen.pos_kitchen_translations.length > 0 ? item.pos_kitchen.pos_kitchen_translations[0][\"description\"] : \"\",\r\n          system_time: item.system_time,\r\n          business_date: item.business_date,\r\n          quantity: item.quantity,\r\n          void_reason: voidReason,\r\n          item_description: item.pos_item_name_on_check ? item.pos_item_name_on_check : item.item_description\r\n        }\r\n\r\n        let modifierText = \"\";\r\n        if (item.pos_check_detail_modifiers.length > 0) {\r\n          item.pos_check_detail_modifiers.forEach(modifier => {\r\n            if (modifier.modifier_name_on_check) {\r\n              modifierText += modifier.modifier_name_on_check + \", \"\r\n            }\r\n          });\r\n          itemDetails[\"item_description\"] = item.item_description + \"\\n+ \" + modifierText.replace(/,(\\s+)?$/, '');\r\n        }\r\n        if (item.void_by_id && item.last_action == environment.LAST_ACTION_VOIDED) {\r\n          itemDetails[\"void_reason\"] = item.pos_void_reason_id ? this.voidReasonList.filter(res => res.id == item.pos_void_reason_id)[0]?.description : item.void_reason_note;\r\n        } else {\r\n          itemDetails[\"void_reason\"] = \"\";\r\n\r\n        }\r\n        posCheckDetailsArray.push(itemDetails);\r\n      });\r\n      if (voidItems.length > 0) {\r\n        voidLabel = \"VOID KOT\";\r\n        voidDash = \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\";\r\n      }\r\n      else if (reprint) {\r\n        voidLabel = \"DUPLICATE COPY\";\r\n        voidDash = \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\";\r\n      }\r\n      else {\r\n        voidLabel = \"\";\r\n      }\r\n\r\n      posCheckKotList.push({\r\n        restaurant_name: restaurantName,\r\n        check_no: posCheck.check_no,\r\n        table_code: posCheck.table_code,\r\n        covers: posCheck.covers,\r\n        server: serverName,\r\n        parcel: posCheck.take_away_ind == true ? \"Yes\" : \"No\",\r\n        guest_name: posCheck.guest_name,\r\n        void_kot: voidLabel,\r\n        void_dash: voidDash,\r\n        pos_check_details: posCheckDetailsArray\r\n      });\r\n    }\r\n    // this.generateFileAndPrint(posCheckKotList);\r\n    if (this.currentOutletSettings[0]?.print_kot_ind) {\r\n      this.generateFileAndPrintInPdf(posCheckKotList);\r\n    }\r\n    return posCheckKotList;\r\n  }\r\n\r\n  onPrintCheck() {\r\n    if (this.posCheck.pos_check_details && this.posCheck.pos_check_details.length > 0) {\r\n      let roundOffType = this.pointerService.filterValueByCode(environment.POINTER_POS_ROUND_OFF_TYPE);\r\n      let amount = 0, roundOffAmount = 0;\r\n\r\n      if (roundOffType != null) {\r\n        if (roundOffType == environment.POS_ROUND_OFF_FLOOR_CODE) {\r\n          amount = Math.floor(this.posCheck.dr_total);\r\n          roundOffAmount = amount - this.posCheck.dr_total;\r\n        }\r\n        else if (roundOffType == environment.POS_ROUND_OFF_BASED_ON_POINT_FIVE_CODE) {\r\n          amount = Math.round(this.posCheck.dr_total);\r\n          roundOffAmount = amount - this.posCheck.dr_total;\r\n        }\r\n        else if (roundOffType == environment.POS_ROUND_OFF_CEILING_CODE) {\r\n          amount = Math.ceil(this.posCheck.dr_total);\r\n          roundOffAmount = amount - this.posCheck.dr_total;\r\n        }\r\n        else {\r\n          amount = Math.round(this.posCheck.dr_total);\r\n          roundOffAmount = amount - this.posCheck.dr_total;\r\n        }\r\n      }\r\n\r\n      this.posCheck.round_off = +roundOffAmount.toFixed(this.decimalPlace);\r\n      this.posCheck.dr_total = amount;\r\n\r\n      this.posCheckService.saveBill(this.posCheck).subscribe(data => {\r\n        this.posCheck.id = data[\"pos_check\"].id;\r\n        this.posCheckService.printBill(this.posCheck, this.currentUserShift)\r\n          .subscribe({\r\n            next: (printData: any) => {\r\n              this.printCheck();\r\n            },\r\n            error: (error: any) => {\r\n              if (error.errors && error.errors.length > 0) {\r\n                this.alertService.error(error.errors[0]);\r\n              } else {\r\n                this.alertService.error(error);\r\n              }\r\n            }\r\n          });\r\n      });\r\n    } else {\r\n      this.alertService.error(environment.SELECT_ONE_ITEM);\r\n    }\r\n  }\r\n\r\n  // Existing code commented\r\n  // printCheck(): void {\r\n  //   var report = Stimulsoft.Report.StiReport.createNewReport();\r\n  //   this.options.appearance.fullScreenMode = true;\r\n  //   this.options.toolbar.displayMode = Stimulsoft.Viewer.StiToolbarDisplayMode.Separated;\r\n  //   var dataSet = new Stimulsoft.System.Data.DataSet();\r\n  //   var dataSet2 = new Stimulsoft.System.Data.DataSet();\r\n  //   var dataSet3 = new Stimulsoft.System.Data.DataSet();\r\n\r\n  //   let json = PosCheck.createPrintCheckJson(this.posCheck);\r\n  //   dataSet.readJson(json);\r\n  //   dataSet2.readJson(json[\"pos_check_charges\"]);\r\n  //   dataSet3.readJson(json[\"posCheck.pos_check_settlements\"]);\r\n\r\n  //   report.loadFile('/public/mrt/check_thermal_printer.mrt');\r\n  //   report.regData(dataSet, \"pos_check\", { pos_check: json });\r\n  //   report.regData(dataSet.pos_check, \"pos_check\", dataSet);\r\n  //   report.regData(dataSet2.pos_check_charges, \"pos_check_charges\", dataSet2);\r\n  //   report.regData(dataSet3.pos_check_settlements, \"pos_check_settlements\", dataSet3);\r\n  //   report.render();\r\n  //   report.print(false);\r\n  // }\r\n\r\n\r\n  printVoidCheck(): void {\r\n    setTimeout(() => {\r\n      this.printCheckReport = this.commonService.printBill(this.posCheckData);\r\n      this.printCheckReport.render();\r\n      this.printCheckReport.print(false);\r\n      this.router.navigate(['/table-layout/' + this.outletId]);\r\n    }, 10)\r\n  }\r\n\r\n  printCheck(): void {\r\n    const outletSettingData: OutletSetting[] = JSON.parse(localStorage.getItem(\"outletSetting\"));\r\n    if (outletSettingData) {\r\n      let currentOutletSetting = outletSettingData.filter(a => a.pos_restaurant_id === +this.outletId);\r\n\r\n      if (currentOutletSetting.length > 0) {\r\n        let defaultPrintCount = currentOutletSetting[0].print_check_default_count;\r\n        let duplicatePrintCount = 0;\r\n\r\n        this.posCheckService.printBill(this.posCheck, this.currentShift)\r\n          .subscribe({\r\n            next: (data: any) => {\r\n              let posCheckData = data?.pos_check;\r\n              this.posCheck.print_cashier_name = data.pos_check.print_cashier ? data.pos_check.print_cashier.full_name : \"\";\r\n              this.posCheck.print_time = data.pos_check.print_time ? data.pos_check.print_time : \"\";\r\n              this.posCheck.print_count = data.pos_check.print_count;\r\n              let report = Stimulsoft.Report.StiReport.createNewReport();\r\n              let report1 = Stimulsoft.Report.StiReport.createNewReport();\r\n\r\n              if (this.isPrintCheck) {\r\n                if (defaultPrintCount > 0) {\r\n                  if (this.posCheck.print_count <= 1) {\r\n                    //First copy - original check - first time will be called\r\n                    report = this.commonService.printBill(posCheckData);\r\n                    report.render();\r\n                    report.print(false);\r\n\r\n                    defaultPrintCount--;\r\n                  } else {\r\n                    // for duplicate copy print\r\n                    report = this.commonService.printBill(posCheckData, true);\r\n                    report.render();\r\n                    report.print(false);\r\n\r\n                    defaultPrintCount--;\r\n                  }\r\n                  report1 = this.commonService.printBill(posCheckData, true);\r\n                }\r\n\r\n                if (defaultPrintCount > 0) {\r\n                  // for duplicate copy print\r\n                  for (let i = 0; i < defaultPrintCount; i++) {\r\n                    setTimeout(function () {\r\n                      report1.render();\r\n                      report1.print(false);\r\n                    }, 2000 + i * 2000)\r\n                  }\r\n                }\r\n              } else {\r\n                this.printCheckReport = report;\r\n                this.posCheckData = posCheckData;\r\n              }\r\n            },\r\n            error: (error: any) => {\r\n              if (error.errors && error.errors.length > 0) {\r\n                this.alertService.error(error.errors[0]);\r\n              } else {\r\n                this.alertService.error(error);\r\n              }\r\n            }\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n  onDeleteItem(): void {\r\n    if (this.selectedItemFromKotWindow) {\r\n      const objIndex = this.posCheck.pos_check_details.findIndex(x => x.is_new && x.pos_item_id === this.selectedItemFromKotWindow.pos_item_id);\r\n      if (objIndex > -1) {\r\n        this.posCheck.pos_check_details.splice(objIndex, 1);\r\n        this.posCheckService.updateOrder(this.posCheck);\r\n        this.selectedItemFromKotWindow = null;\r\n        this.showItemAddOns = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  onNewRateClick() {\r\n    const numericInput: HTMLInputElement = document.getElementById(\"coversInput\") as HTMLInputElement;\r\n    if (this.selectedItemFromKotWindow && this.selectedItemFromKotWindow.is_new && this.selectedItemFromKotWindow.pos_item_type == this.isOpenItem) {\r\n      if (numericInput && numericInput.value != \"\") {\r\n        let newRate = numericInput.value;\r\n        const objIndex = this.posCheck.pos_check_details.findIndex(x => x.is_new && x.pos_item_id === this.selectedItemFromKotWindow.pos_item_id);\r\n        if (objIndex > -1) {\r\n          this.posCheck.pos_check_details[objIndex].rate = +newRate;\r\n          this.posCheckService.updateOrder(this.posCheck);\r\n          numericInput.value = \"\";\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onOpenItemTextChange(): void {\r\n    if (this.selectedItemFromKotWindow && this.selectedItemFromKotWindow.is_new && this.selectedItemFromKotWindow.pos_item_type == this.isOpenItem) {\r\n      const objIndex = this.posCheck.pos_check_details.findIndex(x => x.is_new && x.pos_item_id === this.selectedItemFromKotWindow.pos_item_id);\r\n      if (objIndex > -1) {\r\n        this.posCheck.pos_check_details[objIndex].item_description = this.openItemText;\r\n      }\r\n\r\n      this.openItemText = \"\";\r\n      this.closeOpenItem.nativeElement.click();\r\n    }\r\n  }\r\n\r\n  onCoversClick() {\r\n    const numericInput: HTMLInputElement = document.getElementById(\"coversInput\") as HTMLInputElement;\r\n    if (numericInput && numericInput.value != \"\") {\r\n      this.posCheck.covers = +numericInput.value;\r\n      numericInput.value = \"\";\r\n    }\r\n  }\r\n\r\n  loadDefaultMenuItems(): void {\r\n    if (this.defaultMenuId) {\r\n      let menuItems: PosItemMenu[] = [];\r\n\r\n      menuItems = this.loadPosItemsBy(this.defaultMenuId);\r\n      if (menuItems.length > 0) {\r\n        //already map items\r\n      }\r\n      else {\r\n        this.posItemMenuService.getPosItemMenuBy(this.defaultMenuId)\r\n          .subscribe({\r\n            next: (response: any) => {\r\n              if (response) {\r\n                let menuItems = response.filter(a => a.pos_menu_id === +this.defaultMenuId);\r\n                if (menuItems.length > 0) {\r\n                  this.currentMenuItems = menuItems;\r\n                  this.mapMenuHeaderSubheader();\r\n                }\r\n              }\r\n            },\r\n            error: (error: any) => {\r\n              if (error.errors && error.errors.length > 0) {\r\n                this.alertService.error(error.errors[0]);\r\n              } else {\r\n                this.alertService.error(error);\r\n              }\r\n            }\r\n          });\r\n      }\r\n    }\r\n\r\n    const itemModifierData: PosItemModifier[] = JSON.parse(localStorage.getItem(\"itemModifier\"));\r\n    if (itemModifierData) {\r\n      this.posItemModifiers = itemModifierData;\r\n    } else {\r\n      this.posItemMenuService.getPosItemModifier()\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            this.posItemModifiers = data;\r\n          },\r\n          error: (error: any) => {\r\n            if (error.errors && error.errors.length > 0) {\r\n              this.alertService.error(error.errors[0]);\r\n            } else {\r\n              this.alertService.error(error);\r\n            }\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  loadOtherMenuItems(posMenuId: string): void {\r\n    let menuItems: PosItemMenu[] = [];\r\n    menuItems = this.loadPosItemsBy(posMenuId);\r\n    if (menuItems.length > 0) {\r\n      //already map items\r\n    }\r\n    else {\r\n      this.posItemMenuService.getPosItemMenuBy(posMenuId)\r\n        .subscribe({\r\n          next: (response: any) => {\r\n            if (response) {\r\n              let menuItems = response.filter(a => a.pos_menu_id === +posMenuId);\r\n              if (menuItems.length > 0) {\r\n                this.currentMenuItems = menuItems;\r\n                this.mapMenuHeaderSubheader();\r\n              }\r\n            }\r\n          },\r\n          error: (error: any) => {\r\n            if (error.errors && error.errors.length > 0) {\r\n              this.alertService.error(error.errors[0]);\r\n            } else {\r\n              this.alertService.error(error);\r\n            }\r\n          }\r\n        });\r\n    }\r\n    this.showOtherMenu = false;\r\n  }\r\n\r\n  loadPosItemsBy(selectedMenuId: string): PosItemMenu[] {\r\n    const itemMenuData: PosItemMenu[] = JSON.parse(localStorage.getItem(\"itemMenu\"));\r\n    let menuItems: PosItemMenu[] = [];\r\n    if (itemMenuData) {\r\n      menuItems = itemMenuData.filter(a => a.pos_menu_id === +selectedMenuId);\r\n      if (menuItems.length > 0) {\r\n        this.currentMenuItems = menuItems;\r\n        this.mapMenuHeaderSubheader();\r\n      }\r\n    }\r\n    return menuItems;\r\n  }\r\n\r\n  //SOF AddOn\r\n  onAddOnClick() {\r\n    this.showItemAddOns = !this.showItemAddOns;\r\n    if (this.showItemAddOns) {\r\n      this.selectedItemModifier = this.posItemModifiers.filter(x => x.pos_item_id === this.selectedItemFromKotWindow.pos_item_id);\r\n    }\r\n  }\r\n\r\n  onAddOnSelection(selectedModifier: PosItemModifier) {\r\n    if (this.selectedItemFromKotWindow) {\r\n      const objIndex = this.posCheck.pos_check_details.findIndex(x => x.is_new && x.pos_item_id === this.selectedItemFromKotWindow.pos_item_id);\r\n      if (objIndex > -1) {\r\n        //first check if modifier is already added - if not then add\r\n        const objModifierIndex = this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.findIndex(x => x.pos_modifier_id == selectedModifier.pos_modifier_id);\r\n\r\n        if (objModifierIndex < 0) {\r\n          //same modifier is not added previously - so adding now\r\n          let objDetailModifier = new PosCheckDetailModifier();\r\n          objDetailModifier.amount = +selectedModifier.pos_modifier.modifier_price;\r\n          objDetailModifier.currency_id = selectedModifier.pos_modifier.currency_id ? selectedModifier.pos_modifier.currency_id : PointerService.getLocalCurrencyId();\r\n          objDetailModifier.modifier_name_on_check = selectedModifier.pos_modifier.modifier_name;\r\n          objDetailModifier.pos_modifier = selectedModifier.pos_modifier;\r\n          objDetailModifier.pos_modifier_id = selectedModifier.pos_modifier_id;\r\n          objDetailModifier.serial_number = this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.length + 1;\r\n\r\n          this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.push(objDetailModifier);\r\n          this.posCheck.pos_check_details[objIndex].amount += +objDetailModifier.amount.toFixed(this.decimalPlace);\r\n\r\n          this.posCheckService.updateOrder(this.posCheck);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  removeAddOn(selectedModifier: PosItemModifier): void {\r\n    if (this.selectedItemFromKotWindow && this.selectedItemFromKotWindow.is_new) {\r\n      const objIndex = this.posCheck.pos_check_details.findIndex(x => x.is_new && x.pos_item_id === this.selectedItemFromKotWindow.pos_item_id);\r\n      if (objIndex > -1) {\r\n        const objModifierIndex = this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.findIndex(x => x.pos_modifier_id === selectedModifier.pos_modifier_id);\r\n        this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.splice(objModifierIndex, 1);\r\n        this.posCheckService.updateOrder(this.posCheck);\r\n      }\r\n    }\r\n  }\r\n\r\n  onOtherAddOnSelection(): void {\r\n    let otherAddOnId: number = +(this.pointersData.filter(res => res.code == \"POS_OPMDFR\")[0]?.pointer_value);\r\n    if (this.selectedItemFromKotWindow) {\r\n      const objIndex = this.posCheck.pos_check_details.findIndex(x => x.is_new && x.pos_item_id === this.selectedItemFromKotWindow.pos_item_id);\r\n      if (objIndex > -1) {\r\n        const objModifierIndex = this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.findIndex(x => x.pos_modifier_id == otherAddOnId);\r\n        if (objModifierIndex < 0) {\r\n          //same modifier is not added previously - so adding now\r\n          let objDetailModifier = new PosCheckDetailModifier();\r\n          objDetailModifier.amount = this.otherAddOnPrice;\r\n          objDetailModifier.currency_id = PointerService.getLocalCurrencyId();\r\n          objDetailModifier.modifier_name_on_check = this.otherAddOnText;\r\n          objDetailModifier.pos_modifier_id = otherAddOnId;\r\n          objDetailModifier.serial_number = this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.length + 1;\r\n          this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.push(objDetailModifier);\r\n          this.posCheck.pos_check_details[objIndex].amount += +objDetailModifier.amount.toFixed(this.decimalPlace);\r\n          this.posCheckService.updateOrder(this.posCheck);\r\n        }\r\n      }\r\n\r\n      //reset values of pop-up\r\n      this.otherAddOnPrice = 0;\r\n      this.otherAddOnText = \"\";\r\n      this.closeOtherAddOn.nativeElement.click();\r\n    }\r\n  }\r\n  //EOF AddOn\r\n\r\n  //SOF Void Item\r\n  counter(): any[] {\r\n    return new Array(this.selectedItemVoidQtyDropdownOption);\r\n  }\r\n\r\n  onVoidReasonSelection(reason: VoidReason): void {\r\n    this.selectedVoidReason = reason.id;\r\n  }\r\n\r\n  //event handler for the select element's change event\r\n  selectChangeHandler(value: any) {\r\n    //update the ui\r\n    this.selectedVoidQty = value;\r\n  }\r\n\r\n  onVoidItem() {\r\n    if (this.selectedItemFromKotWindow && this.selectedItemFromKotWindow.is_dirty) {\r\n      const objIndex = this.posCheck.pos_check_details.findIndex(x => x.id == this.selectedItemFromKotWindow.id && x.pos_item_id === this.selectedItemFromKotWindow.pos_item_id);\r\n      let currentItem: PosCheckDetail = this.posCheck.pos_check_details[objIndex];\r\n      if (currentItem.last_action != environment.LAST_ACTION_VOIDED) {\r\n        if (objIndex > -1) {\r\n          let itemQty = this.posCheck.pos_check_details[objIndex].quantity;\r\n\r\n          if (itemQty == this.selectedVoidQty) {\r\n            currentItem\r\n            currentItem.last_action = environment.LAST_ACTION_VOIDED;\r\n            currentItem.item_status = environment.STATUS_VOIDED;\r\n            currentItem.void_quantity = this.selectedVoidQty;\r\n            currentItem.void_at = new Date();\r\n            currentItem.void_reason_note = this.voidReasonNote;\r\n            currentItem.markedVoid = true;\r\n            currentItem.pos_void_reason_id = this.selectedVoidReason;\r\n\r\n          } else {\r\n            currentItem.quantity = (itemQty - this.selectedVoidQty);\r\n\r\n            //add new Item with void qty \r\n            let newItem = new PosCheckDetail();\r\n            newItem.is_new = false;\r\n            newItem.is_dirty = true;\r\n            newItem.pos_item_id = currentItem.pos_item_id;\r\n            newItem.shift = this.currentUserShift;\r\n            newItem.pos_restaurant_id = +this.outletId;\r\n            newItem.service = currentItem.service;\r\n            newItem.charge_id = currentItem.charge_id;\r\n            newItem.item_description = currentItem.item_description;\r\n            newItem.pos_menu_id = currentItem.pos_menu_id;\r\n            newItem.pos_kitchen_id = currentItem.pos_kitchen_id;\r\n            newItem.serial_number = this.posCheck.pos_check_details.length + 1;\r\n            newItem.quantity = this.selectedVoidQty;\r\n            newItem.rate = currentItem.rate;\r\n            newItem.currency_id = PointerService.getLocalCurrencyId();\r\n            newItem.pos_item_name_on_check = currentItem.pos_item_name_on_check;\r\n            newItem.do_not_print_price_ind = currentItem.do_not_print_price_ind;\r\n            newItem.charge_id = currentItem.charge_id;\r\n            newItem.pos_item_type = currentItem.pos_item_type;\r\n            newItem.item_status = environment.STATUS_VOIDED;\r\n            newItem.last_action = environment.LAST_ACTION_VOIDED;\r\n\r\n            newItem.pos_void_reason_id = this.selectedVoidReason;\r\n            newItem.void_quantity = this.selectedVoidQty;\r\n            newItem.void_at = new Date();\r\n            newItem.void_reason_note = this.voidReasonNote;\r\n            newItem.markedVoid = true;\r\n            // this.posCheck.pos_check_details.push(newItem);\r\n            const existingItem = this.posCheck.pos_check_details.find(item =>\r\n              (item as any)._kot_no === (newItem as any)._kot_no &&\r\n              (item as any)._pos_item_id === (newItem as any)._pos_item_id &&\r\n              (item as any)._item_status === (newItem as any)._item_status\r\n            );\r\n\r\n            if (existingItem) {\r\n              (existingItem as any)._quantity = Number((existingItem as any)._quantity);\r\n              (existingItem as any)._quantity += Number((newItem as any)._quantity);\r\n            } else {\r\n              this.posCheck.pos_check_details.push(newItem);\r\n            }\r\n          }\r\n\r\n          this.posCheckService.updateOrder(this.posCheck);\r\n          this.selectedItemFromKotWindow = null;\r\n          this.showItemAddOns = false;\r\n          this.voidReasonNote = \"\";\r\n          this.selectedVoidReason = 0;\r\n          this.selectChangeHandler(1);\r\n        }\r\n      }\r\n    }\r\n    this.closeBtn.nativeElement.click();\r\n  }\r\n  //EOF Void Item\r\n\r\n  openKeyboard(event): void {\r\n    initializeKeyboard(event.target);\r\n    this.changeDetector.detectChanges();\r\n  }\r\n}\r\n","<div class=\"wrapg_blk\">\r\n  <app-header></app-header>\r\n  <!-- SOF Sub-header HTML -->\r\n  <div class=\"sub_header_parnt menu_sub_hdr\">\r\n    <div class=\"sub_btn_grp\">\r\n      <!-- <h2 class=\"page_name\">Menu</h2> -->\r\n      <button class=\"btn info_btn\"><i class=\"bi bi-info-lg\"></i></button>\r\n      <a (click)=\"scrollTo('menu_list_respnve')\" class=\"menu_list_respnve\"><i class=\"bi bi-list-ul\"></i></a>\r\n      <button class=\"btn swipe_card_respnsv_btn\" title=\"Swipe your card here\" data-bs-toggle=\"modal\"\r\n        data-bs-target=\"#card_swipe_modl\" *ngIf=\"currentOutletSettings[0]?.debit_card_in_use_ind\"><i\r\n          class=\"fa fa-credit-card-alt\" aria-hidden=\"true\"></i></button>\r\n    </div>\r\n    <div class=\"sub_header_inr\">\r\n      <!-- <h2 class=\"page_name\">Menu</h2> -->\r\n      <label class=\"table_text\">{{ tableCode }}</label>\r\n      <div class=\"table_drpdwn\">\r\n        <select (ngModelChange)=\"onSelectionChange($event)\" [(ngModel)]=\"posCheck.order_type\">\r\n          <option *ngFor=\"let orderType of orderTypeArray\" [value]=\"orderType?.id\">\r\n            {{ orderType?.order_type }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n      <div class=\"cover_num_blk\">\r\n        <p>\r\n          <label>{{ 'COMMON_LABEL.COVERS' | translate }}:</label>\r\n          <input type=\"number\" [placeholder]=\"posCheck && posCheck.covers ? posCheck.covers : 00\"\r\n            (click)=\"onCoversClick()\" [(ngModel)]=\"posCheck.covers\" autocomplete=\"none\" />\r\n        </p>\r\n      </div>\r\n      <div class=\"gust_info_blk\">\r\n        <div class=\"guest_name_parnt\">\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>{{ 'COMMON_LABEL.NAME' | translate }}:</label>\r\n              <input type=\"text\" placeholder=\"Type here....\" [(ngModel)]=\"posCheck.guest_name\"\r\n                (click)=\"openKeyboard($event)\" autocomplete=\"none\" [disabled]=\"posCheckId\" />\r\n            </p>\r\n          </div>\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>{{ 'COMMON_LABEL.GST' | translate }}:</label>\r\n              <input type=\"text\" class=\"keyboardInput\" placeholder=\"Type here....\"\r\n                [(ngModel)]=\"posCheck.guest_gst_number\" (click)=\"openKeyboard($event)\" autocomplete=\"none\" />\r\n            </p>\r\n          </div>\r\n          <!-- <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>Membership no.</label>\r\n              <input type=\"text\" placeholder=\"Type here....\" [(ngModel)]=\"posCheck.membership_number\" />\r\n            </p>\r\n          </div> -->\r\n          <div class=\"guest_name_blk\" *ngIf=\"currentOutletSettings[0]?.debit_card_in_use_ind\">\r\n            <p>\r\n              <label>{{ 'COMMON_LABEL.SWIPE_CARD' | translate }}:</label>\r\n              <input type=\"text\" placeholder=\"Type here....\" [formControl]=\"inputControl\" autocomplete=\"off\"\r\n                (keydown.enter)=\"onEnterKey()\" />\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <button class=\"btn menu_membr_srch\" title=\"Member ID search\" data-bs-toggle=\"modal\"\r\n          data-bs-target=\"#member_srch_modl\" *ngIf=\"!posCheckId\"><img\r\n            src=\"../../../assets/images/member_srch.svg\" /></button>\r\n        <button class=\"btn width_tggle\"><i class=\"fa fa-expand\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    </div>\r\n\r\n    <app-business-date></app-business-date>\r\n  </div>\r\n  <!-- EOF Sub-header HTML -->\r\n\r\n  <main class=\"main_cnt_blk\">\r\n    <div class=\"menu_parnt_blk\">\r\n      <div class=\"row\">\r\n        <div class=\"col-xl-8 mb-2\">\r\n          <div class=\"menu_item_parnt\">\r\n            <h5>{{ 'PLACE_ORDER.MENU_DETAILS' | translate }}</h5>\r\n            <ng-container *ngIf=\"!showOtherMenu\">\r\n              <div class=\"menu_category_blk\">\r\n                <div class=\"scroller\">\r\n                  <ul class=\"menu_head_wrapper\">\r\n                    <li class=\"search_menu_icn menu_head_active\">\r\n                      <a data-target=\"search\">{{ 'PLACE_ORDER.SEARCH' | translate }}</a>\r\n                    </li>\r\n                    <li *ngFor=\"let header of menuHeaders\" [class]=\"header.imagePath ? header.imagePath : 'salad_icn'\"\r\n                      (click)=\"onMenuHeaderSelection($event)\">\r\n                      <a href=\"javascript:void(0)\" [attr.data-target]=\"header.code\">{{ header.description }}</a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n\r\n              <div *ngFor=\"let header of menuHeaders; let i = index\" class=\"menu_head_tab\" id=\"{{ header.code }}\">\r\n                <div class=\"sub_category_blk\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-8 col-sm-10 col-lg-10 col-xxl-11 px-0\">\r\n                      <div class=\"wrapper tabs\">\r\n                        <ul class=\"tab-container tabs-list\">\r\n                          <li *ngFor=\"let subHeader of (currentMenuItems | FilterMenuSubHeader:header); let j = index\"\r\n                            [class.active]=\"j === 0\">\r\n                            <a href=\"javascript:void(0)\" [attr.data-target]=\"subHeader.code+header.code\">\r\n                              {{ subHeader.description }}\r\n                            </a>\r\n                          </li>\r\n                        </ul>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-4 col-sm-2 col-lg-2 col-xxl-1 px-0 index_cls\">\r\n                      <button class=\"btn add_btn\" (click)=\"onAddOnClick()\"><i class=\"fa fa-plus\"></i>{{\r\n                        'PLACE_ORDER.ADD_ON' | translate }}</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- SOF Items list Categorywise-->\r\n                <div *ngFor=\"let subHeader of (currentMenuItems | FilterMenuSubHeader:header); let i = index\"\r\n                  [class.active]=\"i === 0\" class=\"menu_list_blk tab\" id=\"{{subHeader.code+header.code}}\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-6 col-sm-4 col-md-3 col-xxl-2 mb-2 px-1\"\r\n                      *ngFor=\"let item of (currentMenuItems | FilterItemBySubHeader:header:subHeader); let j = index\"\r\n                      [style.display]=\"!showItemAddOns ? 'block' : 'none'\" style=\"cursor: pointer;\">\r\n                      <a href=\"javascript:void(0)\" class=\"menu_category_cnt\" title=\"{{ item.description }}\" tabindex=\"0\"\r\n                        (click)=\"onItemSelection(item)\" data-bs-toggle=\"tooltip\"\r\n                        data-bs-original-title=\"{{ item.description }}\" data-bs-placement=\"bottom\">\r\n                        <label>{{ item.description }}</label>\r\n                      </a>\r\n                    </div>\r\n\r\n                    <div class=\"col-6 col-sm-4 col-md-3 col-xxl-2 mb-2\"\r\n                      [style.display]=\"showItemAddOns && selectedItemFromKotWindow ? 'block' : 'none'\">\r\n                      <div class=\"row\">\r\n                        <div class=\"col-12 mb-2 px-1\">\r\n                          <a class=\"menu_category_cnt selected\" href=\"javascript:void(0)\" tabindex=\"0\"\r\n                            (click)=\"showItemAddOns = false\">\r\n                            <label *ngIf=\"selectedItemFromKotWindow\">{{ selectedItemFromKotWindow.item_description\r\n                              }}</label>\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-sm-8 col-md-9 col-xxl-10 mb-2\">\r\n                      <div class=\"row\">\r\n                        <div class=\"col-6 col-md-4 col-xxl-2 mb-2 px-2\" *ngFor=\"let modifier of selectedItemModifier\"\r\n                          [style.display]=\"showItemAddOns && selectedItemModifier.length > 0 ? 'block' : 'none'\">\r\n                          <a class=\"menu_category_cnt\" href=\"javascript:void(0)\" tabindex=\"0\"\r\n                            (click)=\"onAddOnSelection(modifier)\">\r\n                            <img src=\"../../../assets/images/add_on_default.jpg\" class=\"img-fluid\" alt=\"add_on\">\r\n                            <label>{{ modifier.pos_modifier.modifier_name }}</label>\r\n                          </a>\r\n                        </div>\r\n\r\n                        <div class=\"col-6 col-md-4 col-xxl-2 mb-2 px-2\"\r\n                          [style.display]=\"showItemAddOns ? 'block' : 'none'\">\r\n                          <a class=\"menu_category_cnt\" href=\"javascript:void(0)\" tabindex=\"0\" data-bs-toggle=\"modal\"\r\n                            data-bs-target=\"#other_add_on_modal\">\r\n                            <img src=\"../../../assets/images/add_on_default.jpg\" class=\"img-fluid\" alt=\"add_on\">\r\n                            <label>{{ 'PLACE_ORDER.OTHER_ADD_ON' | translate }}</label>\r\n                          </a>\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!-- EOF Items list Categorywise-->\r\n              </div>\r\n\r\n              <div class=\"menu_head_tab\" id=\"search\" [style.display]=\"'block'\">\r\n                <div class=\"menu_list_blk\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12 px-2\">\r\n                      <div class=\"input_custm_cls\">\r\n                        <input id=\"txtSearchInput\" #txtSearchInput (keyup)=\"onKeyUp($event)\" type=\"text\"\r\n                          placeholder=\"{{ 'PLACE_ORDER.SEARCH_DISHES' | translate }}\" (click)=\"openKeyboard($event)\" />\r\n                        <input id=\"hdnSearchWithVirtualKeyboard\" style=\"display: none;\"\r\n                          (click)=\"onVirtualKeyboardInput()\" />\r\n                      </div>\r\n                      <div class=\"dx-viewport demo-container menu_srch_grid\">\r\n                        <div id=\"grid\" [style.display]=\"searchItemList.length > 0 ? 'block' : 'none'\">\r\n                          <dx-data-grid id=\"gridSeachItem\" [dataSource]=\"searchItemList\" [showBorders]=\"false\"\r\n                            [showColumnHeaders]=\"true\" [showRowLines]=\"true\" [showColumnLines]=\"true\"\r\n                            (onSelectionChanged)=\"onGridItemSelection($event)\">\r\n                            <dxo-selection mode=\"single\"></dxo-selection>\r\n                            <dxo-paging [pageSize]=\"10\"> </dxo-paging>\r\n                            <dxo-pager [visible]=\"true\" [allowedPageSizes]=\"[5, 10, 'all']\"\r\n                              [showPageSizeSelector]=\"true\" [showNavigationButtons]=\"true\">\r\n                            </dxo-pager>\r\n                            <!-- <dxi-column dataField=\"id\" visible=\"false\"></dxi-column> -->\r\n                            <dxi-column dataField=\"pos_item.code\" caption=\"{{ 'PLACE_ORDER.CODE' | translate }}\"\r\n                              cssClass=\"anchr_clr\">\r\n                            </dxi-column>\r\n                            <dxi-column dataField=\"description\" caption=\"{{ 'PLACE_ORDER.ITEM_NAME' | translate }}\"\r\n                              [width]=\"40+'%'\">\r\n                            </dxi-column>\r\n                            <dxi-column dataField=\"menu_header.description\"\r\n                              caption=\"{{ 'PLACE_ORDER.MENU_HEADER' | translate }}\" [width]=\"30+'%'\">\r\n                            </dxi-column>\r\n                            <dxi-column dataField=\"pos_item_price\" caption=\"{{ 'PLACE_ORDER.PRICE' | translate }}\">\r\n                            </dxi-column>\r\n                          </dx-data-grid>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n\r\n            <ng-container *ngIf=\"showOtherMenu\">\r\n              <div class=\"menu_head_tab change_menu_parnt\">\r\n                <div class=\"menu_list_blk\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-6 col-sm-4 col-md-3 col-xxl-2 mb-2 px-2\" *ngFor=\"let menu of posMenuRestaurants\"\r\n                      (click)=\"loadOtherMenuItems(menu.pos_menu_id)\">\r\n                      <a class=\"menu_category_cnt selected\" href=\"javascript:void(0)\" tabindex=\"0\">\r\n                        <!-- <img src=\"/images/italian.jpg\" class=\"img-fluid\" [alt]=\"menu.description\"> -->\r\n                        <label>{{ menu.description }}</label>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-xl-4\">\r\n          <div class=\"menu_grid_parnt\" #kotWindow>\r\n            <div class=\"list_grid\" id=\"menu_list_respnve\">\r\n              <ul class=\"bill_head_title\">\r\n                <li>{{ 'PLACE_ORDER.ITEMS_ON_CHECK' | translate }}</li>\r\n                <li>{{ 'COMMON_LABEL.QTY' | translate }}</li>\r\n                <li class=\"text_align_rght\">{{ 'COMMON_LABEL.PRICE' | translate }}</li>\r\n                <li class=\"status_width_tggle\">{{ 'COMMON_LABEL.STATUS' | translate }}</li>\r\n                <li class=\"kot_width_tggle\">{{ 'COMMON_LABEL.KOT_NUMBER' | translate }}</li>\r\n              </ul>\r\n              <div class=\"bill00\" *ngIf=\"posCheck\" #scrollMe [scrollTop]=\"scrollMe.scrollHeight\">\r\n                <div class=\"bill_item_detls\" [class.item_hghlght]=\"selectedItemFromKotWindow === item\"\r\n                  *ngFor=\"let item of posCheck.pos_check_details; let i = index\">\r\n                  <div class=\"dish_hight\">\r\n                    <span class=\"dish_name\">\r\n                      <a href=\"javascript:void(0)\" (click)=\"onKotItemSelection(item)\">{{ item.item_description }}</a>\r\n                    </span>\r\n                    <span class=\"padg_algn quantity buttons_added\">\r\n                      <button type=\"button\" class=\"minus\" (click)=\"onQtyMinus(item)\">-</button>\r\n                      <label class=\"qty input-text\">{{ item.quantity }}</label>\r\n                      <button type=\"button\" class=\"plus\" (click)=\"onQtyAdd(item)\">+</button>\r\n                    </span>\r\n                    <span class=\"amt_padg text_align_rght\">{{ item.amount.toFixed(decimalPlace) }}</span>\r\n                    <span class=\"dish_status_kot\">{{ item.is_new ? 'New' : item.item_status }}</span>\r\n                    <span class=\"kot_no_status\">{{item?.kot_no}}</span>\r\n                  </div>\r\n\r\n                  <div class=\"modifier_blk\" *ngFor=\"let modifier of item.pos_check_detail_modifiers\">\r\n                    <span class=\"add_on_detls\">\r\n                      <a href=\"javascript:void(0)\" class=\"addon_hight\" (dblclick)=\"removeAddOn(modifier)\">{{\r\n                        modifier.modifier_name_on_check }}</a>\r\n                      ({{ currencySymbol }} {{ modifier.amount| number: '1.' + decimalPlace + '-' + decimalPlace }})\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"total_parnt_blk\">\r\n                <div class=\"total_chk_value\" *ngIf=\"posCheck\"><span>{{ 'PLACE_ORDER.TOTAL_CHECK_VALUE' | translate\r\n                    }}</span><label>{{ posCheck.dr_total| number: '1.' + decimalPlace + '-' + decimalPlace\r\n                    }}</label></div>\r\n                <div class=\"debt_card_value\" *ngIf=\"debitCardDetails\">\r\n                  <span>{{'PLACE_ORDER.DEBIT_CARD_VALUE' | translate}}</span><label>{{\r\n                    debitCardDetails?.balance_amount| number: '1.' + decimalPlace + '-' + decimalPlace\r\n                    }}</label>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n            <div class=\"action_btn_parnt\">\r\n              <ul>\r\n                <li (click)=\"onPlaceOrder()\">\r\n                  <a href=\"javascript:void(0)\">\r\n                    <svg viewBox=\"0 0 22.078 22.079\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <g data-name=\"Layer 2\">\r\n                        <g data-name=\"Layer 1\" id=\"Layer_1-2\">\r\n                          <path\r\n                            d=\"M14.607,21.41H1.673a1,1,0,0,1-1-1V1.673a1,1,0,0,1,1-1h3.68v1A1.674,1.674,0,0,0,7.025,3.345h5.352A1.674,1.674,0,0,0,14.05,1.673v-1h3.68a1,1,0,0,1,1,1V9.254a.335.335,0,0,0,.67,0V1.673A1.675,1.675,0,0,0,17.73,0H1.673A1.675,1.675,0,0,0,0,1.673V20.406a1.675,1.675,0,0,0,1.673,1.673H14.607A.335.335,0,0,0,14.607,21.41ZM6.022.669h7.36v1a1,1,0,0,1-1,1H7.025a1,1,0,0,1-1-1Zm6.914,5.8h-2.23a.335.335,0,0,1,0-.669h2.23A.335.335,0,0,1,12.936,6.468ZM4.712,5.8H8.921a.335.335,0,0,1,0,.669H4.712A.335.335,0,0,1,4.712,5.8Zm-1.784.669c-.273,0-.781.079-.781-.335s.508-.331.781-.334A.335.335,0,0,1,2.928,6.468ZM12.936,9.59H8.921a.335.335,0,0,1,0-.669h4.015A.335.335,0,0,1,12.936,9.59ZM4.712,8.921H7.137a.335.335,0,0,1,0,.669H4.712A.335.335,0,0,1,4.712,8.921ZM2.928,9.59H2.481a.335.335,0,0,1,0-.669h.447A.335.335,0,0,1,2.928,9.59Zm10.008,3.123h-2.23a.335.335,0,0,1,0-.669h2.23A.335.335,0,0,1,12.936,12.713Zm-4.015,0H4.712a.335.335,0,0,1,0-.669H8.921A.335.335,0,0,1,8.921,12.713Zm-5.993,0H2.481a.335.335,0,0,1,0-.669h.447A.335.335,0,0,1,2.928,12.713Zm5.993,3.122H4.712a.335.335,0,0,1,0-.669H8.921A.335.335,0,0,1,8.921,15.835Zm-5.993,0c-.273,0-.781.08-.781-.334s.508-.331.781-.335A.335.335,0,0,1,2.928,15.835Zm5.993,3.123H4.712a.335.335,0,0,1,0-.669H8.921A.335.335,0,0,1,8.921,18.958Zm-5.993,0c-.273,0-.781.08-.781-.335s.508-.33.781-.334A.335.335,0,0,1,2.928,18.958ZM22.072,13.09a1.438,1.438,0,0,0-1.765-1.259,1.447,1.447,0,0,0-1.99-.583,1.473,1.473,0,0,0-1.471-.231V6.958c-.028-1.524-2.627-1.52-2.655,0v8.216c-2.1-.485-5.019.363-4,2.762a.335.335,0,0,0,.351.153,6.531,6.531,0,0,1,2.029-.164c1.224.351,2.441,1.865,3.535,2.307v1.512a.334.334,0,0,0,.334.334h5.307a.333.333,0,0,0,.334-.334V13.19A.879.879,0,0,0,22.072,13.09Zm-.662,8.319H16.772V20.294H21.41Zm0-1.784H16.437c-1.084-.373-2.377-2.015-3.664-2.337a5.757,5.757,0,0,0-2.066.088c-.505-1.845,2.766-1.81,3.728-1.456a.337.337,0,0,0,.425-.322V6.958c.009-.632,1.308-.644,1.317,0v4.729a.336.336,0,0,0,.6.2.788.788,0,0,1,1.23,0,.337.337,0,0,0,.239.135c.291,0,.467-.346.784-.3a.772.772,0,0,1,.751.607.334.334,0,0,0,.189.235c.23.11.433-.135.67-.107a.775.775,0,0,1,.769.73Z\"\r\n                            data-name=\"study program\" id=\"study_program\" />\r\n                        </g>\r\n                      </g>\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.PLACE_ORDER' | translate }}\r\n                  </a>\r\n                </li>\r\n                <li (click)=\"onPlaceOrder(true)\">\r\n                  <a href=\"javascript:void(0)\">\r\n                    <svg data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 122.88 114.81'>\r\n                      <title>Print bill</title>\r\n                      <path\r\n                        d='M18.46,89.86H7.82A7.8,7.8,0,0,1,2.3,87.57l-.24-.26A7.82,7.82,0,0,1,0,82V35.44a7.81,7.81,0,0,1,2.3-5.53l.25-.23a7.77,7.77,0,0,1,5.27-2.06H20.13A8.07,8.07,0,0,1,20,26.14v-18a8.05,8.05,0,0,1,2.39-5.72h0A8.07,8.07,0,0,1,28.1,0H94.78a8.13,8.13,0,0,1,8.11,8.11v18a8.07,8.07,0,0,1-.14,1.48h12.31a7.81,7.81,0,0,1,5.51,2.29h0a7.8,7.8,0,0,1,2.3,5.52V82a7.84,7.84,0,0,1-7.82,7.82H104.42v20.31a4.63,4.63,0,0,1-1.36,3.28,4.32,4.32,0,0,1-.39.34,4.6,4.6,0,0,1-2.89,1H23.1a4.63,4.63,0,0,1-3.28-1.36,3.06,3.06,0,0,1-.34-.39,4.6,4.6,0,0,1-1-2.89V89.86ZM27,27.62H95.91l.19-.17a1.86,1.86,0,0,0,.55-1.31v-18a1.88,1.88,0,0,0-1.87-1.87H28.1a1.87,1.87,0,0,0-1.32.55h0a1.87,1.87,0,0,0-.54,1.32v18a1.84,1.84,0,0,0,.55,1.31l.19.17Zm9.3,71.71a2.4,2.4,0,0,1,0-4.8H63.64a2.4,2.4,0,0,1,0,4.8Zm0-14.56a2.4,2.4,0,0,1,0-4.8H86.61a2.4,2.4,0,0,1,0,4.8ZM7.07,60.61H115.81V35.44a.76.76,0,0,0-.22-.54.77.77,0,0,0-.53-.22H7.82a.76.76,0,0,0-.46.16l-.07.07a.76.76,0,0,0-.22.53V60.61Zm108.74,7.07H102.19a4.13,4.13,0,0,1,.87.69,4.63,4.63,0,0,1,1.36,3.28V82.79h10.64a.75.75,0,0,0,.53-.22.79.79,0,0,0,.22-.53V67.68Zm-95.12,0H7.07V82a.81.81,0,0,0,.15.46l.07.07a.75.75,0,0,0,.53.22H18.46V71.65a4.63,4.63,0,0,1,1.36-3.28,4.13,4.13,0,0,1,.87-.69Zm76.67,4.23H25.52v35.83H97.36V71.91Z' />\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.PRINT_BILL' | translate }}\r\n                  </a>\r\n                </li>\r\n                <li\r\n                  [class.unavlbl_btn]=\"selectedItemFromKotWindow && selectedItemFromKotWindow.pos_item_type != isOpenItem\"\r\n                  data-bs-toggle=\"modal\" data-bs-target=\"#open_item_modal\">\r\n                  <a href=\"javascript:void(0)\">\r\n                    <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.88 112.04\">\r\n                      <defs>\r\n                        <style>\r\n                          .cls-1 {\r\n                            fill-rule: evenodd;\r\n                          }\r\n                        </style>\r\n                      </defs>\r\n                      <title>New name</title>\r\n                      <path class=\"cls-1\"\r\n                        d=\"M109.28,19.61l12.21,9.88a3.77,3.77,0,0,1,.56,5.29l-5.46,6.75L98.53,26.93,104,20.17a3.79,3.79,0,0,1,5.29-.56ZM21.07,30.81a3.18,3.18,0,0,1,0-6.36H74.12a3.18,3.18,0,0,1,0,6.36ZM9.49,0H85.71A9.53,9.53,0,0,1,95.2,9.49v5.63l-4.48,5.53a9.81,9.81,0,0,0-1.18,1.85c-.24.19-.48.4-.71.62V9.49a3.14,3.14,0,0,0-3.12-3.13H9.49A3.14,3.14,0,0,0,6.36,9.49v93.06a3.16,3.16,0,0,0,.92,2.21,3.11,3.11,0,0,0,2.21.92H85.71a3.12,3.12,0,0,0,3.12-3.13V88.2l1.91-.81a10,10,0,0,0,4.34-3.13l.12-.14v18.43A9.54,9.54,0,0,1,85.71,112H9.49A9.51,9.51,0,0,1,0,102.55V9.49A9.53,9.53,0,0,1,9.49,0ZM21.07,87.6a3.19,3.19,0,0,1,0-6.37H56.19a37.1,37.1,0,0,0-.3,6.37Zm0-18.93a3.19,3.19,0,0,1,0-6.37H59.22l0,.27-1.05,6.1Zm0-18.93a3.18,3.18,0,0,1,0-6.36H72.44l-5.11,6.36ZM87.25,78,74.43,83.47c-9.35,3.47-8.93,5.43-8-3.85L69.24,63.4h0l0,0,26.56-33,18,14.6L87.27,78ZM72.31,65.89l11.86,9.59-8.42,3.6c-6.6,2.83-6.42,4.23-5.27-2.53l1.83-10.66Z\" />\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.NEW_NAME' | translate }}\r\n                  </a>\r\n                </li>\r\n                <li\r\n                  [class.unavlbl_btn]=\"selectedItemFromKotWindow && selectedItemFromKotWindow.pos_item_type != isOpenItem\"\r\n                  (click)=\"onNewRateClick()\">\r\n                  <a href=\"javascript:void(0)\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" shape-rendering=\"geometricPrecision\"\r\n                      text-rendering=\"geometricPrecision\" image-rendering=\"optimizeQuality\" fill-rule=\"evenodd\"\r\n                      clip-rule=\"evenodd\" viewBox=\"0 0 474 512.27\">\r\n                      <path\r\n                        d=\"M352.84 253.82h67.5v-13.06c-3.86-14.29-10-23.98-17.97-29.88-7.94-5.88-18.27-8.4-30.38-8.31l-283.53.06c-6.81 0-12.33-5.52-12.33-12.34 0-6.81 5.52-12.33 12.33-12.33l39.5.01c-4.21-6.56-7.76-13.57-10.59-20.95-1.57-4.17-2.93-8.39-4.05-12.72H66.73c-11.55 0-22.07 4.74-29.7 12.37-7.62 7.62-12.36 18.14-12.36 29.7v259.16c0 11.54 4.75 22.06 12.38 29.68 7.6 7.66 18.13 12.39 29.68 12.39h311.54c11.54 0 22.06-4.75 29.7-12.37 7.62-7.64 12.37-18.17 12.37-29.7v-36.97h-67.5c-20.85 0-39.8-8.53-53.5-22.24l-1.29-1.4c-12.96-13.64-20.95-32.01-20.95-52.1v-3.26c0-20.75 8.52-39.67 22.24-53.42l.13-.13c13.75-13.69 32.64-22.19 53.37-22.19zm92.17.7c7.11 1.42 13.48 4.94 18.42 9.88 6.51 6.51 10.57 15.53 10.57 25.46v81.12c0 10.27-4.23 19.66-11.07 26.51a37.281 37.281 0 0 1-17.92 10.07v37.97c0 18.29-7.54 34.97-19.63 47.06l-.05.05c-12.09 12.09-28.77 19.63-47.06 19.63H66.73c-18.28 0-34.98-7.53-47.1-19.64C7.52 480.57 0 463.89 0 445.53V186.37c0-18.37 7.51-35.06 19.59-47.15 12.08-12.08 28.77-19.59 47.14-19.59h43.08c-.05-1.32-.07-2.65-.07-3.99 0-31.9 12.96-60.83 34-81.91 45.05-44.92 118.69-45.02 163.72 0l1.11 1.21c20.31 20.9 32.82 49.37 32.82 80.7 0 1.34-.03 2.67-.07 3.99h36.95c18.31 0 34.99 7.53 47.09 19.63 12.12 12.07 19.65 28.78 19.65 47.11v68.15zm-121.85-76.53h48.5c17.41-.16 32.75 3.8 45.36 13.15 1.13.84 2.24 1.72 3.32 2.64v-7.41c0-11.52-4.75-22.05-12.39-29.69-7.59-7.65-18.1-12.38-29.68-12.38H337.8c-1.1 4.34-2.46 8.59-4.04 12.72-2.82 7.4-6.38 14.4-10.6 20.97zM206.69 64.7c-.04-4.81-.49-8.26 5.49-8.17l24.46.23c6.23-.03 7.89 1.95 7.82 7.79v23.16h23.01c4.81-.03 8.25-.48 8.16 5.49l-.23 24.46c.03 6.24-1.94 7.9-7.79 7.83h-23.15v23.14c.07 5.85-1.59 7.83-7.82 7.79l-24.46.23c-5.98.09-5.53-3.35-5.49-8.16v-23h-23.16c-5.85.07-7.83-1.6-7.79-7.83l-.23-24.46c-.1-5.97 3.35-5.52 8.16-5.49h23.02V64.7zm18.88-45.25c53.12 0 96.18 43.06 96.18 96.19 0 24.7-9.32 47.23-24.63 64.26H154c-15.31-17.03-24.62-39.56-24.62-64.26 0-53.13 43.06-96.19 96.19-96.19zm133.52 280.81c8.13 0 15.51 3.31 20.85 8.66 5.38 5.38 8.69 12.76 8.69 20.89 0 8.12-3.31 15.5-8.65 20.85-5.38 5.38-12.76 8.69-20.89 8.69-8.12 0-15.49-3.31-20.85-8.65l-.06-.06c-5.34-5.36-8.63-12.73-8.63-20.83 0-8.12 3.31-15.5 8.65-20.85l.06-.06c5.35-5.33 12.72-8.64 20.83-8.64z\" />\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.NEW_RATE' | translate }}\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a href=\"javascript:void(0)\" [class.unavlbl_btn]=\"!selectedItemFromKotWindow\"\r\n                    (click)=\"onReprintClick()\">\r\n                    <svg data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 122.88 114.81'>\r\n                      <title>printer</title>\r\n                      <path\r\n                        d='M18.46,89.86H7.82A7.8,7.8,0,0,1,2.3,87.57l-.24-.26A7.82,7.82,0,0,1,0,82V35.44a7.81,7.81,0,0,1,2.3-5.53l.25-.23a7.77,7.77,0,0,1,5.27-2.06H20.13A8.07,8.07,0,0,1,20,26.14v-18a8.05,8.05,0,0,1,2.39-5.72h0A8.07,8.07,0,0,1,28.1,0H94.78a8.13,8.13,0,0,1,8.11,8.11v18a8.07,8.07,0,0,1-.14,1.48h12.31a7.81,7.81,0,0,1,5.51,2.29h0a7.8,7.8,0,0,1,2.3,5.52V82a7.84,7.84,0,0,1-7.82,7.82H104.42v20.31a4.63,4.63,0,0,1-1.36,3.28,4.32,4.32,0,0,1-.39.34,4.6,4.6,0,0,1-2.89,1H23.1a4.63,4.63,0,0,1-3.28-1.36,3.06,3.06,0,0,1-.34-.39,4.6,4.6,0,0,1-1-2.89V89.86ZM27,27.62H95.91l.19-.17a1.86,1.86,0,0,0,.55-1.31v-18a1.88,1.88,0,0,0-1.87-1.87H28.1a1.87,1.87,0,0,0-1.32.55h0a1.87,1.87,0,0,0-.54,1.32v18a1.84,1.84,0,0,0,.55,1.31l.19.17Zm9.3,71.71a2.4,2.4,0,0,1,0-4.8H63.64a2.4,2.4,0,0,1,0,4.8Zm0-14.56a2.4,2.4,0,0,1,0-4.8H86.61a2.4,2.4,0,0,1,0,4.8ZM7.07,60.61H115.81V35.44a.76.76,0,0,0-.22-.54.77.77,0,0,0-.53-.22H7.82a.76.76,0,0,0-.46.16l-.07.07a.76.76,0,0,0-.22.53V60.61Zm108.74,7.07H102.19a4.13,4.13,0,0,1,.87.69,4.63,4.63,0,0,1,1.36,3.28V82.79h10.64a.75.75,0,0,0,.53-.22.79.79,0,0,0,.22-.53V67.68Zm-95.12,0H7.07V82a.81.81,0,0,0,.15.46l.07.07a.75.75,0,0,0,.53.22H18.46V71.65a4.63,4.63,0,0,1,1.36-3.28,4.13,4.13,0,0,1,.87-.69Zm76.67,4.23H25.52v35.83H97.36V71.91Z' />\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.REPRINT_KOT' | translate }}</a>\r\n                </li>\r\n                <li data-bs-toggle=\"modal\" data-bs-target=\"#void_modal\" [class.unavlbl_btn]=\"(selectedItemFromKotWindow == null) || (selectedItemFromKotWindow && selectedItemFromKotWindow.is_new) || !canVoidKOT || \r\n                  selectedItemFromKotWindow.last_action.toUpperCase()=='VO'\">\r\n                  <a href=\"javascript:void(0)\" class=\"form-control\" tabindex=\"0\">\r\n                    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n                      x=\"0px\" y=\"0px\" viewBox=\"0 0 104.69 122.88\" style=\"enable-background:new 0 0 104.69 122.88\"\r\n                      xml:space=\"preserve\">\r\n                      <g>\r\n                        <path\r\n                          d=\"M98.38,88.41l-9.79,10.48L98.38,88.41L98.38,88.41z M84.3,103.48l-9.79,10.48L84.3,103.48L84.3,103.48z M56.85,116.58 c1.74,0,3.15,1.41,3.15,3.15c0,1.74-1.41,3.15-3.15,3.15H7.33c-2.02,0-3.85-0.82-5.18-2.15C0.82,119.4,0,117.57,0,115.55V7.33 c0-2.02,0.82-3.85,2.15-5.18C3.48,0.82,5.31,0,7.33,0h90.02c2.02,0,3.85,0.82,5.18,2.15c1.33,1.33,2.15,3.16,2.15,5.18V72.6 c0,1.74-1.41,3.15-3.15,3.15c-1.74,0-3.15-1.41-3.15-3.15V7.33c0-0.28-0.12-0.54-0.3-0.73c-0.19-0.19-0.45-0.3-0.73-0.3H7.33 c-0.28,0-0.54,0.12-0.73,0.3S6.3,7.05,6.3,7.33v108.21c0,0.28,0.12,0.54,0.3,0.73c0.19,0.19,0.44,0.3,0.73,0.3H56.85L56.85,116.58z M31.54,86.95c-1.74,0-3.16-1.43-3.16-3.19c0-1.76,1.41-3.19,3.16-3.19h20.5c1.74,0,3.16,1.43,3.16,3.19 c0,1.76-1.41,3.19-3.16,3.19H31.54L31.54,86.95z M31.54,42.27c-1.74,0-3.15-1.41-3.15-3.15c0-1.74,1.41-3.15,3.15-3.15h41.61 c1.74,0,3.15,1.41,3.15,3.15c0,1.74-1.41,3.15-3.15,3.15H31.54L31.54,42.27z M31.54,64.59c-1.74,0-3.15-1.41-3.15-3.15 c0-1.74,1.41-3.15,3.15-3.15h41.61c1.74,0,3.15,1.41,3.15,3.15c0,1.74-1.41,3.15-3.15,3.15H31.54L31.54,64.59z M71.52,91.55 c-1.27-1.18-1.34-3.17-0.16-4.44c1.18-1.27,3.17-1.34,4.44-0.16l10.49,9.79l9.78-10.48c1.18-1.27,3.17-1.34,4.44-0.16 c1.27,1.18,1.34,3.17,0.16,4.44l-9.79,10.48l10.48,9.78c1.27,1.18,1.34,3.17,0.16,4.44c-1.18,1.27-3.17,1.34-4.44,0.16l-10.48-9.79 l-9.78,10.48c-1.18,1.27-3.17,1.34-4.44,0.16c-1.27-1.18-1.34-3.17-0.16-4.44L82,101.34L71.52,91.55L71.52,91.55z\" />\r\n                      </g>\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.VOID_ITEM' | translate }}\r\n                  </a>\r\n                </li>\r\n                <li (click)=\"selectedItemFromKotWindow && selectedItemFromKotWindow.is_new && onDeleteItem()\"\r\n                  [class.unavlbl_btn]=\"selectedItemFromKotWindow && selectedItemFromKotWindow.is_dirty\">\r\n                  <a href=\"javascript:void(0)\">\r\n                    <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 105.7 122.88\">\r\n                      <title>Delete item</title>\r\n                      <path\r\n                        d=\"M30.46,14.57V5.22A5.18,5.18,0,0,1,32,1.55v0A5.19,5.19,0,0,1,35.68,0H70a5.22,5.22,0,0,1,3.67,1.53l0,0a5.22,5.22,0,0,1,1.53,3.67v9.35h27.08a3.36,3.36,0,0,1,3.38,3.37V29.58A3.38,3.38,0,0,1,102.32,33H98.51l-8.3,87.22a3,3,0,0,1-2.95,2.69H18.43a3,3,0,0,1-3-2.95L7.19,33H3.37A3.38,3.38,0,0,1,0,29.58V17.94a3.36,3.36,0,0,1,3.37-3.37Zm36.27,0V8.51H39v6.06ZM49.48,49.25a3.4,3.4,0,0,1,6.8,0v51.81a3.4,3.4,0,1,1-6.8,0V49.25ZM69.59,49a3.4,3.4,0,1,1,6.78.42L73,101.27a3.4,3.4,0,0,1-6.78-.43L69.59,49Zm-40.26.42A3.39,3.39,0,1,1,36.1,49l3.41,51.8a3.39,3.39,0,1,1-6.77.43L29.33,49.46ZM92.51,33.38H13.19l7.94,83.55H84.56l8-83.55Z\" />\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.DELETE_ITEM' | translate }}</a>\r\n                </li>\r\n                <li (click)=\"onBackClick()\">\r\n                  <a href=\"javascript:void(0)\">\r\n                    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n                      x=\"0px\" y=\"0px\" viewBox=\"0 0 122.88 98.86\" style=\"enable-background:new 0 0 122.88 98.86\"\r\n                      xml:space=\"preserve\">\r\n                      <style type=\"text/css\">\r\n                        .st0 {\r\n                          fill-rule: evenodd;\r\n                          clip-rule: evenodd;\r\n                        }\r\n                      </style>\r\n                      <g>\r\n                        <path class=\"st0\"\r\n                          d=\"M0,49.43l48.93,49.43V74.23c30.94-6.41,55.39,0.66,73.95,24.19c-3.22-48.4-36.29-71.76-73.95-73.31V0L0,49.43 L0,49.43L0,49.43z\" />\r\n                      </g>\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.BACK' | translate }}\r\n                  </a>\r\n                </li>\r\n                <li (click)=\"onDefaultMenu()\">\r\n                  <a href=\"javascript:void(0)\">\r\n                    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n                      x=\"0px\" y=\"0px\" viewBox=\"0 0 98.71 122.88\" style=\"enable-background:new 0 0 98.71 122.88\"\r\n                      xml:space=\"preserve\">\r\n                      <g>\r\n                        <path\r\n                          d=\"M7.41,0h78.71c2.04,0,3.89,0.83,5.24,2.18c1.34,1.34,2.18,3.2,2.18,5.24v11.36h3.25c1.06,0,1.93,0.86,1.93,1.93 c0,1.06-0.86,1.93-1.93,1.93h-3.25v12.93h3.25c1.06,0,1.93,0.86,1.93,1.93c0,1.06-0.86,1.93-1.93,1.93h-3.25v12.93h3.25 c1.06,0,1.93,0.86,1.93,1.93c0,1.06-0.86,1.93-1.93,1.93h-3.25v12.93h3.25c1.06,0,1.93,0.86,1.93,1.93c0,1.06-0.86,1.93-1.93,1.93 h-3.25V85.9h3.25c1.06,0,1.93,0.86,1.93,1.93c0,1.06-0.86,1.93-1.93,1.93h-3.25v12.93h3.25c1.06,0,1.93,0.86,1.93,1.93 c0,1.06-0.86,1.93-1.93,1.93h-3.25v8.93c0,2.04-0.83,3.89-2.18,5.24c-1.34,1.34-3.2,2.18-5.24,2.18H7.41 c-2.04,0-3.89-0.83-5.24-2.18c-1.34-1.34-2.18-3.2-2.18-5.24V7.41c0-2.04,0.83-3.89,2.18-5.24C3.52,0.83,5.37,0,7.41,0L7.41,0z M27.66,76.21c0-0.48,0.39-0.87,0.87-0.87c0.48,0,0.87,0.39,0.87,0.87v16.85c0,0.02,0,0.04,0,0.06c0,0.25,0.01,0.53,0.02,0.81 c0.05,2.34,0.1,4.68-0.26,7.06c-0.04,0.24-0.06,0.48-0.09,0.74c-0.17,1.52-0.39,3.37-1.83,4.06c-0.12,0.06-0.25,0.09-0.38,0.09v0 h-1.87c-0.08,0-0.15-0.01-0.22-0.03c-0.54-0.11-1.02-0.4-1.45-0.89c-0.38-0.43-0.71-1.03-1-1.79c-0.03-0.08-0.05-0.16-0.05-0.24 l0,0c-0.13-1.79-0.22-3.62-0.26-5.48c-0.03-1.83-0.02-3.66,0.06-5.5h0V73.02c-1.78-0.61-3.11-1.65-4.05-3.13 c-1.01-1.6-1.53-3.69-1.64-6.29l0-0.03c-0.06-2,0.09-3.79,0.46-5.37c0.38-1.62,0.98-3.03,1.8-4.21c0.89-1.28,1.96-2.25,3.11-2.93 c1.37-0.79,2.85-1.16,4.33-1.11c1.48,0.05,2.94,0.53,4.24,1.44c1.08,0.75,2.05,1.79,2.82,3.13c1.07,1.85,1.75,4.65,1.81,7.54 c0.04,2.13-0.24,4.31-0.94,6.2c-0.73,1.97-1.9,3.63-3.62,4.63c-1.02,0.59-2.21,0.94-3.6,0.97c-0.48,0.01-0.87-0.37-0.88-0.85 c-0.01-0.48,0.37-0.87,0.85-0.88c1.08-0.02,2-0.29,2.77-0.74c1.33-0.77,2.26-2.12,2.86-3.73c0.62-1.69,0.88-3.65,0.84-5.57 c-0.05-2.6-0.64-5.09-1.58-6.7c-0.64-1.1-1.43-1.96-2.31-2.57c-1.02-0.71-2.16-1.09-3.31-1.13c-1.15-0.04-2.32,0.25-3.4,0.88 c-0.94,0.55-1.82,1.35-2.56,2.42c-0.7,1-1.21,2.21-1.53,3.61c-0.33,1.44-0.47,3.08-0.42,4.93l0,0.01c0.09,2.29,0.53,4.1,1.37,5.44 c0.8,1.26,1.99,2.11,3.64,2.56c0.39,0.08,0.69,0.43,0.69,0.85v19.56h0c0,0.01,0,0.02,0,0.03c-0.08,1.83-0.1,3.64-0.06,5.44 c0.03,1.74,0.12,3.49,0.25,5.27c0.2,0.51,0.41,0.88,0.63,1.14c0.15,0.17,0.3,0.28,0.45,0.32h1.54c0.47-0.41,0.61-1.61,0.73-2.61 c0.03-0.29,0.06-0.57,0.1-0.8c0.35-2.26,0.3-4.51,0.25-6.76c-0.01-0.26-0.01-0.53-0.02-0.81c0-0.03,0-0.06,0-0.09L27.66,76.21 L27.66,76.21L27.66,76.21z M65.68,83.19c-0.48,0-0.87-0.39-0.87-0.87c0-0.48,0.39-0.87,0.87-0.87h4.92V66.74 c-0.27-4.18-1.24-7.37-2.78-9.78c-1.27-1.99-2.93-3.46-4.91-4.52v48.34c0,0.28,0,0.61,0.01,0.84c0.04,1,0.22,2.19,1.14,2.15 c0.01,0,0.02,0,0.03,0v0h1.94c0.98-0.13,0.95-1.32,0.94-2.34c0-0.26-0.01-0.49-0.01-0.5V86.25c0-0.48,0.39-0.87,0.87-0.87 c0.48,0,0.87,0.39,0.87,0.87v14.67c0,0.33,0,0.4,0,0.47c0.03,1.77,0.07,3.81-2.48,4.09c-0.05,0.01-0.11,0.02-0.17,0.02h-1.96v0 c-2.4,0.08-2.83-2.04-2.91-3.81c-0.02-0.39-0.02-0.67-0.02-0.9V51.06h0c0-0.11,0.02-0.23,0.07-0.34c0.19-0.44,0.7-0.64,1.14-0.45 c2.82,1.21,5.17,3.06,6.89,5.77c1.69,2.66,2.76,6.12,3.05,10.6c0,0.04,0.01,0.07,0.01,0.11v15.59c0,0.48-0.39,0.87-0.87,0.87H65.68 L65.68,83.19L65.68,83.19z M47.41,50.78c0-0.48,0.39-0.87,0.87-0.87c0.48,0,0.87,0.39,0.87,0.87v14.65c0,0.48-0.39,0.87-0.87,0.87 c-0.48,0-0.87-0.39-0.87-0.87V50.78L47.41,50.78z M52.86,50.79c0-0.48,0.39-0.87,0.87-0.87c0.48,0,0.87,0.39,0.87,0.87v15.95 c0,0.04,0,0.07-0.01,0.11c-0.13,2.23-0.66,3.94-1.57,5.12c-0.98,1.28-2.37,1.95-4.15,2c-0.48,0.01-0.88-0.36-0.89-0.84 c-0.01-0.48,0.36-0.88,0.84-0.89c1.23-0.04,2.17-0.47,2.82-1.32c0.7-0.91,1.1-2.3,1.21-4.18v-0.01V50.79L52.86,50.79L52.86,50.79z M41.7,50.74c0-0.48,0.39-0.87,0.87-0.87c0.48,0,0.87,0.39,0.87,0.87v15.95l0,0.02c0.07,1.36,0.3,2.47,0.7,3.31 c0.36,0.74,0.86,1.23,1.54,1.45c0.37,0.12,0.6,0.46,0.6,0.82h0v30.04c0,0.03,0,0.07-0.01,0.1c-0.04,0.56,0.03,0.95,0.21,1.18 c0.16,0.2,0.43,0.33,0.82,0.38h1.91c0.25-0.1,0.46-0.26,0.61-0.48c0.2-0.29,0.34-0.71,0.41-1.23V76.63c0-0.48,0.39-0.87,0.87-0.87 c0.48,0,0.87,0.39,0.87,0.87v25.7h0c0,0.04,0,0.07-0.01,0.11c-0.1,0.83-0.34,1.51-0.71,2.06c-0.39,0.56-0.91,0.96-1.57,1.17 c-0.1,0.04-0.22,0.07-0.33,0.07h-2.08v0c-0.03,0-0.06,0-0.1-0.01c-0.9-0.1-1.59-0.44-2.06-1.06c-0.44-0.58-0.64-1.36-0.56-2.36 V72.87c-0.86-0.43-1.5-1.14-1.97-2.09c-0.51-1.04-0.79-2.38-0.87-3.97c-0.01-0.04-0.01-0.07-0.01-0.11L41.7,50.74L41.7,50.74 L41.7,50.74z M17.32,16.35h57.06c1.42,0,2.58,1.16,2.58,2.58v12.33c0,1.42-1.16,2.58-2.58,2.58H17.32c-1.42,0-2.58-1.16-2.58-2.58 V18.94C14.74,17.52,15.9,16.35,17.32,16.35L17.32,16.35z M86.65,106.54c-1.06,0-1.93-0.86-1.93-1.93c0-1.06,0.86-1.93,1.93-1.93 h3.05V89.75h-3.05c-1.06,0-1.93-0.86-1.93-1.93c0-1.06,0.86-1.93,1.93-1.93h3.05V72.97h-3.05c-1.06,0-1.93-0.86-1.93-1.93 c0-1.06,0.86-1.93,1.93-1.93h3.05V56.19h-3.05c-1.06,0-1.93-0.86-1.93-1.93c0-1.06,0.86-1.93,1.93-1.93h3.05V39.41h-3.05 c-1.06,0-1.93-0.86-1.93-1.93c0-1.06,0.86-1.93,1.93-1.93h3.05V22.63h-3.05c-1.06,0-1.93-0.86-1.93-1.93 c0-1.06,0.86-1.93,1.93-1.93h3.05V7.41c0-0.98-0.4-1.87-1.05-2.52C88,4.24,87.11,3.84,86.13,3.84H7.41c-0.98,0-1.87,0.4-2.52,1.05 C4.24,5.54,3.84,6.43,3.84,7.41v108.05c0,0.98,0.4,1.87,1.05,2.52c0.65,0.65,1.54,1.05,2.52,1.05h78.71c0.98,0,1.87-0.4,2.52-1.05 c0.65-0.65,1.05-1.54,1.05-2.52v-8.93H86.65L86.65,106.54z\" />\r\n                      </g>\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.DEFAULT_MENU' | translate }}\r\n                  </a>\r\n                </li>\r\n                <li (click)=\"onChangeMenu()\">\r\n                  <a href=\"javascript:void(0)\">\r\n                    <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.88 101.8\">\r\n                      <title>change</title>\r\n                      <path\r\n                        d=\"M13.56,48.8c-.7-10.22-.24-18.51,3.25-24.34s10.13-9.25,21.58-9.25h2v-5h0c0-2,.36-3.21,1.25-3.7s2.14-.09,3.66,1.36L57.26,19.24A3.44,3.44,0,0,1,58.61,22a4,4,0,0,1-1.48,2.52L45.37,35.78c-1.43,1.44-2.63,1.87-3.61,1.38s-1.35-1.69-1.33-3.59h0V27.49c-11.61-.44-14.11,4.35-14.51,10.72-.12,2-.06,4.23,0,6.46,0,1.44.08,2.89.08,4.12A1.18,1.18,0,0,1,24.83,50H14.73a1.17,1.17,0,0,1-1.17-1.17ZM76.42,0h40.7a5.77,5.77,0,0,1,5.76,5.76V37.4a5.74,5.74,0,0,1-1.69,4.07,3.9,3.9,0,0,1-.38.33,5.68,5.68,0,0,1-3.69,1.36H76.42a5.75,5.75,0,0,1-5.75-5.76V5.76A5.73,5.73,0,0,1,72.35,1.7h0A5.78,5.78,0,0,1,76.42,0ZM5.76,58.64h40.7a5.73,5.73,0,0,1,4,1.69h0a5.75,5.75,0,0,1,1.68,4.06V96a5.74,5.74,0,0,1-1.68,4.07,3.9,3.9,0,0,1-.38.33,5.72,5.72,0,0,1-3.69,1.36H5.76A5.77,5.77,0,0,1,0,96V64.4a5.72,5.72,0,0,1,1.7-4.06h0a5.74,5.74,0,0,1,4.07-1.69Zm97.61-3.51c.7,10.23.24,18.52-3.25,24.35S90,88.72,78.54,88.72H76.49v5h0c0,2-.35,3.21-1.24,3.7s-2.14.09-3.66-1.36L59.67,84.69A3.42,3.42,0,0,1,58.32,82a4.06,4.06,0,0,1,1.48-2.53L71.56,68.16c1.43-1.44,2.63-1.88,3.61-1.38s1.35,1.68,1.32,3.59h0v6.08c11.61.44,14.1-4.35,14.5-10.73.13-2,.07-4.22,0-6.46,0-1.43-.08-2.89-.08-4.12A1.17,1.17,0,0,1,92.09,54h10.1a1.18,1.18,0,0,1,1.18,1.17Z\" />\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.CHANGE_MENU' | translate }}\r\n                  </a>\r\n                </li>\r\n\r\n                <li class=\"toggle_list_icn\" (click)=\"kotWindow.classList.toggle('hght_full')\"><a>{{\r\n                    'ACTION_BUTTON.NUMPAD' | translate }}</a></li>\r\n              </ul>\r\n            </div>\r\n            <div class=\"keypad_main_blk\">\r\n              <app-digital-keyboard></app-digital-keyboard>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- SOF Common keyboard html -->\r\n    <app-qwerty-keyboard></app-qwerty-keyboard>\r\n    <!-- EOF Common keyboard html -->\r\n\r\n    <!-- SOF Void reason modal -->\r\n    <div class=\"modal fade\" id=\"void_modal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ 'COMMON_LABEL.VOID_REASON' | translate }}</h5>\r\n            <button type=\"button\" #closeVRModalBtn id=\"closeVRModalBtn\" class=\"btn-close\" data-bs-dismiss=\"modal\"\r\n              aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-4 col-sm-3 col-lg-2\">\r\n                <div class=\"generic_inpt\">\r\n                  <label>{{ 'COMMON_LABEL.VOID_QUANTITY' | translate }}</label>\r\n                  <select (change)=\"selectChangeHandler($event.target.value)\" [(ngModel)]=\"selectedVoidQty\">\r\n                    <option *ngFor='let in of counter() ;let i = index'>\r\n                      {{ i + 1 }}\r\n                    </option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-lg-10 selct_ans_blk\">\r\n                <label>{{ 'COMMON_LABEL.SELECT_REASON' | translate }}</label>\r\n                <a href=\"javascript:void(0)\" *ngFor=\"let reason of voidReasonList\"\r\n                  [class.selected]=\"reason.id == selectedVoidReason\" (click)=\"onVoidReasonSelection(reason)\">\r\n                  {{ reason.description }}\r\n                </a>\r\n              </div>\r\n              <div class=\"col-md-12 generic_textarea\">\r\n                <label>{{ 'COMMON_LABEL.OTHER_REASON' | translate }}</label>\r\n                <textarea [(ngModel)]=\"voidReasonNote\" [maxlength]=\"maxChars\"></textarea>\r\n                <span>{{maxChars - voidReasonNote.length}} {{ 'COMMON_LABEL.CHARACTERS_LEFT' | translate }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <div class=\"button_blk\">\r\n              <button type=\"button\" class=\"btn gry_btn\"\r\n                [class.unavlbl_btn]=\"(selectedItemFromKotWindow == null) || (selectedItemFromKotWindow && selectedItemFromKotWindow.is_new) || !canVoidKOT || (!selectedVoidReason && !voidReasonNote)\"\r\n                [disabled]=\"(selectedItemFromKotWindow == null) || (selectedItemFromKotWindow && selectedItemFromKotWindow.is_new) || !canVoidKOT || (!selectedVoidReason && !voidReasonNote)\"\r\n                (click)=\"onVoidItem()\">\r\n                <i class=\"fas fa-times-circle\"></i>{{ 'ACTION_BUTTON.VOID' | translate }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- EOF Void reason modal -->\r\n\r\n    <!-- SOF Other Add-on modal -->\r\n    <div class=\"modal fade\" id=\"other_add_on_modal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ 'PLACE_ORDER.OTHER_ADD_ON' | translate }}</h5>\r\n            <button type=\"button\" #closeOtherAddOnModalBtn id=\"closeOtherAddOnModalBtn\" class=\"btn-close\"\r\n              data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-8 col-md-8 col-lg-8 mb-15\">\r\n                <div class=\"generic_inpt\">\r\n                  <label>{{ 'ACTION_BUTTON.NEW_NAME' | translate }}</label>\r\n                  <input type=\"text\" [(ngModel)]=\"otherAddOnText\" (click)=\"openKeyboard($event)\">\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-4 col-md-4 col-lg-4 mb-15\">\r\n                <div class=\"generic_inpt mb-0\">\r\n                  <label>{{ 'PLACE_ORDER.PRICE' | translate }}</label>\r\n                  <input type=\"number\" [(ngModel)]=\"otherAddOnPrice\" (click)=\"openKeyboard($event)\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <div class=\"button_blk\">\r\n              <button type=\"button\" class=\"btn gry_btn\" (click)=\"onOtherAddOnSelection()\">\r\n                <i class=\"fas fa-times-circle\"></i>{{ 'ACTION_BUTTON.SAVE' | translate }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- EOF Other Add-on modal -->\r\n\r\n    <!-- SOF Open Item modal -->\r\n    <div class=\"modal fade\" id=\"open_item_modal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ 'ACTION_BUTTON.OPEN_ITEM' | translate }}</h5>\r\n            <button type=\"button\" #closeOpenItemModalBtn id=\"closeOpenItemModalBtn\" class=\"btn-close\"\r\n              data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-9 col-md-9 col-lg-9 mb-15\">\r\n                <div class=\"generic_inpt\">\r\n                  <label>{{ 'ACTION_BUTTON.NEW_NAME' | translate }}</label>\r\n                  <input type=\"text\" maxlength=\"50\" [(ngModel)]=\"openItemText\" (click)=\"openKeyboard($event)\"\r\n                    (keyup.enter)=\"onOpenItemTextChange()\" autocomplete=\"none\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <div class=\"button_blk\">\r\n              <button type=\"button\" class=\"btn gry_btn\"\r\n                [class.unavlbl_btn]=\"selectedItemFromKotWindow && selectedItemFromKotWindow.pos_item_type != isOpenItem\"\r\n                [disabled]=\"selectedItemFromKotWindow && selectedItemFromKotWindow.pos_item_type != isOpenItem\"\r\n                (click)=\"onOpenItemTextChange()\">\r\n                <i class=\"fas fa-times-circle\"></i>{{ 'ACTION_BUTTON.SAVE' | translate }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- EOF Open Item modal -->\r\n\r\n\r\n    <!-- SOF Card Swipe modal html -->\r\n    <div class=\"modal fade card_swipe_modl_parnt\" id=\"card_swipe_modl\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-lg modal-dialog-centered\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Card Swipe</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body membr_cntn_modl\">\r\n            <form>\r\n              <div class=\"membr_parnt_cntn_blk flex-column flex-lg-row\">\r\n                <div class=\"membr_cntn_inr\">\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Swipe card here...\" [formControl]=\"inputControl\"\r\n                    autocomplete=\"off\" (keydown.enter)=\"onEnterKey()\" />\r\n                  <!-- <button class=\"btn scrh_btn_main\">Ok</button> -->\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- EOF Card Swipe modal html -->\r\n\r\n    <!-- SOF Member search modal html -->\r\n    <div class=\"modal fade\" id=\"member_srch_modl\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-xl\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Member search</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body membr_cntn_modl\">\r\n            <form [formGroup]=\"memberSearchForm\" (ngSubmit)=\"onMemberSearch()\">\r\n              <div class=\"membr_parnt_cntn_blk flex-column flex-lg-row\">\r\n                <div class=\"membr_cntn_inr\">\r\n                  <label class=\"mb-2 mb-lg-0\">{{ 'MEMBER_SEARCH.MEMBER_ID' | translate }}:</label>\r\n                  <!-- <div class=\"keypad_click membr_inpt\"></div> -->\r\n                  <input type=\"text\" formControlName=\"memberId\" class=\"form-control keypad_click membr_inpt\"\r\n                    placeholder=\"Type here....\" value=\"\" />\r\n                </div>\r\n                <div class=\"membr_cntn_inr\">\r\n                  <label class=\"mb-2 mb-lg-0\">{{ 'MEMBER_SEARCH.FIRST_NAME' | translate }}:</label>\r\n                  <!-- <div class=\"keypad_click membr_inpt\"></div> -->\r\n                  <input type=\"text\" formControlName=\"firstName\" class=\"form-control keypad_click membr_inpt\"\r\n                    placeholder=\"Type here....\" value=\"\" />\r\n                </div>\r\n                <div class=\"membr_cntn_inr\">\r\n\r\n                  <label class=\"mb-2 mb-lg-0\">{{ 'MEMBER_SEARCH.LAST_NAME' | translate }}:</label>\r\n                  <!-- <div class=\"keypad_click membr_inpt\"></div> -->\r\n                  <input type=\"text\" formControlName=\"lastName\" class=\"form-control keypad_click membr_inpt\"\r\n                    placeholder=\"Type here....\" value=\"\" />\r\n                </div>\r\n                <button class=\"btn scrh_btn_main\" (click)=\"onMemberSearch()\"><i class=\"bi bi-search\"></i>{{\r\n                  'ACTION_BUTTON.SEARCH' | translate }}</button>\r\n              </div>\r\n            </form>\r\n            <div class=\"grd_parnt_blk\">\r\n              <div class=\"demo-container dev_grd_blk mb-15\">\r\n                <div class=\"dx-viewport demo-container menu_srch_grid\">\r\n                  <!-- <div id=\"grid\" [style.display]=\"membersDataArray.length > 0 ? 'block' : 'none'\"> -->\r\n                  <dx-data-grid id=\"gridContainer02\" [dataSource]=\"membersDataArray\" [showBorders]=\"false\"\r\n                    [showColumnHeaders]=\"true\" [showRowLines]=\"true\" [showColumnLines]=\"true\"\r\n                    (onSelectionChanged)=\"onGridItemSelection($event)\" keyExpr=\"account_id\"\r\n                    [rowAlternationEnabled]=\"true\" [remoteOperations]=\"true\">\r\n                    <dxo-selection mode=\"single\"></dxo-selection>\r\n                    <dxo-paging [pageSize]=\"5\"> </dxo-paging>\r\n                    <dxo-pager [visible]=\"true\" [allowedPageSizes]=\"allowedPageSizes\" [displayMode]=\"displayModes\"\r\n                      [showPageSizeSelector]=\"true\" [showInfo]=\"true\" [showNavigationButtons]=\"true\"></dxo-pager>\r\n                    <!-- <dxi-column dataField=\"account_id\" visible=\"false\"></dxi-column> -->\r\n                    <dxi-column dataField=\"membership_number\" caption=\"{{ 'MEMBER_SEARCH.MEMBER_ID' | translate }}\"\r\n                      cssClass=\"anchr_clr\">\r\n                    </dxi-column>\r\n                    <dxi-column dataField=\"member_name\" caption=\"{{ 'MEMBER_SEARCH.NAME' | translate }}\"\r\n                      [width]=\"30+'%'\">\r\n                    </dxi-column>\r\n                    <!-- <dxi-column dataField=\"issue_date\" caption=\"{{ 'PLACE_ORDER.MENU_HEADER' | translate }}\"\r\n                        [width]=\"30+'%'\">\r\n                      </dxi-column> -->\r\n                    <dxi-column dataField=\"birth_date\" caption=\"{{ 'MEMBER_SEARCH.BIRTH_DATE' | translate }}\"\r\n                      dataType=\"date\" format=\"dd/MM/yyyy\">\r\n                    </dxi-column>\r\n                    <dxi-column dataField=\"issue_date\" caption=\"{{ 'MEMBER_SEARCH.FROM_DATE' | translate }}\"\r\n                      dataType=\"date\" format=\"dd/MM/yyyy\">\r\n                    </dxi-column>\r\n                    <dxi-column dataField=\"expiry_date\" caption=\"{{ 'MEMBER_SEARCH.TO_DATE' | translate }}\"\r\n                      dataType=\"date\" format=\"dd/MM/yyyy\">\r\n                    </dxi-column>\r\n                    <dxi-column cellTemplate=\"cellTemplate\" [alignment]=\"'left'\" [allowFiltering]=\"false\"\r\n                      caption=\"{{ 'MEMBER_SEARCH.ACTION' | translate }}\" alignment=\"center\" cssClass=\"padg_00\"\r\n                      [allowEditing]=\"false\">\r\n                    </dxi-column>\r\n                    <div dataField=\"account_id\" *dxTemplate=\"let data of 'cellTemplate'\" itemTemplate=\"list-item\">\r\n                      <div hint=\"Information\" alignment=\"left\">\r\n                        <a class=\"userIcon\" title=\"Select member\" tabindex=\"0\" style=\"cursor: pointer;\"><i\r\n                            class=\"bi user_icn\" (click)=\"onSelectMember(data)\"></i></a>\r\n                      </div>\r\n                    </div>\r\n                  </dx-data-grid>\r\n                  <!-- </div> -->\r\n                </div>\r\n                <!-- <div id=\"descContainer\"></div>\r\n                <div id=\"gridContainer02\"></div> -->\r\n              </div>\r\n            </div>\r\n            <div class=\"member_blck_remrk\" *ngIf=\"blockedMemberSelection\">\r\n              {{ 'MEMBER_SEARCH.BLOCKED_MEMBER_DETAILS' | translate }} -\r\n              <span>{{ 'MEMBER_SEARCH.NAME' | translate }}: <b>{{blockedMemberSelection?.member_name}}</b></span>\r\n              <span>{{ 'MEMBER_SEARCH.REASON' | translate }}:\r\n                <b>{{blockedMemberSelection?.block_member_remark}}</b></span>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <div class=\"button_blk\">\r\n              <button type=\"button\" class=\"btn red_btn\" data-bs-dismiss=\"modal\"><i class=\"fas fa-times-circle\"\r\n                  #closeBtn1 id=\"closeBtn1\"></i>{{\r\n                'COMMON_LABEL.CANCEL' | translate }}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- EOF Member Search modal html -->\r\n\r\n\r\n\r\n    <!-- SOF void kot and check modal -->\r\n    <div class=\"modal fade\" #voidConfirmModal id=\"tableTransferModal\" tabindex=\"-1\"\r\n      aria-labelledby=\"exampleTTModalLabel\" aria-modal=\"true\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-body\">\r\n            <h2 class=\"title_cls\">Do you want to void KOT and Check?</h2>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <div class=\"button_blk\">\r\n              <button type=\"button\" class=\"btn gry_btn\" (click)=\"handleModalResponse(true)\">\r\n                <i class=\"fas fa-check-circle\"></i>Yes\r\n              </button>\r\n              <button type=\"button\" class=\"btn lg_gry_btn\" (click)=\"handleModalResponse(false)\"><i\r\n                  class=\"fas fa-times-circle\"></i>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- EOF void kot and check modal -->\r\n\r\n\r\n    <!-- <div #voidConfirmModal class=\"modal fade\" tabindex=\"-1\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-body text-center py-4\">\r\n            <h5>Do you want to void KOT and Check?</h5>\r\n          </div>\r\n          <div class=\"modal-footer justify-content-center\">\r\n            <button (click)=\"handleModalResponse(true)\" type=\"button\" class=\"btn gry_btn\">Yes</button>\r\n            <button (click)=\"handleModalResponse(false)\" type=\"button\" class=\"btn lg_gry_btn\">No</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div> -->\r\n  </main>\r\n</div>","import { ChangeDetectorRef, Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { environment } from 'projects/pos/src/environments/environment';\r\nimport { PosCheckDetail } from '../../models/pos-check-detail.model';\r\nimport { PosCheck } from '../../models/pos-check.model';\r\nimport { PosItemMenu } from '../../models/pos-item-menu.model';\r\nimport { PosItemModifier } from '../../models/pos-item-modifier.model';\r\nimport { PosMenuHeader } from '../../models/pos-menu-header.model';\r\nimport { PosMenuRestaurant } from '../../models/pos-menu-restaurant.model';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ChargeService } from '../../services/charge.service';\r\nimport { CommonService } from '../../services/common.service';\r\nimport { OutletService } from '../../services/outlet.service';\r\nimport { PointerService } from '../../services/pointer.service';\r\nimport { PosCheckService } from '../../services/pos-check.service';\r\nimport { PosItemMenuService } from '../../services/pos-item-menu.service';\r\nimport { PosRestaurant } from '../../models/pos-restaurant.model';\r\nimport { OutletSetting } from '../../models/outlet-setting.model';\r\nimport { Charge } from '../../models/charge.model';\r\nimport { PosCheckDetailModifier } from '../../models/pos-check-detail-modifier.model';\r\nimport { AlertService } from 'projects/pos/src/app/services/alert.service';\r\nimport { PosPaymentRestaurant } from '../../models/pos-payment-restaurant.model';\r\nimport { PosCheckSettlement } from '../../models/pos-check-settlement.model';\r\nimport { User } from '../../models/user.model';\r\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport CustomStore from 'devextreme/data/custom_store';\r\nimport { HttpClient, HttpHeaders, HttpParams, HttpXhrBackend } from '@angular/common/http';\r\nimport { lastValueFrom } from 'rxjs';\r\nimport { DebitCardsService } from '../../services/debit-cards.service';\r\nimport { MemberSearchService } from '../../services/member-search.service';\r\nimport { VoidReason } from '../../models/void-reason.model';\r\n\r\ndeclare function enableMenuHeadTab(): any;\r\ndeclare var Stimulsoft: any;\r\ndeclare function initializeKeyboard(event): any;\r\n\r\n@Component({\r\n  selector: 'app-qsr',\r\n  templateUrl: './qsr.component.html'\r\n})\r\nexport class QsrComponent {\r\n  inputControl = new FormControl('');\r\n  outletId: string = \"\";\r\n  defaultMenuId: string = \"\";\r\n  memberSearchForm!: FormGroup;\r\n  readonly allowedPageSizes = [5, 10, 25, 50, 100, 'all'];\r\n  readonly displayModes = [{ text: \"Display Mode 'full'\", value: 'full' }, { text: \"Display Mode 'compact'\", value: 'compact' }];\r\n  displayMode = 'full';\r\n  currentMenuItems: PosItemMenu[] = [];\r\n  posItemModifiers: PosItemModifier[] = [];\r\n  menuHeaders: PosMenuHeader[] = [];\r\n  searchItemList: any[] = [];\r\n  tableCode: string = \"\";\r\n  posCheck: PosCheck = new PosCheck();\r\n  businessDate: string = \"\";\r\n  currentUserShift: number;\r\n  selectedItemFromKotWindow: PosCheckDetail;\r\n  isOpenItem = environment.POS_IC_OPEN_ITEM;\r\n  posMenuRestaurants: PosMenuRestaurant[] = [];\r\n  showItemAddOns: boolean = false;\r\n  selectedItemModifier: PosItemModifier[] = [];\r\n  decimalPlace: number = this.pointerService.getDecimalPlaceValue();\r\n  maxChars: number = 150;\r\n  currencySymbol: string = \"\";\r\n  otherAddOnText: string = \"\";\r\n  otherAddOnPrice: number = 0;\r\n  openItemText: string = \"\";\r\n  selectedPayment: PosPaymentRestaurant;\r\n  paymentModeList: PosPaymentRestaurant[] = [];\r\n  options: any = new Stimulsoft.Viewer.StiViewerOptions();\r\n  viewer: any = new Stimulsoft.Viewer.StiViewer(this.options, 'StiViewer', false);\r\n  outletSettingData: OutletSetting[] = JSON.parse(localStorage.getItem(\"outletSetting\"));\r\n  pointersData: any;\r\n  currentOutletSettings: any;\r\n  selectedMember: any = {};\r\n  blockedMemberSelection: any = {};\r\n  membersDataArray: any = [];\r\n  debitCardDetails: any = [];\r\n  debitCardNumber: any;\r\n  voidReasonList: VoidReason[] = [];\r\n\r\n\r\n  @ViewChild('closeBtn1') closeBtn1: ElementRef;\r\n\r\n  @ViewChild(\"txtSearchInput\") txtSearchInput: ElementRef;\r\n  @ViewChild(\"scrollMe\") private myScrollContainer: ElementRef;\r\n  @ViewChild('search') search: ElementRef;\r\n  @ViewChild('closeOtherAddOnModalBtn') closeOtherAddOn: ElementRef;\r\n  @ViewChild('closeOpenItemModalBtn') closeOpenItem: ElementRef;\r\n\r\n  constructor(private posItemMenuService: PosItemMenuService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private posCheckService: PosCheckService,\r\n    private commonService: CommonService,\r\n    private chargeService: ChargeService,\r\n    private outletService: OutletService,\r\n    private pointerService: PointerService,\r\n    private changeDetector: ChangeDetectorRef,\r\n    private alertService: AlertService,\r\n    private formBuilder: FormBuilder,\r\n    private authService: AuthService,\r\n    private debitCardService: DebitCardsService,\r\n    private memberSearchService: MemberSearchService,\r\n\r\n\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    enableMenuHeadTab();\r\n\r\n    this.outletId = this.activatedRoute.snapshot.params['outlet_id'];\r\n    this.tableCode = this.activatedRoute.snapshot.params[\"table_code\"];\r\n    this.pointersData = JSON.parse(localStorage.getItem(\"pointerData\"));\r\n\r\n    if (this.outletSettingData) {\r\n      let currentOutletSetting = this.outletSettingData.filter(a => a.pos_restaurant_id === +this.outletId);\r\n      if (currentOutletSetting.length > 0) {\r\n        this.defaultMenuId = currentOutletSetting[0].default_menu_id.toString();\r\n        this.loadDefaultMenuItems();\r\n      }\r\n    } else {\r\n      this.router.navigate(['/outlet']);\r\n    }\r\n\r\n    this.currentUserShift = this.commonService.getCurrentUserShiftNumber(this.outletId);\r\n\r\n    if (this.outletId) {\r\n      const outletData: PosRestaurant[] = JSON.parse(localStorage.getItem(\"posRestaurant\"));\r\n      this.currentOutletSettings = this.outletSettingData.filter(a => a.pos_restaurant_id === +this.outletId);\r\n      if (!outletData) {\r\n        this.outletService.getOutletDetailsBy(this.outletId, PointerService.getISOBusinessDate())\r\n          .subscribe({\r\n            next: (responseData: any) => {\r\n              const currentOutletData = responseData.filter(a => a.id == +this.outletId);\r\n\r\n              if (currentOutletData.length > 0) {\r\n                //this.paymentModeList = currentOutletData[0].pos_payment_restaurants.filter(b => b.active_ind);\r\n                this.paymentModeList = currentOutletData[0].pos_payment_restaurants;\r\n                this.posMenuRestaurants = currentOutletData[0].pos_menu_restaurants;\r\n              }\r\n            },\r\n            error: (error: any) => {\r\n              if (error.errors && error.errors.length > 0) {\r\n                this.alertService.error(error.errors[0]);\r\n              } else {\r\n                this.alertService.error(error);\r\n              }\r\n            }\r\n          });\r\n      } else {\r\n        const currentOutletData = outletData.filter(a => a.id == +this.outletId);\r\n\r\n        if (currentOutletData.length > 0) {\r\n          // this.paymentModeList = currentOutletData[0].pos_payment_restaurants.filter(b => b.active_ind);\r\n          this.paymentModeList = currentOutletData[0].pos_payment_restaurants;\r\n          this.posMenuRestaurants = currentOutletData[0].pos_menu_restaurants;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.memberSearchForm = this.formBuilder.group({\r\n      memberId: [''],\r\n      firstName: [''],\r\n      lastName: [''],\r\n    },\r\n      { validators: this.atLeastOneRequired }\r\n    )\r\n\r\n    this.scrollToBottom();\r\n    this.currencySymbol = PointerService.getLocalCurrencySymbol();\r\n  }\r\n\r\n  atLeastOneRequired(group: FormGroup) {\r\n    const isAtLeastOneFilled = Object.values(group.controls).some(control => control.value?.trim() !== '');\r\n    return isAtLeastOneFilled ? null : { atLeastOneRequired: true };\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    enableMenuHeadTab();\r\n    this.txtSearchInput.nativeElement.focus();\r\n    this.changeDetector.detectChanges();\r\n    let element: HTMLElement = document.getElementById(\"coversInput\") as HTMLElement;\r\n    element.click();\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    this.changeDetector.detectChanges();\r\n  }\r\n\r\n\r\n  onEnterKey(documentNumber?: any) {\r\n    let value: any;\r\n    if (documentNumber) {\r\n      value = documentNumber;\r\n    } else {\r\n      value = this.inputControl.value;\r\n    }\r\n    if (value?.trim()?.length > 5 && this.debitCardNumber != value?.trim()) {\r\n      this.debitCardDetails = {};\r\n      this.debitCardService.fetchDebitCardData(value)\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            this.membersDataArray = [];\r\n            this.memberSearchService.fetchMemberDetailsByDebitCard(value)\r\n              .subscribe({\r\n                next: (result: any) => {\r\n                  result = result?.accounts[0];\r\n                  if (result?.block_member_remark?.length > 0) {\r\n                    this.alertService.error(result?.title + \" \" + result?.first_name + \" \" + result?.last_name + \" \" + result?.block_member_remark);\r\n                    this.inputControl.setValue(\"\");\r\n                  } else {\r\n                    this.debitCardNumber = data?.debit_cards[0]?.debit_card_number;\r\n                    this.inputControl.setValue(data?.debit_cards[0]?.debit_card_number);\r\n                    this.createMemberObj(result);\r\n                    this.debitCardDetails = data?.debit_cards[0];\r\n                  }\r\n                },\r\n                error: (err: any) => {\r\n                  this.alertService.error(\"err\", err);\r\n                }\r\n              })\r\n          },\r\n          error: (err: any) => {\r\n            this.alertService.error(\"err\", err);\r\n          }\r\n        });\r\n\r\n    };\r\n  }\r\n\r\n  scrollToBottom(): void {\r\n    try {\r\n      this.myScrollContainer.nativeElement.scrollTop = this.myScrollContainer.nativeElement.scrollHeight;\r\n    }\r\n    catch (err) { }\r\n  }\r\n\r\n  mapMenuHeaderSubheader(): void {\r\n    this.menuHeaders = [...new Map(this.currentMenuItems.map((item) => [item.pos_menu_header_id, item.menu_header])).values()];\r\n  }\r\n\r\n  onMenuHeaderSelection(): void {\r\n    enableMenuHeadTab();\r\n  }\r\n\r\n  onKeyUp(event): void {\r\n    if (event.target.value) {\r\n      this.searchItemList = this.currentMenuItems.filter(x => x.description.toLowerCase().includes(event.target.value.toLowerCase()));\r\n    } else {\r\n      this.searchItemList = [];\r\n    }\r\n  }\r\n\r\n  onGridItemSelection(event): void {\r\n    if (event.selectedRowsData.length > 0) {\r\n      this.onItemSelection(event.selectedRowsData[0]);\r\n      this.searchItemList = [];\r\n      this.txtSearchInput.nativeElement.value = \"\";\r\n      this.txtSearchInput.nativeElement.focus();\r\n    }\r\n  }\r\n\r\n  onItemSelection(item: PosItemMenu): void {\r\n    let isHappyHourApplicable: boolean = false;\r\n\r\n    if (item && item.pos_menu_id) {\r\n      //isHappyHourApplicable = this.commonService.isHappyHour(item.pos_menu_id, this.outletId);\r\n    }\r\n\r\n    const objItem = this.posCheck.pos_check_details.filter(x => x.pos_item_id === item.pos_item_id && x.is_new);\r\n\r\n    if (objItem && objItem.length > 0) {\r\n      objItem[0].quantity += 1;\r\n      this.selectedItemFromKotWindow = objItem[0];\r\n    } else {\r\n      // new item added\r\n      let newItem = new PosCheckDetail();\r\n      newItem.is_new = true;\r\n      newItem.pos_item_id = item.pos_item_id;\r\n      newItem.shift = this.currentUserShift;\r\n      newItem.pos_restaurant_id = +this.outletId;\r\n      newItem.service = item.pos_item.account_code;\r\n      newItem.charge_id = isHappyHourApplicable ? item.happy_hour_charge_id : item.pos_item_charge_id;\r\n      newItem.item_description = isHappyHourApplicable ? item.happy_hour_description : item.description;\r\n      newItem.pos_menu_id = item.pos_menu_id;\r\n      newItem.pos_kitchen_id = item.pos_kitchen_id;\r\n      newItem.serial_number = this.posCheck.pos_check_details.length + 1;\r\n      newItem.quantity = 1;\r\n      newItem.rate = isHappyHourApplicable ? item.happy_hour_price : item.pos_item_price;\r\n      newItem.currency_id = PointerService.getLocalCurrencyId();\r\n\r\n      if (item.pos_item && item.pos_item.item_class == environment.POS_IC_OPEN_ITEM) {\r\n        newItem.pos_item_name_on_check = item.name_on_check;\r\n      }\r\n\r\n      newItem.do_not_print_price_ind = item.do_not_print_price_on_check_ind;\r\n\r\n      if (typeof (newItem.charge_id) != 'undefined' || newItem.charge_id != null) {\r\n        let departmentCode: string = this.outletService.getDepartmentCodeBy(this.outletId);\r\n        let chargeCode: string = departmentCode + item.pos_item.account_code;\r\n        let selectedCharge: Charge = this.chargeService.getChargeByCode(chargeCode);\r\n\r\n        newItem.charge_id = selectedCharge.id;\r\n      }\r\n\r\n      newItem.pos_item_type = item.pos_item.item_class;\r\n\r\n      this.posCheck.pos_check_details.push(newItem);\r\n      this.selectedItemFromKotWindow = newItem;\r\n    }\r\n\r\n    this.posCheckService.updateOrder(this.posCheck);\r\n  }\r\n\r\n  onKotItemSelection(posCheckDetail: PosCheckDetail) {\r\n    this.selectedItemFromKotWindow = posCheckDetail;\r\n    if (this.selectedItemFromKotWindow.item_status != environment.STATUS_VOIDED) {\r\n      const numericInput: HTMLInputElement = document.getElementById(\"numericInput\") as HTMLInputElement;\r\n      if (numericInput && numericInput.value != \"\") {\r\n        if (this.selectedItemFromKotWindow.is_new) {\r\n          const objIndex = this.posCheck.pos_check_details.findIndex(x => x == this.selectedItemFromKotWindow);\r\n          if (objIndex > -1) {\r\n            this.posCheck.pos_check_details[objIndex].quantity += +numericInput.value;\r\n            this.posCheckService.updateOrder(this.posCheck);\r\n            numericInput.value = \"\";\r\n          }\r\n        } else {\r\n          //add same item as new kot item with specified qty\r\n\r\n          let newItem = new PosCheckDetail();\r\n          newItem.is_new = true;\r\n          newItem.pos_item_id = posCheckDetail.pos_item_id;\r\n          newItem.shift = this.currentUserShift;\r\n          newItem.pos_restaurant_id = +this.outletId;\r\n          newItem.service = posCheckDetail.service;\r\n          newItem.charge_id = posCheckDetail.charge_id;\r\n          newItem.item_description = posCheckDetail.item_description;\r\n          newItem.pos_menu_id = posCheckDetail.pos_menu_id;\r\n          newItem.pos_kitchen_id = posCheckDetail.pos_kitchen_id;\r\n          newItem.serial_number = this.posCheck.pos_check_details.length + 1;\r\n          newItem.rate = posCheckDetail.rate;\r\n          newItem.currency_id = PointerService.getLocalCurrencyId();\r\n          newItem.pos_item_name_on_check = posCheckDetail.pos_item_name_on_check;\r\n          newItem.do_not_print_price_ind = posCheckDetail.do_not_print_price_ind;\r\n          newItem.charge_id = posCheckDetail.charge_id;\r\n          newItem.pos_item_type = posCheckDetail.pos_item_type;\r\n\r\n          newItem.quantity = +numericInput.value;\r\n          this.posCheck.pos_check_details.push(newItem);\r\n\r\n          this.posCheckService.updateOrder(this.posCheck);\r\n          numericInput.value = \"\";\r\n          this.selectedItemFromKotWindow = newItem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onQtyMinus(posCheckDetail: PosCheckDetail) {\r\n    this.selectedItemFromKotWindow = posCheckDetail;\r\n    if (this.selectedItemFromKotWindow.item_status != environment.STATUS_VOIDED) {\r\n      if (this.selectedItemFromKotWindow.is_new) {\r\n        const objIndex = this.posCheck.pos_check_details.findIndex(x => x == this.selectedItemFromKotWindow);\r\n        if (objIndex > -1 && this.posCheck.pos_check_details[objIndex].quantity > 1) {\r\n          this.posCheck.pos_check_details[objIndex].quantity -= 1;\r\n          this.posCheckService.updateOrder(this.posCheck);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onQtyAdd(posCheckDetail: PosCheckDetail) {\r\n    this.selectedItemFromKotWindow = posCheckDetail;\r\n    if (this.selectedItemFromKotWindow.item_status != environment.STATUS_VOIDED) {\r\n      if (this.selectedItemFromKotWindow.is_new) {\r\n        const objIndex = this.posCheck.pos_check_details.findIndex(x => x == this.selectedItemFromKotWindow);\r\n        if (objIndex > -1) {\r\n          this.posCheck.pos_check_details[objIndex].quantity += 1;\r\n          this.posCheckService.updateOrder(this.posCheck);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onDeleteItem(): void {\r\n    if (this.selectedItemFromKotWindow) {\r\n      const objIndex = this.posCheck.pos_check_details.findIndex(x => x.is_new && x.pos_item_id === this.selectedItemFromKotWindow.pos_item_id);\r\n      if (objIndex > -1) {\r\n        this.posCheck.pos_check_details.splice(objIndex, 1);\r\n        this.posCheckService.updateOrder(this.posCheck);\r\n        this.selectedItemFromKotWindow = null;\r\n        this.showItemAddOns = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  onNewRateClick() {\r\n    const numericInput: HTMLInputElement = document.getElementById(\"coversInput\") as HTMLInputElement;\r\n    if (this.selectedItemFromKotWindow && this.selectedItemFromKotWindow.is_new && this.selectedItemFromKotWindow.pos_item_type == this.isOpenItem) {\r\n      if (numericInput && numericInput.value != \"\") {\r\n        let newRate = numericInput.value;\r\n        const objIndex = this.posCheck.pos_check_details.findIndex(x => x.is_new && x.pos_item_id === this.selectedItemFromKotWindow.pos_item_id);\r\n        if (objIndex > -1) {\r\n          this.posCheck.pos_check_details[objIndex].rate = +newRate;\r\n          this.posCheckService.updateOrder(this.posCheck);\r\n          numericInput.value = \"\";\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onOpenItemTextChange(): void {\r\n    if (this.selectedItemFromKotWindow && this.selectedItemFromKotWindow.is_new && this.selectedItemFromKotWindow.pos_item_type == this.isOpenItem) {\r\n      const objIndex = this.posCheck.pos_check_details.findIndex(x => x.is_new && x.pos_item_id === this.selectedItemFromKotWindow.pos_item_id);\r\n      if (objIndex > -1) {\r\n        this.posCheck.pos_check_details[objIndex].item_description = this.openItemText;\r\n      }\r\n\r\n      this.openItemText = \"\";\r\n      this.closeOpenItem.nativeElement.click();\r\n    }\r\n  }\r\n\r\n  onCoversClick() {\r\n    const numericInput: HTMLInputElement = document.getElementById(\"coversInput\") as HTMLInputElement;\r\n    if (numericInput && numericInput.value != \"\") {\r\n      this.posCheck.covers = +numericInput.value;\r\n      numericInput.value = \"\";\r\n    }\r\n  }\r\n\r\n  loadDefaultMenuItems(): void {\r\n    if (this.defaultMenuId) {\r\n      let menuItems: PosItemMenu[] = [];\r\n\r\n      menuItems = this.loadPosItemsBy(this.defaultMenuId);\r\n      if (menuItems.length > 0) {\r\n        //already map items\r\n      }\r\n      else {\r\n        this.posItemMenuService.getPosItemMenuBy(this.defaultMenuId).subscribe((response) => {\r\n          if (response) {\r\n            let menuItems = response.filter(a => a.pos_menu_id === +this.defaultMenuId);\r\n            if (menuItems.length > 0) {\r\n              this.currentMenuItems = menuItems;\r\n              this.mapMenuHeaderSubheader();\r\n            }\r\n          }\r\n        })\r\n      }\r\n    }\r\n\r\n    const itemModifierData: PosItemModifier[] = JSON.parse(localStorage.getItem(\"itemModifier\"));\r\n    if (itemModifierData) {\r\n      this.posItemModifiers = itemModifierData;\r\n    } else {\r\n      this.posItemMenuService.getPosItemModifier().subscribe((data) => {\r\n        this.posItemModifiers = data;\r\n      });\r\n    }\r\n  }\r\n\r\n  loadPosItemsBy(selectedMenuId: string): PosItemMenu[] {\r\n    const itemMenuData: PosItemMenu[] = JSON.parse(localStorage.getItem(\"itemMenu\"));\r\n    let menuItems: PosItemMenu[] = [];\r\n    if (itemMenuData) {\r\n      menuItems = itemMenuData.filter(a => a.pos_menu_id === +selectedMenuId);\r\n      if (menuItems.length > 0) {\r\n        this.currentMenuItems = menuItems;\r\n        this.mapMenuHeaderSubheader();\r\n      }\r\n    }\r\n    return menuItems;\r\n  }\r\n\r\n  onAddOnClick() {\r\n    this.showItemAddOns = !this.showItemAddOns;\r\n    if (this.showItemAddOns) {\r\n      this.selectedItemModifier = this.posItemModifiers.filter(x => x.pos_item_id === this.selectedItemFromKotWindow.pos_item_id);\r\n    }\r\n  }\r\n\r\n  onAddOnSelection(selectedModifier: PosItemModifier) {\r\n    if (this.selectedItemFromKotWindow) {\r\n      const objIndex = this.posCheck.pos_check_details.findIndex(x => x.is_new && x.pos_item_id === this.selectedItemFromKotWindow.pos_item_id);\r\n      if (objIndex > -1) {\r\n        //first check if modifier is already added - if not then add\r\n        const objModifierIndex = this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.findIndex(x => x.pos_modifier_id == selectedModifier.pos_modifier_id);\r\n\r\n        if (objModifierIndex < 0) {\r\n          //same modifier is not added previously - so adding now\r\n          let objDetailModifier = new PosCheckDetailModifier();\r\n          objDetailModifier.amount = +selectedModifier.pos_modifier.modifier_price;\r\n          objDetailModifier.currency_id = selectedModifier.pos_modifier.currency_id ? selectedModifier.pos_modifier.currency_id : PointerService.getLocalCurrencyId();\r\n          objDetailModifier.modifier_name_on_check = selectedModifier.pos_modifier.modifier_name;\r\n          objDetailModifier.pos_modifier = selectedModifier.pos_modifier;\r\n          objDetailModifier.pos_modifier_id = selectedModifier.pos_modifier_id;\r\n          objDetailModifier.serial_number = this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.length + 1;\r\n\r\n          this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.push(objDetailModifier);\r\n          this.posCheck.pos_check_details[objIndex].amount += +objDetailModifier.amount.toFixed(this.decimalPlace);\r\n\r\n          this.posCheckService.updateOrder(this.posCheck);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  removeAddOn(selectedModifier: PosItemModifier): void {\r\n    if (this.selectedItemFromKotWindow && this.selectedItemFromKotWindow.is_new) {\r\n      const objIndex = this.posCheck.pos_check_details.findIndex(x => x.is_new && x.pos_item_id === this.selectedItemFromKotWindow.pos_item_id);\r\n      if (objIndex > -1) {\r\n        const objModifierIndex = this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.findIndex(x => x.pos_modifier_id === selectedModifier.pos_modifier_id);\r\n        this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.splice(objModifierIndex, 1);\r\n        this.posCheckService.updateOrder(this.posCheck);\r\n      }\r\n    }\r\n  }\r\n\r\n  onOtherAddOnSelection(): void {\r\n    let otherAddOnId: number = +environment.OTHER_ADD_ON_ID;\r\n    if (this.selectedItemFromKotWindow) {\r\n      const objIndex = this.posCheck.pos_check_details.findIndex(x => x.is_new && x.pos_item_id === this.selectedItemFromKotWindow.pos_item_id);\r\n      if (objIndex > -1) {\r\n        const objModifierIndex = this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.findIndex(x => x.pos_modifier_id == otherAddOnId);\r\n        if (objModifierIndex < 0) {\r\n          //same modifier is not added previously - so adding now\r\n          let objDetailModifier = new PosCheckDetailModifier();\r\n          objDetailModifier.amount = this.otherAddOnPrice;\r\n          objDetailModifier.currency_id = PointerService.getLocalCurrencyId();\r\n          objDetailModifier.modifier_name_on_check = this.otherAddOnText;\r\n          objDetailModifier.pos_modifier_id = otherAddOnId;\r\n          objDetailModifier.serial_number = this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.length + 1;\r\n          this.posCheck.pos_check_details[objIndex].pos_check_detail_modifiers.push(objDetailModifier);\r\n          this.posCheck.pos_check_details[objIndex].amount += +objDetailModifier.amount.toFixed(this.decimalPlace);\r\n\r\n          this.posCheckService.updateOrder(this.posCheck);\r\n        }\r\n      }\r\n\r\n      //reset values of pop-up\r\n      this.otherAddOnPrice = 0;\r\n      this.otherAddOnText = \"\";\r\n      this.closeOtherAddOn.nativeElement.click();\r\n    }\r\n  }\r\n  //EOF AddOn\r\n\r\n  onVirtualKeyboardInput(): void {\r\n    if (this.txtSearchInput.nativeElement.value) {\r\n      this.searchItemList = this.currentMenuItems.filter(x => x.description.toLowerCase().includes(this.txtSearchInput.nativeElement.value.toLowerCase()));\r\n    } else {\r\n      this.searchItemList = [];\r\n    }\r\n  }\r\n\r\n  openKeyboard(event): void {\r\n    initializeKeyboard(event.target);\r\n    this.changeDetector.detectChanges();\r\n  }\r\n\r\n  onSettlementSelection(settlement): void {\r\n    this.posCheck.pos_restaurant_id = +this.outletId;\r\n    this.posCheck.table_code = this.tableCode;\r\n\r\n    this.selectedPayment = settlement;\r\n    if (this.posCheck.pos_check_details && this.posCheck.pos_check_details.length > 0) {\r\n      this.posCheckService.saveBill(this.posCheck).subscribe({\r\n        next: (data) => {\r\n          this.posCheck.id = data[\"pos_check\"].id;\r\n          this.posCheck.check_no = data[\"pos_check\"].check_no;\r\n          this.printBill();\r\n        },\r\n        error: error => {\r\n          this.alertService.error(error);\r\n        }\r\n      })\r\n    } else {\r\n      this.alertService.error(environment.SELECT_ONE_ITEM);\r\n    }\r\n  }\r\n\r\n  settleBill() {\r\n    this.posCheck.cr_total = this.posCheck.dr_total;\r\n\r\n    let settlement = new PosCheckSettlement();\r\n    settlement.is_new = true;\r\n    //settlement.id = this.posCheck.pos_check_settlements.length + 1;\r\n    settlement.allowance_ind = false;\r\n    settlement.amount = this.posCheck.dr_total;\r\n    settlement.card_no = \"XXXX\";\r\n    settlement.charge_id = this.selectedPayment.payment_id;\r\n    settlement.currency_id = PointerService.getLocalCurrencyId();\r\n    settlement.description = this.selectedPayment.payment.description;\r\n    settlement.dr_cr = this.selectedPayment.payment.dr_cr;\r\n    settlement.settlement_type = this.selectedPayment.payment.settlement_process_code;\r\n    this.posCheck.pos_check_settlements.push(settlement);\r\n\r\n    this.posCheckService.settleBill(this.posCheck)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          // this.printSettleBillCopy();\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  onBackClick(): void {\r\n    this.router.navigate(['/table-layout/' + this.outletId]);\r\n  }\r\n\r\n  scrollTo(elementId: string) {\r\n    const element = document.getElementById(elementId);\r\n    if (element) {\r\n      element.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  }\r\n\r\n\r\n  onPlaceOrder(btnName) {\r\n    const coverMandatoryInd = this.currentOutletSettings[0]?.covers_mandetory_ind;\r\n    const guestNameMandetoryInd = this.currentOutletSettings[0]?.guest_name_mandetory_ind;\r\n    let guestNameInd = true;\r\n    let coversInd = true;\r\n    if (this.posCheck.pos_check_details && this.posCheck.pos_check_details.length > 0) {\r\n      if (coverMandatoryInd) {\r\n        coversInd = this.posCheck?.covers ? true : false;\r\n      }\r\n      if (guestNameMandetoryInd) {\r\n        guestNameInd = this.posCheck?.guest_name ? true : false;\r\n      }\r\n      if (coversInd && guestNameInd) {\r\n        this.posCheck.pos_restaurant_id = +this.outletId;\r\n        this.posCheck.table_code = this.tableCode;\r\n        let allPOItems: PosCheckDetail[] = this.posCheck.pos_check_details.filter(x => x.last_action.toUpperCase() == environment.LAST_ACTION_POSTED);\r\n        let voidMarkedItems: PosCheckDetail[] = this.posCheck.pos_check_details.filter(x => x.markedVoid == true);\r\n        this.posCheck.debit_card_number = this.debitCardDetails?.card_number;\r\n        this.posCheck.debit_card_reference_id = this.debitCardDetails?.id;\r\n        let Oldids = this.posCheck.pos_check_details\r\n          .filter(detail => detail.id !== undefined) // Ensuring _id exists\r\n          .map(detail => detail.id);\r\n        this.posCheckService.saveBill(this.posCheck)\r\n          .subscribe({\r\n            next: (data: PosCheck) => {\r\n              let voidItems: PosCheckDetail[];\r\n              voidItems = data[\"pos_check\"].pos_check_details.filter(function (o1) {\r\n                return voidMarkedItems.some(function (o2) {\r\n                  return o1.pos_item_id === o2.pos_item_id\r\n                    && o1.id == o2.id // assumes unique pos_item_id & id\r\n                });\r\n              });\r\n\r\n              let newItems: PosCheckDetail[]\r\n              if (Oldids?.length > 0) {\r\n                newItems = data[\"pos_check\"].pos_check_details.filter(o1 =>\r\n                  !Oldids.includes(o1.id) && o1.last_action == environment.LAST_ACTION_POSTED\r\n                );\r\n              } else {\r\n                newItems = data[\"pos_check\"].pos_check_details.filter(function (o1) {\r\n                  return allPOItems.some(function (o2) {\r\n                    return o1.pos_item_id === o2.pos_item_id && o2.is_new == true\r\n                      && o2.last_action == environment.LAST_ACTION_POSTED\r\n                      && o1.last_action == environment.LAST_ACTION_POSTED;\r\n                  });\r\n                });\r\n              }\r\n\r\n              if (voidItems.length > 0) {\r\n                this.printClientSideKot([], voidItems, data[\"pos_check\"]);\r\n                setTimeout(() => {\r\n                  this.printClientSideKot(newItems, [], data[\"pos_check\"]);\r\n                }, 2000);\r\n              } else {\r\n                this.printClientSideKot(newItems, [], data[\"pos_check\"]);\r\n              }\r\n              setTimeout(() => {\r\n                if (btnName.toLowerCase() == \"local\") {\r\n                  this.router.navigate(['/billing/' + this.outletId + '/settlement/' + data[\"pos_check\"][\"id\"]]);\r\n                } else if (btnName.toLowerCase() == \"room post\") {\r\n                  this.router.navigate(['/billing/' + this.outletId + '/room-post/' + data[\"pos_check\"][\"id\"]]);\r\n                } else if (btnName.toLowerCase() == \"discount\") {\r\n                  this.router.navigate(['/billing/' + this.outletId + '/discount/' + data[\"pos_check\"][\"id\"]]);\r\n                }\r\n              }, 500);\r\n\r\n              this.posCheckService.changeMessage(this.posCheck.table_code);\r\n            },\r\n            error: (error: any) => {\r\n              if (error.errors && error.errors.length > 0) {\r\n                this.alertService.error(error.errors[0]);\r\n              } else {\r\n                this.alertService.error(error);\r\n              }\r\n            }\r\n          });\r\n      } else {\r\n        if (coverMandatoryInd && (!coversInd)) {\r\n          this.alertService.error(\"Please enter covers!\")\r\n        }\r\n        if (guestNameMandetoryInd && (!guestNameInd)) {\r\n          this.alertService.error(\"Please enter guest name!\")\r\n        }\r\n      }\r\n    } else {\r\n      this.alertService.error(environment.SELECT_ONE_ITEM);\r\n    }\r\n  }\r\n\r\n  printBill(): void {\r\n    if (this.posCheck && this.posCheck.round_off == null) {\r\n      let roundOffType = this.pointerService.filterValueByCode(environment.POINTER_POS_ROUND_OFF_TYPE);\r\n      let amount = 0, roundOffAmount = 0;\r\n\r\n      if (roundOffType != null) {\r\n        if (roundOffType == environment.POS_ROUND_OFF_FLOOR_CODE) {\r\n          amount = Math.floor(this.posCheck.dr_total);\r\n          roundOffAmount = amount - this.posCheck.dr_total;\r\n        }\r\n        else if (roundOffType == environment.POS_ROUND_OFF_BASED_ON_POINT_FIVE_CODE) {\r\n          amount = Math.round(this.posCheck.dr_total);\r\n          roundOffAmount = amount - this.posCheck.dr_total;\r\n        }\r\n        else if (roundOffType == environment.POS_ROUND_OFF_CEILING_CODE) {\r\n          amount = Math.ceil(this.posCheck.dr_total);\r\n          roundOffAmount = amount - this.posCheck.dr_total;\r\n        }\r\n        else {\r\n          amount = Math.round(this.posCheck.dr_total);\r\n          roundOffAmount = amount - this.posCheck.dr_total;\r\n        }\r\n      }\r\n\r\n      this.posCheck.round_off = +roundOffAmount.toFixed(this.decimalPlace);\r\n      this.posCheck.dr_total = +amount.toFixed(this.decimalPlace);\r\n    }\r\n\r\n    this.posCheckService.printBill(this.posCheck, this.currentUserShift)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          this.posCheck.print_cashier_name = data.pos_check.print_cashier ? data.pos_check.print_cashier.full_name : \"\";\r\n          this.posCheck.print_time = data.pos_check.print_time ? data.pos_check.print_time : \"\";\r\n          this.posCheck.print_count = data.pos_check.print_count;\r\n          this.settleBill();\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  printSettleBillCopy(): void {\r\n    const outletSettingData: OutletSetting[] = JSON.parse(localStorage.getItem(\"outletSetting\"));\r\n    if (outletSettingData) {\r\n      let currentOutletSetting = outletSettingData.filter(a => a.pos_restaurant_id === +this.outletId);\r\n\r\n      if (currentOutletSetting.length > 0) {\r\n        let defaultPrintCount = currentOutletSetting[0].print_check_default_count;\r\n        let duplicatePrintCount = 0;\r\n\r\n        let report = Stimulsoft.Report.StiReport.createNewReport();\r\n        let report1 = Stimulsoft.Report.StiReport.createNewReport();\r\n        let kotReport = Stimulsoft.Report.StiReport.createNewReport();\r\n\r\n        if (defaultPrintCount > 0) {\r\n          if (this.posCheck.print_count <= 1) {\r\n            //First copy - original check - first time will be called\r\n            report = this.commonService.printBill(this.posCheck);\r\n            // kotReport = this.printClientSideKot();\r\n\r\n            report.render();\r\n            report.print(false);\r\n\r\n\r\n            defaultPrintCount--;\r\n            duplicatePrintCount++;\r\n          } else {\r\n            // for duplicate copy print\r\n            report = this.commonService.printBill(this.posCheck, true);\r\n            report.render();\r\n            report.print(false);\r\n\r\n            defaultPrintCount--;\r\n            duplicatePrintCount++;\r\n          }\r\n          report1 = this.commonService.printBill(this.posCheck, true);\r\n          //kotReport = this.printClientSideKot();\r\n        }\r\n\r\n        if (defaultPrintCount > 0) {\r\n          // for duplicate copy print\r\n          setTimeout(function () {\r\n            report1.render();\r\n            report1.print(false);\r\n\r\n            defaultPrintCount--;\r\n            duplicatePrintCount++;\r\n\r\n            //if(defaultPrintCount > 0) {\r\n            setTimeout(function () {\r\n              //kotReport.render();\r\n              //kotReport.print(false);\r\n            })\r\n            //}\r\n\r\n          }, 2000);\r\n        }\r\n      }\r\n    }\r\n\r\n    this.printKot();\r\n\r\n    //reset check object after print\r\n    this.posCheck = new PosCheck();\r\n    this.selectedPayment = null;\r\n  }\r\n\r\n\r\n  generateFileAndPrintInPdf(newItems: any) {\r\n    let kitchens = JSON.parse(localStorage.getItem(\"posKitchens\"))?.pos_kitchens;\r\n\r\n    // Function to get printers for a kitchen\r\n    const getPrinters = (id) => {\r\n      const kitchen = kitchens.find(k => k.id === id);\r\n      if (!kitchen) return [];\r\n\r\n      return [\r\n        kitchen.kitchen_printer1,\r\n        kitchen.kitchen_printer2,\r\n        kitchen.kitchen_printer3,\r\n        kitchen.kitchen_printer4,\r\n        kitchen.kitchen_printer5,\r\n      ].filter(printer => printer); // Remove null/empty values\r\n    };\r\n\r\n    let result = [];\r\n\r\n    newItems.forEach(order => {\r\n      let groupedData = [];\r\n\r\n      order.pos_check_details.forEach(item => {\r\n        const { kot_no, kitchen_name } = item;\r\n        const key = `${kot_no}-${kitchen_name}`;\r\n\r\n        let group = groupedData.find(group => group.key === key);\r\n\r\n        if (!group) {\r\n          group = {\r\n            key: key,\r\n            ...order,\r\n            pos_check_details: []\r\n          };\r\n          groupedData.push(group);\r\n        }\r\n\r\n        group.pos_check_details.push(item);\r\n      });\r\n\r\n      result.push(...groupedData);\r\n    });\r\n\r\n\r\n    // Add printers field after grouping\r\n    result.forEach((group: any) => {\r\n      const kitchen_id = group?.pos_check_details[0]?.pos_kitchen_id;\r\n      group.printers = getPrinters(kitchen_id);\r\n    });\r\n\r\n\r\n    // Convert grouped object into an array of orders\r\n    // result.push(...Object.values(groupedData));\r\n    // });\r\n\r\n    result?.forEach(res => {\r\n      if (res) {\r\n        let posCheckObj = { kot_report: res };\r\n        let dataSet = new Stimulsoft.System.Data.DataSet(\"kot_report\");\r\n        dataSet.readJson(posCheckObj);\r\n\r\n        let newGuid = Stimulsoft.System.Guid.newGuid().toString().substr(0, 8);\r\n        let report = new Stimulsoft.Report.StiReport();\r\n        //report.loadFile(\"/reports/\"+ saasCompanyCode +\"/\"+ companyCode +\"/\"+ branchCode+\"/\"+ \"kot.mrt\" + \"?n=\" + n);\r\n\r\n        report.loadFile(\"/public/mrt/\" + \"kot.mrt\" + \"?n=\" + newGuid);\r\n        report.regData(dataSet.kot_report, \"kot_report\", dataSet);\r\n\r\n        report.render();\r\n\r\n        // Export the report to a PDF format (returns Uint8Array)\r\n        let exportedFileData = report.exportDocument(Stimulsoft.Report.StiExportFormat.Pdf);\r\n\r\n        // Convert the Uint8Array to a Base64 string\r\n        let base64EncodedReport = btoa(String.fromCharCode(...exportedFileData));\r\n        let kotNumber = res?.pos_check_details[0]?.kot_no;\r\n        res?.printers?.forEach(element => {\r\n          let printerName = environment.TEST_PRINTER_NAME || element;\r\n          this.posCheckService.sendFileToServerPDF(base64EncodedReport, printerName, kotNumber);\r\n        });\r\n      }\r\n    })\r\n\r\n\r\n  }\r\n\r\n\r\n  generateFileAndPrint(newItems: any) {\r\n    let kitchens = JSON.parse(localStorage.getItem(\"posKitchens\"))?.pos_kitchens;\r\n\r\n    // Function to get printers for a kitchen\r\n    const getPrinters = (id) => {\r\n      const kitchen = kitchens.find(k => k.id === id);\r\n      if (!kitchen) return [];\r\n\r\n      return [\r\n        kitchen.kitchen_printer1,\r\n        kitchen.kitchen_printer2,\r\n        kitchen.kitchen_printer3,\r\n        kitchen.kitchen_printer4,\r\n        kitchen.kitchen_printer5,\r\n      ].filter(printer => printer); // Remove null/empty values\r\n    };\r\n\r\n    let result = [];\r\n\r\n    newItems.forEach(order => {\r\n      let groupedData = [];\r\n\r\n      order.pos_check_details.forEach(item => {\r\n        const { kot_no, kitchen_name } = item;\r\n        const key = `${kot_no}-${kitchen_name}`;\r\n\r\n        let group = groupedData.find(group => group.key === key);\r\n\r\n        if (!group) {\r\n          group = {\r\n            key: key,\r\n            ...order,\r\n            pos_check_details: []\r\n          };\r\n          groupedData.push(group);\r\n        }\r\n\r\n        group.pos_check_details.push(item);\r\n      });\r\n\r\n      result.push(...groupedData);\r\n    });\r\n\r\n\r\n    // Add printers field after grouping\r\n    result.forEach((group: any) => {\r\n      const kitchen_id = group?.pos_check_details[0]?.pos_kitchen_id;\r\n      group.printers = getPrinters(kitchen_id);\r\n    });\r\n\r\n\r\n    // Convert grouped object into an array of orders\r\n    // result.push(...Object.values(groupedData));\r\n    // });\r\n\r\n    result?.forEach(res => {\r\n      if (res) {\r\n        this.posCheckService.sendFileToServer1(res);\r\n      }\r\n    })\r\n\r\n\r\n  }\r\n\r\n  printClientSideKot(kotItems: PosCheckDetail[], voidItems: PosCheckDetail[], posCheck: any) {\r\n    const loadedUser: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    //let saasCompanyCode = loadedUser.saas_company_code.toLowerCase();\r\n    //let companyCode = loadedUser.company_code.toLowerCase();\r\n    //let branchCode = loadedUser.branch_code.toLowerCase();\r\n    let mapItems = this.mapKotItemsForPrint(kotItems, voidItems, posCheck, false)\r\n    if (this.currentOutletSettings[0]?.kot_client_side_ind) {\r\n      if (mapItems.length > 0) {\r\n        let posCheckObj = { kot_report: mapItems };\r\n        let dataSet = new Stimulsoft.System.Data.DataSet(\"kot_report\");\r\n        dataSet.readJson(posCheckObj);\r\n\r\n        let newGuid = Stimulsoft.System.Guid.newGuid().toString().substr(0, 8);\r\n        let report = new Stimulsoft.Report.StiReport();\r\n        //report.loadFile(\"/reports/\"+ saasCompanyCode +\"/\"+ companyCode +\"/\"+ branchCode+\"/\"+ \"kot.mrt\" + \"?n=\" + n);\r\n\r\n        report.loadFile(\"/public/mrt/\" + \"kot.mrt\" + \"?n=\" + newGuid);\r\n        report.regData(dataSet.kot_report, \"kot_report\", dataSet);\r\n\r\n        report.render();\r\n        report.print();\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  printKot(): void {\r\n    if (this.outletSettingData) {\r\n      let currentOutletSetting = this.outletSettingData.filter(a => a.pos_restaurant_id === +this.outletId);\r\n\r\n      if (currentOutletSetting.length > 0) {\r\n        let printKotAfterSettlement: boolean = currentOutletSetting[0].print_kot_after_settlement_ind;\r\n        let printKot: boolean = currentOutletSetting[0].print_kot_ind;\r\n\r\n        if (printKot && printKotAfterSettlement) {\r\n          //call kot print program\r\n        } else {\r\n          // do nothing\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // printClientSideKot() {\r\n  //   const loadedUser: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n  //   let kotItems: PosCheckDetail[] = this.posCheck.pos_check_details;\r\n\r\n  //   //let saasCompanyCode = loadedUser.saas_company_code.toLowerCase();\r\n  //   //let companyCode = loadedUser.company_code.toLowerCase();\r\n  //   //let branchCode = loadedUser.branch_code.toLowerCase();\r\n  //   let mapItems = this.mapKotItemsForPrint(kotItems, this.posCheck, false)\r\n\r\n  //   if (mapItems.length > 0) {\r\n  //     let posCheckObj = { kot_report: mapItems };\r\n  //     let dataSet = new Stimulsoft.System.Data.DataSet(\"kot_report\");\r\n  //     dataSet.readJson(posCheckObj);\r\n\r\n  //     let newGuid = Stimulsoft.System.Guid.newGuid().toString().substr(0, 8);\r\n  //     let report = new Stimulsoft.Report.StiReport();\r\n  //     //report.loadFile(\"/reports/\"+ saasCompanyCode +\"/\"+ companyCode +\"/\"+ branchCode+\"/\"+ \"kot.mrt\" + \"?n=\" + n);\r\n\r\n  //     report.loadFile(\"/public/mrt/\" + \"kot.mrt\" + \"?n=\" + newGuid);\r\n  //     report.regData(dataSet.kot_report, \"kot_report\", dataSet);\r\n\r\n  //     return report;\r\n  //   }\r\n  // }\r\n\r\n  mapKotItemsForPrint(kotItems: PosCheckDetail[], voidItems: PosCheckDetail[], posCheck: any, reprint: boolean) {\r\n    let posCheckKotList = [];\r\n    let posCheckDetailsArray = [];\r\n    let posCheckDetailItems = [];\r\n    let restaurantName = \"\";\r\n    let voidLabel = \"\";\r\n    let serverName = \"\";\r\n    let voidDash = \"\";\r\n    let voidReason = \"\";\r\n    if (posCheck.server_name) {\r\n      serverName = posCheck.server_name;\r\n    }\r\n\r\n    if (posCheck.pos_void_reason_id) {\r\n      voidReason = this.voidReasonList.filter(x => x.id == this.posCheck.pos_void_reason_id)[0].description;\r\n    }\r\n    else if (posCheck.void_reason_note) {\r\n      voidReason = posCheck.void_reason_note;\r\n    }\r\n\r\n    if (posCheck.pos_restaurant_name) {\r\n      restaurantName = posCheck.pos_restaurant_name;\r\n    }\r\n\r\n    if (kotItems.length > 0) {\r\n      posCheckDetailItems = kotItems;\r\n    } else if (voidItems.length > 0) {\r\n      posCheckDetailItems = voidItems;\r\n    }\r\n    // else {\r\n    //   posCheckDetailItems = this.posCheck.pos_check_details\r\n    // }\r\n\r\n    if (posCheckDetailItems.length > 0) {\r\n      posCheckDetailItems.forEach(item => {\r\n        if (posCheck.pos_void_reason_id) {\r\n          voidReason = this.voidReasonList.filter(x => x.id == posCheck.pos_void_reason_id)[0].description;\r\n        }\r\n        else if (posCheck.void_reason_note) {\r\n          voidReason = posCheck.void_reason_note;\r\n        }\r\n\r\n        let itemDetails = {\r\n          kot_no: item.kot_no,\r\n          pos_kitchen_id: item.pos_kitchen_id,\r\n          kitchen_name: item.pos_kitchen && item.pos_kitchen.pos_kitchen_translations && item.pos_kitchen.pos_kitchen_translations.length > 0 ? item.pos_kitchen.pos_kitchen_translations[0][\"description\"] : \"\",\r\n          system_time: item.system_time,\r\n          business_date: item.business_date,\r\n          quantity: item.quantity,\r\n          void_reason: voidReason,\r\n          item_description: item.pos_item_name_on_check ? item.pos_item_name_on_check : item.item_description\r\n        }\r\n\r\n        let modifierText = \"\";\r\n        if (item.pos_check_detail_modifiers.length > 0) {\r\n          item.pos_check_detail_modifiers.forEach(modifier => {\r\n            if (modifier.modifier_name_on_check) {\r\n              modifierText += modifier.modifier_name_on_check + \", \"\r\n            }\r\n          });\r\n        }\r\n\r\n        item[\"item_description\"] = item.item_description + \"\\n- \" + modifierText.replace(/,(\\s+)?$/, '');\r\n\r\n        posCheckDetailsArray.push(itemDetails);\r\n      });\r\n\r\n      if (voidItems.length > 0) {\r\n        voidLabel = \"VOID KOT\";\r\n        voidDash = \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"\r\n      }\r\n      else if (reprint) {\r\n        voidLabel = \"DUPLICATE COPY\"\r\n      }\r\n      else {\r\n        voidLabel = \"\";\r\n      }\r\n\r\n      posCheckKotList.push({\r\n        restaurant_name: restaurantName,\r\n        check_no: posCheck.check_no,\r\n        table_code: posCheck.table_code,\r\n        covers: posCheck.covers,\r\n        server: serverName,\r\n        parcel: posCheck.take_away_ind == true ? \"Yes\" : \"No\",\r\n        guest_name: posCheck.guest_name,\r\n        void_kot: voidLabel,\r\n        void_dash: voidDash,\r\n        pos_check_details: posCheckDetailsArray\r\n      });\r\n    }\r\n    // this.generateFileAndPrint(posCheckKotList);\r\n    if (this.currentOutletSettings[0]?.print_kot_ind) {\r\n      this.generateFileAndPrintInPdf(posCheckKotList);\r\n    }\r\n    return posCheckKotList;\r\n  }\r\n\r\n  onRecallCheckClick(): void {\r\n    this.router.navigate(['/billing/' + this.outletId + '/recall-check']);\r\n  }\r\n\r\n\r\n  onMemberSearch() {\r\n    if (this.memberSearchForm.valid) {\r\n      this.ngOnChanges();\r\n    } else {\r\n      this.membersDataArray = [];\r\n      this.alertService.error(\"Please search using at least one criteria!\")\r\n    }\r\n  }\r\n\r\n  createMemberObj(res: any) {\r\n    let objMember = {};\r\n    objMember[\"account_id\"] = res.id;\r\n    objMember[\"membership_number\"] = res.account_affiliations[0]?.membership_number;\r\n    if (res.account_name) {\r\n      objMember[\"member_name\"] = res.account_name;\r\n    } else {\r\n      objMember[\"member_name\"] = res.title + \" \" + res.first_name + \" \" + res.last_name;\r\n    }\r\n    objMember[\"issue_date\"] = res.account_affiliations[0]?.issue_date;\r\n    objMember[\"birth_date\"] = res.birth_date;\r\n    objMember[\"expiry_date\"] = res.account_affiliations[0]?.expiry_date;\r\n    objMember[\"block_member_remark\"] = res.block_member_remark;\r\n    this.membersDataArray.push(objMember);\r\n    this.selectedMember = {};\r\n    this.blockedMemberSelection = {};\r\n    if (this.membersDataArray[0]?.block_member_remark.length > 0) {\r\n      this.blockedMemberSelection = this.membersDataArray[0];\r\n      this.membersDataArray = [];\r\n    } else {\r\n      this.selectedMember = this.membersDataArray[0];\r\n      this.posCheck[\"_guest_name\"] = this.selectedMember?.member_name;\r\n      this.posCheck[\"_membership_number\"] = this.selectedMember?.membership_number;\r\n      this.posCheck[\"_guest_id\"] = this.selectedMember?.account_id;\r\n      this.closeBtn1.nativeElement.click();\r\n    }\r\n  }\r\n\r\n  onSelectMember(data: any) {\r\n    this.selectedMember = {};\r\n    this.blockedMemberSelection = {};\r\n    this.debitCardDetails = {};\r\n    if (data?.data?.block_member_remark.length > 0) {\r\n      this.blockedMemberSelection = data?.data;\r\n      this.membersDataArray = [];\r\n      this.memberSearchForm.reset();\r\n    } else {\r\n      this.selectedMember = data?.data;\r\n      this.posCheck[\"_guest_name\"] = this.selectedMember?.member_name;\r\n      this.posCheck[\"_membership_number\"] = this.selectedMember?.membership_number;\r\n      this.posCheck[\"_guest_id\"] = this.selectedMember?.account_id;\r\n      if (this.currentOutletSettings[0]?.debit_card_in_use_ind) {\r\n        let documentNumber: any\r\n        let accoundId: any;\r\n        accoundId = this.pointersData?.filter(res => res.code == environment.DEBIT_CARD_DOCUMENT_ID)[0]?.pointer_value;\r\n        documentNumber = this.selectedMember?.account_account_documents?.filter(res => res.account_document_id == accoundId)[0]?.document_number;\r\n        this.onEnterKey(documentNumber);\r\n      }\r\n      this.closeBtn1.nativeElement.click();\r\n    }\r\n  }\r\n\r\n\r\n  ngOnChanges(): void {\r\n    function isNotEmpty(value: any): boolean {\r\n      return value !== undefined && value !== null && value !== '';\r\n    }\r\n\r\n    // code for getting members by server side pagination\r\n    const user = this.authService.userValue;\r\n    let pointers = JSON.parse(localStorage.getItem('pointerData'));\r\n    let businessDate = pointers.filter(res => res.code == \"BUSI\")[0]?.pointer_value;\r\n    let key_organisation = pointers.filter(x => x.code === 'CL_CLUBID')[0].pointer_value;\r\n    let firstName = this.memberSearchForm.value.firstName;\r\n    let lastName = this.memberSearchForm.value.lastName;\r\n    let memberId = this.memberSearchForm.value.memberId;\r\n\r\n    this.membersDataArray = new CustomStore({\r\n      key: 'id',\r\n      load(loadOptions: any) {\r\n        let params: HttpParams = new HttpParams();\r\n        let skip: any;\r\n        let take: any;\r\n        [\r\n          'skip',\r\n          'take',\r\n        ].forEach((i) => {\r\n          if (i === 'skip') {\r\n            if (i in loadOptions && isNotEmpty(loadOptions[i])) {\r\n              skip = JSON.stringify(loadOptions[i]);\r\n              // params = params.set('per_page', JSON.stringify(loadOptions[i])); \r\n            }\r\n          } else if (i === 'take') {\r\n            if (i in loadOptions && isNotEmpty(loadOptions[i])) {\r\n              take = JSON.stringify(loadOptions[i]);\r\n            }\r\n          }\r\n        });\r\n        let pageIndex: any;\r\n        if (skip && take) {\r\n          pageIndex = (skip / take + 1);\r\n        }\r\n        if (memberId) {\r\n          params = params.set('key_like_membership_number', memberId).set(\"key_organisation\", key_organisation)\r\n        }\r\n        if (firstName) {\r\n          params = params.set('key_firstname', firstName)\r\n        }\r\n        if (lastName) {\r\n          params = params.set('key_lastname', lastName)\r\n        }\r\n        params = params.set('key_club_member_ind', true)\r\n\r\n        params = params.set('per_page', take);\r\n        params = params.set('page', pageIndex);\r\n        const httpClient = new HttpClient(new HttpXhrBackend({ build: () => new XMLHttpRequest() }))\r\n        let headers = new HttpHeaders();\r\n        headers = headers.set('Authorization', `Bearer ${user.token}`);\r\n\r\n        return lastValueFrom(httpClient.get(environment.APIENDPOINT + environment.ACCOUNT, { headers: headers, params }))\r\n          // return lastValueFrom(httpClient.get(environment.apiUrl + environment.accounts, { params }))\r\n          .then(function (response: any) {\r\n            return modifyData(response);\r\n          });\r\n\r\n        function modifyData(response: any): any {\r\n          let details: any = {\r\n            data: functionArrangeData(response),\r\n            totalCount: response.meta.pagination.total_objects,\r\n          }\r\n          return details;\r\n        }\r\n\r\n        function functionArrangeData(data) {\r\n          if (data.accounts && data.accounts.length > 0) {\r\n            let arrayOfMembers: any = [];\r\n            data.accounts.forEach((res: any) => {\r\n              let objMember = res;\r\n              objMember[\"id\"] = res.id;\r\n              objMember[\"account_id\"] = res.id;\r\n              objMember[\"membership_number\"] = res.account_affiliations[0]?.membership_number;\r\n              if (res.account_name) {\r\n                objMember[\"member_name\"] = res.account_name;\r\n              } else {\r\n                objMember[\"member_name\"] = res.title + \" \" + res.first_name + \" \" + res.last_name;\r\n              }\r\n              objMember[\"issue_date\"] = res.account_affiliations[0]?.issue_date;\r\n              objMember[\"birth_date\"] = res.birth_date;\r\n              objMember[\"expiry_date\"] = res.account_affiliations[0]?.expiry_date;\r\n              objMember[\"block_member_remark\"] = res.block_member_remark;\r\n              arrayOfMembers.push(objMember);\r\n            })\r\n            return arrayOfMembers;\r\n          }\r\n        }\r\n      },\r\n    });\r\n  }\r\n}\r\n","<div class=\"wrapg_blk\">\r\n  <app-header></app-header>\r\n  <!-- SOF Sub-header HTML -->\r\n  <div class=\"sub_header_parnt menu_sub_hdr\">\r\n    <div class=\"sub_btn_grp\">\r\n      <!-- <h2 class=\"page_name\">Menu</h2> -->\r\n      <button class=\"btn info_btn\"><i class=\"bi bi-info-lg\"></i></button>\r\n      <a (click)=\"scrollTo('menu_list_respnve')\" class=\"menu_list_respnve\"><i class=\"bi bi-list-ul\"></i></a>\r\n      <button class=\"btn swipe_card_respnsv_btn\" title=\"Swipe your card here\" data-bs-toggle=\"modal\"\r\n        data-bs-target=\"#card_swipe_modl\" *ngIf=\"currentOutletSettings[0]?.debit_card_in_use_ind\"><i\r\n          class=\"fa fa-credit-card-alt\" aria-hidden=\"true\"></i></button>\r\n    </div>\r\n    <div class=\"sub_header_inr\">\r\n      <div class=\"table_drpdwn\">\r\n        <select>\r\n          <option>{{ tableCode }}</option>\r\n        </select>\r\n      </div>\r\n      <!-- <div class=\"cover_num_blk\">\r\n        <p>\r\n          <label>{{ 'COMMON_LABEL.COVERS' | translate }}:</label>\r\n          <input type=\"number\" [placeholder]=\"posCheck && posCheck.covers ? posCheck.covers : 00\"\r\n            (click)=\"onCoversClick()\" [(ngModel)]=\"posCheck.covers\" autocomplete=\"none\" />\r\n        </p>\r\n      </div>\r\n      <div class=\"gust_info_blk\">\r\n        <div class=\"guest_name_parnt\">\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>{{ 'COMMON_LABEL.NAME' | translate }}:</label>\r\n              <input type=\"text\" placeholder=\"Type here....\" [(ngModel)]=\"posCheck.guest_name\"\r\n                (click)=\"openKeyboard($event)\" autocomplete=\"none\" />\r\n            </p>\r\n          </div>\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>{{ 'COMMON_LABEL.GST' | translate }}:</label>\r\n              <input type=\"text\" class=\"keyboardInput\" placeholder=\"Type here....\"\r\n                [(ngModel)]=\"posCheck.guest_gst_number\" (click)=\"openKeyboard($event)\" autocomplete=\"none\"/>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div> -->\r\n      <div class=\"cover_num_blk\">\r\n        <p>\r\n          <label>{{ 'COMMON_LABEL.COVERS' | translate }}:</label>\r\n          <input type=\"number\" [placeholder]=\"posCheck && posCheck.covers ? posCheck.covers : 00\"\r\n            (click)=\"onCoversClick()\" [(ngModel)]=\"posCheck.covers\" autocomplete=\"none\" />\r\n        </p>\r\n      </div>\r\n      <div class=\"gust_info_blk\">\r\n        <div class=\"guest_name_parnt\">\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>{{ 'COMMON_LABEL.NAME' | translate }}:</label>\r\n              <input type=\"text\" placeholder=\"Type here....\" [(ngModel)]=\"posCheck.guest_name\"\r\n                (click)=\"openKeyboard($event)\" autocomplete=\"none\" />\r\n            </p>\r\n          </div>\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>{{ 'COMMON_LABEL.GST' | translate }}:</label>\r\n              <input type=\"text\" class=\"keyboardInput\" placeholder=\"Type here....\"\r\n                [(ngModel)]=\"posCheck.guest_gst_number\" (click)=\"openKeyboard($event)\" autocomplete=\"none\" />\r\n            </p>\r\n          </div>\r\n          <!-- <div class=\"guest_name_blk\">\r\n                        <p>\r\n                          <label>Membership no.</label>\r\n                          <input type=\"text\" placeholder=\"Type here....\" [(ngModel)]=\"posCheck.membership_number\" />\r\n                        </p>\r\n                      </div> -->\r\n          <div class=\"guest_name_blk\" *ngIf=\"currentOutletSettings[0]?.debit_card_in_use_ind\">\r\n            <p>\r\n              <label>{{ 'COMMON_LABEL.SWIPE_CARD' | translate }}:</label>\r\n              <input type=\"text\" placeholder=\"Type here....\" [formControl]=\"inputControl\" autocomplete=\"off\"\r\n                (keydown.enter)=\"onEnterKey()\" />\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <button class=\"btn menu_membr_srch\" title=\"Member ID search\" data-bs-toggle=\"modal\"\r\n          data-bs-target=\"#member_srch_modl\"><img src=\"../../../assets/images/member_srch.svg\" /></button>\r\n        <button class=\"btn width_tggle\"><i class=\"fa fa-expand\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    </div>\r\n\r\n    <app-business-date></app-business-date>\r\n  </div>\r\n  <!-- EOF Sub-header HTML -->\r\n\r\n  <main class=\"main_cnt_blk\">\r\n    <div class=\"menu_parnt_blk\">\r\n      <div class=\"row\">\r\n        <div class=\"col-xl-8 mb-2\">\r\n          <div class=\"menu_item_parnt\">\r\n            <h5>{{ 'PLACE_ORDER.MENU_DETAILS' | translate }}</h5>\r\n            <ng-container>\r\n              <div class=\"menu_category_blk\">\r\n                <div class=\"scroller\">\r\n                  <ul class=\"menu_head_wrapper\">\r\n                    <li class=\"search_menu_icn menu_head_active\">\r\n                      <a data-target=\"search\">{{ 'PLACE_ORDER.SEARCH' | translate }}</a>\r\n                    </li>\r\n                    <li *ngFor=\"let header of menuHeaders\" [class]=\"header.imagePath ? header.imagePath : 'salad_icn'\"\r\n                      (click)=\"onMenuHeaderSelection()\">\r\n                      <a href=\"javascript:void(0)\" [attr.data-target]=\"header.code\">{{ header.description }}</a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n\r\n              <div *ngFor=\"let header of menuHeaders; let i = index\" class=\"menu_head_tab\" id=\"{{ header.code }}\">\r\n                <div class=\"sub_category_blk\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-8 col-sm-10 col-lg-10 col-xxl-11 px-0\">\r\n                      <div class=\"wrapper tabs\">\r\n                        <ul class=\"tab-container tabs-list\">\r\n                          <li *ngFor=\"let subHeader of (currentMenuItems | FilterMenuSubHeader:header); let j = index\"\r\n                            [class.active]=\"j === 0\">\r\n                            <a href=\"javascript:void(0)\" [attr.data-target]=\"subHeader.code\">\r\n                              {{ subHeader.description }}\r\n                            </a>\r\n                          </li>\r\n                        </ul>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-4 col-sm-2 col-lg-2 col-xxl-1 px-0 index_cls\">\r\n                      <button class=\"btn add_btn\" (click)=\"onAddOnClick()\"><i class=\"fa fa-plus\"></i>{{\r\n                        'PLACE_ORDER.ADD_ON' | translate }}</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- SOF Items list Categorywise-->\r\n                <div *ngFor=\"let subHeader of (currentMenuItems | FilterMenuSubHeader:header); let i = index\"\r\n                  [class.active]=\"i === 0\" class=\"menu_list_blk tab\" id=\"{{ subHeader.code }}\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-6 col-sm-4 col-md-3 col-xxl-2 mb-2 px-1\"\r\n                      *ngFor=\"let item of (currentMenuItems | FilterItemBySubHeader:header:subHeader); let j = index\"\r\n                      [style.display]=\"!showItemAddOns ? 'block' : 'none'\" style=\"cursor: pointer;\">\r\n                      <a href=\"javascript:void(0)\" class=\"menu_category_cnt\" title=\"{{ item.description }}\" tabindex=\"0\"\r\n                        (click)=\"onItemSelection(item)\" data-bs-toggle=\"tooltip\"\r\n                        data-bs-original-title=\"{{ item.description }}\" data-bs-placement=\"bottom\">\r\n                        <label>{{ item.description }}</label>\r\n                      </a>\r\n                    </div>\r\n\r\n                    <div class=\"col-6 col-sm-4 col-md-3 col-xxl-2 mb-2\"\r\n                      [style.display]=\"showItemAddOns && selectedItemFromKotWindow ? 'block' : 'none'\">\r\n                      <div class=\"row\">\r\n                        <div class=\"col-12 mb-2 px-1\">\r\n                          <a class=\"menu_category_cnt selected\" href=\"javascript:void(0)\" tabindex=\"0\"\r\n                            (click)=\"showItemAddOns = false\">\r\n                            <label *ngIf=\"selectedItemFromKotWindow\">{{ selectedItemFromKotWindow.item_description\r\n                              }}</label>\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-sm-8 col-md-9 col-xxl-10 mb-2\">\r\n                      <div class=\"row\">\r\n                        <div class=\"col-6 col-md-4 col-xxl-2 mb-2 px-2\" *ngFor=\"let modifier of selectedItemModifier\"\r\n                          [style.display]=\"showItemAddOns && selectedItemModifier.length > 0 ? 'block' : 'none'\">\r\n                          <a class=\"menu_category_cnt\" href=\"javascript:void(0)\" tabindex=\"0\"\r\n                            (click)=\"onAddOnSelection(modifier)\">\r\n                            <img src=\"../../../assets/images/add_on_default.jpg\" class=\"img-fluid\" alt=\"add_on\">\r\n                            <label>{{ modifier.pos_modifier.modifier_name }}</label>\r\n                          </a>\r\n                        </div>\r\n\r\n                        <div class=\"col-6 col-md-4 col-xxl-2 mb-2 px-2\"\r\n                          [style.display]=\"showItemAddOns ? 'block' : 'none'\">\r\n                          <a class=\"menu_category_cnt\" href=\"javascript:void(0)\" tabindex=\"0\" data-bs-toggle=\"modal\"\r\n                            data-bs-target=\"#other_add_on_modal\">\r\n                            <img src=\"../../../assets/images/add_on_default.jpg\" class=\"img-fluid\" alt=\"add_on\">\r\n                            <label>{{ 'PLACE_ORDER.OTHER_ADD_ON' | translate }}</label>\r\n                          </a>\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!-- EOF Items list Categorywise-->\r\n              </div>\r\n\r\n              <div class=\"menu_head_tab\" id=\"search\" [style.display]=\"'block'\">\r\n                <div class=\"menu_list_blk\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12 px-2\">\r\n                      <div class=\"input_custm_cls\">\r\n                        <input id=\"txtSearchInput\" #txtSearchInput (keyup)=\"onKeyUp($event)\" type=\"text\"\r\n                          placeholder=\"{{ 'PLACE_ORDER.SEARCH_DISHES' | translate }}\" (click)=\"openKeyboard($event)\" />\r\n                        <input id=\"hdnSearchWithVirtualKeyboard\" style=\"display: none;\"\r\n                          (click)=\"onVirtualKeyboardInput()\" />\r\n                      </div>\r\n                      <div class=\"dx-viewport demo-container menu_srch_grid\">\r\n                        <div id=\"grid\" [style.display]=\"searchItemList.length > 0 ? 'block' : 'none'\">\r\n                          <dx-data-grid id=\"gridSeachItem\" [dataSource]=\"searchItemList\" [showBorders]=\"false\"\r\n                            [showColumnHeaders]=\"true\" [showRowLines]=\"true\" [showColumnLines]=\"true\"\r\n                            (onSelectionChanged)=\"onGridItemSelection($event)\">\r\n                            <dxo-selection mode=\"single\"></dxo-selection>\r\n                            <dxo-paging [pageSize]=\"10\"> </dxo-paging>\r\n                            <dxo-pager [visible]=\"true\" [allowedPageSizes]=\"[5, 10, 'all']\"\r\n                              [showPageSizeSelector]=\"true\" [showNavigationButtons]=\"true\">\r\n                            </dxo-pager>\r\n                            <!-- <dxi-column dataField=\"id\" visible=\"false\"></dxi-column> -->\r\n                            <dxi-column dataField=\"pos_item.code\" caption=\"{{ 'PLACE_ORDER.CODE' | translate }}\"\r\n                              cssClass=\"anchr_clr\">\r\n                            </dxi-column>\r\n                            <dxi-column dataField=\"description\" caption=\"{{ 'PLACE_ORDER.ITEM_NAME' | translate }}\"\r\n                              [width]=\"40+'%'\">\r\n                            </dxi-column>\r\n                            <dxi-column dataField=\"menu_header.description\"\r\n                              caption=\"{{ 'PLACE_ORDER.MENU_HEADER' | translate }}\" [width]=\"30+'%'\">\r\n                            </dxi-column>\r\n                            <dxi-column dataField=\"pos_item_price\" caption=\"{{ 'PLACE_ORDER.PRICE' | translate }}\">\r\n                            </dxi-column>\r\n                          </dx-data-grid>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-xl-4\">\r\n          <div class=\"menu_grid_parnt\" #kotWindow>\r\n            <div class=\"list_grid\">\r\n              <ul class=\"bill_head_title\">\r\n                <li>{{ 'PLACE_ORDER.ITEMS_ON_CHECK' | translate }}</li>\r\n                <li class=\"text_align_rght\">{{ 'COMMON_LABEL.QTY' | translate }}</li>\r\n                <li class=\"text_align_rght\">{{ 'COMMON_LABEL.PRICE' | translate }}</li>\r\n                <li>{{ 'PLACE_ORDER.STATUS' | translate }}</li>\r\n              </ul>\r\n              <div class=\"bill00\" *ngIf=\"posCheck\" #scrollMe [scrollTop]=\"scrollMe.scrollHeight\">\r\n                <div class=\"bill_item_detls\" [class.item_hghlght]=\"selectedItemFromKotWindow === item\"\r\n                  *ngFor=\"let item of posCheck.pos_check_details; let i = index\">\r\n                  <div class=\"dish_hight\">\r\n                    <span class=\"dish_name\">\r\n                      <a href=\"javascript:void(0)\" (click)=\"onKotItemSelection(item)\">{{ item.item_description }}</a>\r\n                    </span>\r\n                    <span class=\"padg_algn quantity buttons_added\">\r\n                      <button type=\"button\" class=\"minus\" (click)=\"onQtyMinus(item)\">-</button>\r\n                      <label class=\"qty input-text\">{{ item.quantity }}</label>\r\n                      <button type=\"button\" class=\"plus\" (click)=\"onQtyAdd(item)\">+</button>\r\n                    </span>\r\n                    <span class=\"amt_padg text_align_rght\">{{ item.amount.toFixed(decimalPlace) }}</span>\r\n                    <span class=\"dish_status_kot\">{{ item.is_new ? 'New' : item.item_status }}</span>\r\n                  </div>\r\n\r\n                  <div class=\"modifier_blk\" *ngFor=\"let modifier of item.pos_check_detail_modifiers\">\r\n                    <span class=\"add_on_detls\">\r\n                      <a href=\"javascript:void(0)\" class=\"addon_hight\" (dblclick)=\"removeAddOn(modifier)\">{{\r\n                        modifier.modifier_name_on_check }}</a>\r\n                      ({{ currencySymbol }} {{ modifier.amount| number: '1.' + decimalPlace + '-' + decimalPlace }})\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"total_parnt_blk\">\r\n                <div class=\"total_chk_value\" *ngIf=\"posCheck\"><span>{{ 'PLACE_ORDER.TOTAL_CHECK_VALUE' | translate\r\n                    }}</span><label>{{ posCheck.dr_total| number: '1.' + decimalPlace + '-' + decimalPlace\r\n                    }}</label></div>\r\n                <div class=\"debt_card_value\" *ngIf=\"debitCardDetails\">\r\n                  <span>{{'PLACE_ORDER.DEBIT_CARD_VALUE' | translate}}</span><label>{{\r\n                    debitCardDetails?.balance_amount| number: '1.' + decimalPlace + '-' + decimalPlace\r\n                    }}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!-- <div class=\"action_btn_parnt\">\r\n              <ul>\r\n                <li *ngFor=\"let pos_payment of paymentModeList; odd as isOdd; even as isEven;\">\r\n                  <a href=\"javascript:void(0)\" (click)=\"onSettlementSelection(pos_payment)\">\r\n                    <svg *ngIf=\"pos_payment.payment.settlement_process_code == 'CA'\" version=\"1.1\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n                      viewBox=\"0 0 122.88 90.82\" style=\"enable-background:new 0 0 122.88 90.82\" xml:space=\"preserve\">\r\n                      <style type=\"text/css\">\r\n                        .st0 {\r\n                          fill-rule: evenodd;\r\n                          clip-rule: evenodd;\r\n                        }\r\n                      </style>\r\n                      <g>\r\n                        <path class=\"st0\"\r\n                          d=\"M121.57,40.15c0.85,1.42,1.31,2.94,1.31,4.51c0,8.34-12.9,15.1-28.8,15.1c-15.9,0-28.8-6.76-28.8-15.1 c0-1.57,0.46-3.09,1.31-4.51c3.66,6.13,14.58,10.59,27.49,10.59C106.99,50.74,117.91,46.29,121.57,40.15L121.57,40.15z M56.29,62.64c0.85,1.43,1.31,2.94,1.31,4.51c0,8.34-12.9,15.1-28.8,15.1C12.9,82.25,0,75.49,0,67.15c0-1.57,0.46-3.09,1.31-4.51 c3.66,6.13,14.59,10.59,27.49,10.59C41.71,73.23,52.63,68.78,56.29,62.64L56.29,62.64z M32.98,40.56l-0.06-3.74 c0.85-0.03,1.54-0.29,2.07-0.77c0.54-0.48,0.83-1.06,0.89-1.74c0.07-0.78-0.19-1.46-0.77-2.06c-0.58-0.59-1.52-0.95-2.79-1.06 c-1.19-0.1-2.11,0.09-2.75,0.57c-0.64,0.48-1,1.15-1.07,2.01c-0.09,1.07,0.3,2.07,1.17,3l-0.7,2.98l-9.94-2.79l0.85-9.84l3.48,0.3 l-0.61,7.02l3.25,0.87c-0.34-0.87-0.48-1.73-0.4-2.6c0.14-1.65,0.87-3,2.16-4.04c1.3-1.04,2.91-1.48,4.83-1.31 c1.6,0.14,2.98,0.72,4.15,1.76c1.6,1.41,2.31,3.24,2.11,5.48c-0.16,1.79-0.76,3.21-1.82,4.26C35.98,39.92,34.63,40.49,32.98,40.56 L32.98,40.56z M28.8,25.56c13.07,0,23.67,4.16,23.67,9.28c0,5.13-10.6,9.28-23.67,9.28S5.13,39.98,5.13,34.85 C5.13,29.72,15.73,25.56,28.8,25.56L28.8,25.56L28.8,25.56z M28.8,22.49c15.9,0,28.8,6.76,28.8,15.1c0,8.34-12.9,15.1-28.8,15.1 C12.9,52.68,0,45.92,0,37.59C0,29.25,12.9,22.49,28.8,22.49L28.8,22.49z M56.39,47.65c0.78,1.37,1.21,2.83,1.21,4.33 c0,8.34-12.9,15.1-28.8,15.1C12.9,67.08,0,60.32,0,51.99c0-1.51,0.42-2.96,1.21-4.33c3.56,6.22,14.56,10.76,27.59,10.76 C41.83,58.41,52.84,53.88,56.39,47.65L56.39,47.65L56.39,47.65z M104.48,8.95l-0.33,3.75l-14.14-1.23 c1.17,1.48,1.97,3.18,2.42,5.09l-3.4-0.3c-0.23-1-0.75-2.12-1.54-3.34c-0.8-1.23-1.77-2.1-2.93-2.63l0.27-3.04L104.48,8.95 L104.48,8.95L104.48,8.95z M94.08,3.08c13.07,0,23.67,4.16,23.67,9.28c0,5.13-10.6,9.28-23.67,9.28c-13.07,0-23.67-4.16-23.67-9.28 C70.41,7.23,81.01,3.08,94.08,3.08L94.08,3.08z M94.08,0c15.9,0,28.8,6.76,28.8,15.1c0,8.34-12.9,15.1-28.8,15.1 c-15.9,0-28.8-6.76-28.8-15.1C65.28,6.76,78.18,0,94.08,0L94.08,0z M121.67,25.16c0.78,1.37,1.21,2.83,1.21,4.33 c0,8.34-12.9,15.1-28.8,15.1c-15.9,0-28.8-6.76-28.8-15.1c0-1.51,0.42-2.96,1.21-4.33c3.55,6.22,14.56,10.76,27.59,10.76 C107.11,35.93,118.12,31.39,121.67,25.16L121.67,25.16L121.67,25.16z M121.39,70.92c0.96,1.51,1.49,3.12,1.49,4.8 c0,8.34-12.9,15.1-28.8,15.1c-15.9,0-28.8-6.76-28.8-15.1c0-1.68,0.52-3.29,1.49-4.8c3.83,5.98,14.61,10.3,27.31,10.3 C106.78,81.22,117.57,76.91,121.39,70.92L121.39,70.92z M121.53,55.39c0.88,1.45,1.35,2.98,1.35,4.58c0,8.34-12.9,15.1-28.8,15.1 c-15.9,0-28.8-6.76-28.8-15.1c0-1.6,0.48-3.14,1.35-4.58c3.7,6.1,14.59,10.51,27.45,10.51S117.82,61.49,121.53,55.39L121.53,55.39 L121.53,55.39z\" />\r\n                      </g>\r\n                    </svg>\r\n                    <svg *ngIf=\"pos_payment.payment.settlement_process_code == 'OT'\" version=\"1.1\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n                      width=\"122.881px\" height=\"122.88px\" viewBox=\"0 0 122.881 122.88\"\r\n                      enable-background=\"new 0 0 122.881 122.88\" xml:space=\"preserve\">\r\n                      <g>\r\n                        <path\r\n                          d=\"M61.44,0c16.966,0,32.326,6.877,43.445,17.995s17.996,26.479,17.996,43.444c0,16.967-6.877,32.327-17.996,43.445 S78.406,122.88,61.44,122.88c-16.966,0-32.326-6.877-43.444-17.995S0,78.406,0,61.439c0-16.965,6.877-32.326,17.996-43.444 S44.474,0,61.44,0L61.44,0z M34.556,67.179c-1.313-1.188-1.415-3.216-0.226-4.529c1.188-1.313,3.216-1.415,4.529-0.227L52.3,74.611 l31.543-33.036c1.223-1.286,3.258-1.336,4.543-0.114c1.285,1.223,1.336,3.257,0.113,4.542L54.793,81.305l-0.004-0.004 c-1.195,1.257-3.182,1.338-4.475,0.168L34.556,67.179L34.556,67.179z M100.33,22.55C90.377,12.598,76.627,6.441,61.44,6.441 c-15.188,0-28.938,6.156-38.89,16.108c-9.953,9.953-16.108,23.702-16.108,38.89c0,15.188,6.156,28.938,16.108,38.891 c9.952,9.952,23.702,16.108,38.89,16.108c15.187,0,28.937-6.156,38.89-16.108c9.953-9.953,16.107-23.702,16.107-38.891 C116.438,46.252,110.283,32.502,100.33,22.55L100.33,22.55z\" />\r\n                      </g>\r\n                    </svg>\r\n                    <svg *ngIf=\"pos_payment.payment.settlement_process_code == 'CC'\" xmlns=\"http://www.w3.org/2000/svg\"\r\n                      viewBox=\"0 0 99.66 122.88\">\r\n                      <defs>\r\n                        <style>\r\n                          .cls-1 {\r\n                            fill-rule: evenodd;\r\n                          }\r\n                        </style>\r\n                      </defs>\r\n                      <title>entrance-door</title>\r\n                      <path class=\"cls-1\"\r\n                        d=\"M0,115H99.66v7.86H0V115Zm29-7.19H20.37v-6h2.24v3.73H29v2.23Zm0-95.36H22.61V16.2H20.37v-6H29v2.23ZM70.66,105.6h6.39v-3.73h2.24v6H70.66V105.6Zm0-95.36h8.63v6H77.05V12.47H70.66V10.24ZM15,5.16H84.72V113.42h5.52V0H8.64V113.42h5.51V5.16Zm6.48,44.63,4.37-1.25V64.88L21.49,63.3V49.79Z\" />\r\n                    </svg>\r\n                    {{ pos_payment.payment.description }}\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div> -->\r\n            <div class=\"action_btn_parnt\">\r\n              <ul>\r\n                <li>\r\n                  <a class=\"form-control\" tabindex=\"0\" href=\"javascript:void(0)\" (click)=\"onPlaceOrder('local')\">\r\n                    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n                      x=\"0px\" y=\"0px\" viewBox=\"0 0 122.879 118.77\" enable-background=\"new 0 0 122.879 118.77\"\r\n                      xml:space=\"preserve\">\r\n                      <g>\r\n                        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\r\n                          d=\"M11.512,106.21V58.896c-2.34,0.9-4.53,0.92-6.35,0.3 c-1.42-0.479-2.62-1.339-3.5-2.449c-0.88-1.11-1.439-2.46-1.609-3.949c-0.26-2.311,0.43-4.92,2.399-7.37l0,0 c0.1-0.12,0.21-0.239,0.34-0.34L59.847,0.552c0.74-0.68,1.88-0.75,2.7-0.11l57.186,44.457l0,0c0.09,0.069,0.17,0.14,0.249,0.229 c2.65,2.85,3.311,6.01,2.67,8.68c-0.319,1.319-0.949,2.499-1.819,3.479c-0.87,0.979-1.98,1.739-3.24,2.189 c-1.999,0.72-4.379,0.7-6.789-0.439v47.053h-5.6V56.577c0-1.01-39.227-32.018-43.556-35.387 c-4.589,3.489-44.536,34.247-44.536,35.547v49.492L11.512,106.21L11.512,106.21L11.512,106.21z M57.955,79.292 c10.901,0,19.739,8.838,19.739,19.739s-8.838,19.738-19.739,19.738s-19.739-8.837-19.739-19.738S47.054,79.292,57.955,79.292 L57.955,79.292z M65.695,102.349c-0.513,0-0.903,0.149-1.173,0.44c-0.27,0.3-0.406,0.706-0.406,1.25 c0,0.535,0.137,0.95,0.406,1.246c0.27,0.291,0.66,0.437,1.173,0.437c0.506,0,0.895-0.149,1.165-0.437 c0.27-0.296,0.406-0.711,0.406-1.246c0-0.544-0.137-0.954-0.406-1.25C66.599,102.494,66.205,102.349,65.695,102.349L65.695,102.349 L65.695,102.349z M50.216,93.362c-0.51,0-0.895,0.149-1.165,0.437c-0.27,0.295-0.406,0.71-0.406,1.245 c0,0.539,0.137,0.959,0.406,1.25s0.655,0.441,1.165,0.441c0.513,0,0.903-0.15,1.172-0.441c0.27-0.3,0.398-0.711,0.398-1.25 c0-0.535-0.129-0.95-0.398-1.245C51.128,93.512,50.734,93.362,50.216,93.362L50.216,93.362L50.216,93.362z M65.694,98.844 c1.656,0,2.986,0.477,3.997,1.417c1.005,0.947,1.515,2.202,1.515,3.771c0,1.565-0.51,2.826-1.515,3.768 c-1.011,0.947-2.341,1.418-3.997,1.418c-1.659,0-2.992-0.471-4.003-1.418c-1.005-0.947-1.508-2.202-1.508-3.768 c0-1.569,0.503-2.824,1.508-3.771C62.702,99.32,64.035,98.844,65.694,98.844L65.694,98.844L65.694,98.844z M50.216,89.856 c1.656,0,2.992,0.471,4.003,1.418c1.004,0.947,1.508,2.202,1.508,3.769c0,1.568-0.504,2.823-1.508,3.771 c-1.011,0.944-2.347,1.418-4.003,1.418s-2.986-0.478-3.997-1.418c-1.008-0.947-1.515-2.202-1.515-3.771 c0-1.566,0.507-2.827,1.515-3.769C47.23,90.327,48.56,89.856,50.216,89.856L50.216,89.856L50.216,89.856z M62.31,90.596h4.485 l-13.134,17.867h-4.489L62.31,90.596L62.31,90.596L62.31,90.596z M92.753,89.483c0.456,0.762,0.7,1.57,0.7,2.406 c0,3.452-4.157,6.4-9.988,7.542c0.002-0.133,0.004-0.267,0.004-0.4c0-1.48-0.131-2.932-0.379-4.341 C87.686,93.863,91.298,91.923,92.753,89.483L92.753,89.483L92.753,89.483L92.753,89.483L92.753,89.483z M63.264,74.065 c1.74-3.442,7.726-5.983,14.839-5.983l0,0l0,0l0,0c8.474,0,15.351,3.605,15.351,8.048c0,4.365-6.646,7.925-14.922,8.045 c-0.713-0.953-1.493-1.853-2.332-2.692c-0.775-0.775-1.602-1.499-2.473-2.167c1.363,0.198,2.837,0.307,4.376,0.307 c6.968,0,12.614-2.212,12.614-4.948c0-2.73-5.646-4.948-12.614-4.948l0,0l0,0l0,0l0,0c-6.967,0-12.613,2.213-12.613,4.948 c0,0.174,0.022,0.344,0.066,0.513c-0.8-0.231-1.616-0.424-2.448-0.574C63.189,74.272,63.262,74.062,63.264,74.065L63.264,74.065z M80.332,77.716l-0.028-1.989c0.449-0.018,0.818-0.154,1.104-0.41c0.29-0.256,0.443-0.563,0.477-0.926 c0.035-0.417-0.101-0.78-0.409-1.1c-0.312-0.318-0.807-0.505-1.483-0.563c-0.632-0.059-1.121,0.046-1.468,0.308 c-0.342,0.255-0.535,0.613-0.574,1.069c-0.052,0.568,0.159,1.103,0.626,1.598l-0.376,1.586l-5.709-1.484l0.869-5.244l1.854,0.159 l-0.324,3.744l1.73,0.461c-0.184-0.461-0.256-0.923-0.217-1.389c0.074-0.876,0.461-1.598,1.154-2.149 c0.693-0.558,1.553-0.791,2.57-0.7c0.854,0.074,1.594,0.388,2.214,0.938c0.852,0.752,1.228,1.725,1.125,2.919 c-0.085,0.955-0.403,1.712-0.972,2.269C81.931,77.376,81.208,77.677,80.332,77.716L80.332,77.716L80.332,77.716L80.332,77.716 L80.332,77.716z M92.81,81.498c0.422,0.734,0.644,1.508,0.644,2.31c0,3.676-4.708,6.778-11.134,7.739 c-0.486-1.539-1.12-3.015-1.882-4.408C86.337,86.666,91.132,84.435,92.81,81.498L92.81,81.498L92.81,81.498L92.81,81.498 L92.81,81.498L92.81,81.498z M29.425,76.435c0-0.883,0.259-1.735,0.739-2.54c1.752,2.936,6.471,5.193,12.313,5.794 c-1.738,1.149-3.284,2.575-4.57,4.215C34.603,82.959,29.425,80.527,29.425,76.435L29.425,76.435z M51.483,56.342l-0.188,2.107 l-7.954-0.691c0.655,0.835,1.111,1.789,1.362,2.863l-1.915-0.168c-0.3-1.286-1.288-2.799-2.515-3.361l0.15-1.71L51.483,56.342 L51.483,56.342L51.483,56.342L51.483,56.342L51.483,56.342L51.483,56.342z M58.943,58.257c0,2.881-5.96,5.222-13.314,5.222 c-7.354,0-13.315-2.341-13.315-5.222c0-2.883,5.961-5.224,13.315-5.224C48.68,53.033,58.943,54.042,58.943,58.257L58.943,58.257z M45.629,51.304c8.945,0,16.204,3.801,16.204,8.495c0,4.689-7.259,8.494-16.204,8.494c-8.944,0-16.204-3.805-16.204-8.494 C29.425,55.104,36.685,51.304,45.629,51.304L45.629,51.304L45.629,51.304z M61.154,65.461c0.443,0.773,0.679,1.59,0.679,2.437 c0,2.57-2.183,4.876-5.628,6.435c-2.59,0.253-5.063,0.905-7.358,1.893c-1.04,0.11-2.116,0.168-3.217,0.168 c-8.944,0-16.204-3.807-16.204-8.495c0-0.847,0.24-1.663,0.679-2.437c1.999,3.5,8.195,6.057,15.525,6.057 C52.96,71.518,59.155,68.961,61.154,65.461L61.154,65.461L61.154,65.461L61.154,65.461L61.154,65.461L61.154,65.461z M29.425,93.904c0-0.943,0.294-1.854,0.841-2.702c0.755,1.184,1.992,2.246,3.59,3.128c-0.036,0.492-0.054,0.991-0.054,1.496 c-0.002,0.58,0.021,1.16,0.071,1.739c-0.028,0.484-0.043,0.974-0.043,1.466c0,0.232,0.003,0.464,0.01,0.695 C31.677,98.523,29.425,96.55,29.425,93.904L29.425,93.904z M29.425,85.043c0-0.9,0.271-1.765,0.764-2.577 c1.049,1.731,3.132,3.226,5.872,4.276c-0.746,1.393-1.313,2.873-1.693,4.406C32.051,89.975,29.425,87.9,29.425,85.043 L29.425,85.043z M93.754,3.552l17.169,0.7v23.188L93.754,16.11V3.552L93.754,3.552L93.754,3.552L93.754,3.552z\" />\r\n                      </g>\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.LOCAL' | translate }}\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a class=\"form-control\" tabindex=\"0\" (click)=\"onPlaceOrder('room post')\"><svg id=\"Layer_1\"\r\n                      data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 99.66 122.88\">\r\n                      <defs>\r\n                        <style>\r\n                          .cls-1 {\r\n                            fill-rule: evenodd;\r\n                          }\r\n                        </style>\r\n                      </defs>\r\n                      <title>entrance-door</title>\r\n                      <path class=\"cls-1\"\r\n                        d=\"M0,115H99.66v7.86H0V115Zm29-7.19H20.37v-6h2.24v3.73H29v2.23Zm0-95.36H22.61V16.2H20.37v-6H29v2.23ZM70.66,105.6h6.39v-3.73h2.24v6H70.66V105.6Zm0-95.36h8.63v6H77.05V12.47H70.66V10.24ZM15,5.16H84.72V113.42h5.52V0H8.64V113.42h5.51V5.16Zm6.48,44.63,4.37-1.25V64.88L21.49,63.3V49.79Z\" />\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.ROOM_POST' | translate }}\r\n                  </a>\r\n                </li>\r\n\r\n                <li>\r\n                  <a class=\"form-control\" tabindex=\"0\" href=\"javascript:void(0)\" (click)=\"onPlaceOrder('discount')\">\r\n                    <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.88 122.88\">\r\n                      <title>offer</title>\r\n                      <path\r\n                        d=\"M13.7,49.54,8,33.63a3.47,3.47,0,0,1,2.1-4.44,3.93,3.93,0,0,1,.81-.18L27.3,27.3,29,10.79a3.47,3.47,0,0,1,3.81-3.1,2.9,2.9,0,0,1,.71.15l16,4.11L58.8,1.21A3.49,3.49,0,0,1,63.7.83a3.91,3.91,0,0,1,.61.68l9,12.17,15.91-5.8A3.48,3.48,0,0,1,93.69,10a3.44,3.44,0,0,1,.19.83l1.7,16.51L112.09,29a3.47,3.47,0,0,1,2.71,5.09l-7.3,13.77,14,10.83a3.46,3.46,0,0,1,.62,4.87,3.18,3.18,0,0,1-.72.7L109.2,73.33,115,89.24a3.48,3.48,0,0,1-2.08,4.45,3.44,3.44,0,0,1-.83.19l-16.51,1.7L93.88,112a3.48,3.48,0,0,1-3.81,3.1,3.61,3.61,0,0,1-1.27-.38L75,107.49l-10.85,14a3.46,3.46,0,0,1-5.57-.1l-9.08-12.25-15.91,5.74A3.47,3.47,0,0,1,29,112.05L27.3,97.29,10.53,93.82a3.46,3.46,0,0,1-2.7-4.09A2.62,2.62,0,0,1,8,89.11L13.7,73.34,1.4,64.23a3.48,3.48,0,0,1-.72-4.86,3.42,3.42,0,0,1,.77-.75L13.7,49.54Zm62.39-6.2L55.66,78.86a6.86,6.86,0,0,1-.67,1,2.76,2.76,0,0,1-.82.71,3.14,3.14,0,0,1-1.1.31,10.25,10.25,0,0,1-1.31.07H47.9a1.16,1.16,0,0,1-1.16-1.15,1.18,1.18,0,0,1,.21-.67L67.39,43.57a7.2,7.2,0,0,1,.65-1l0-.06a2.84,2.84,0,0,1,.78-.65A3.15,3.15,0,0,1,70,41.59h0a10,10,0,0,1,1.29-.07h3.85a1.16,1.16,0,0,1,1.16,1.15,1.18,1.18,0,0,1-.21.67Zm-7.4,36.07c-1.72-1.8-2.59-4.56-2.59-8.28s.87-6.48,2.59-8.28,4.52-2.7,8.4-2.7,6.68.9,8.4,2.7,2.58,4.56,2.58,8.28-.86,6.48-2.58,8.28-4.52,2.7-8.4,2.7-6.68-.9-8.4-2.7Zm6-11.44v8h1.3a16.21,16.21,0,0,0,3.27-.26c.22-.18.33-.67.33-1.46v-8h-3a3,3,0,0,0-1.58.26c-.21.18-.32.67-.32,1.46ZM37.39,60q-2.58-2.7-2.58-8.28t2.58-8.28q2.58-2.7,8.4-2.7t8.4,2.7q2.58,2.7,2.58,8.28T54.19,60q-2.58,2.7-8.4,2.7T37.39,60Zm6-11.44v8h3a2.93,2.93,0,0,0,1.57-.27c.22-.18.33-.67.33-1.46v-8H46.93a15.28,15.28,0,0,0-3.26.27c-.22.17-.33.66-.33,1.45ZM16,35.46l5,14a3.48,3.48,0,0,1-1.14,4.13L9.3,61.44,19.9,69.3a3.48,3.48,0,0,1,1.2,4L15.84,87.84,31,91a3.48,3.48,0,0,1,3,3.05l1.49,12.9,14.05-5.06A3.47,3.47,0,0,1,53.59,103l7.91,10.68,9.74-12.61A3.48,3.48,0,0,1,75.69,100l11.81,6.21L89,92.1A3.47,3.47,0,0,1,92.06,89L107,87.43,101.8,73.32a3.46,3.46,0,0,1,1.18-4l10.67-7.92-12.52-9.67A3.5,3.5,0,0,1,100,47.18l6.26-11.8L92.1,33.93A3.48,3.48,0,0,1,89,30.82L87.43,15.93,73.32,21.08a3.48,3.48,0,0,1-4-1.18L61.24,9l-7.8,9.07a3.48,3.48,0,0,1-3.5,1.1L35.5,15.5,33.92,30.78a3.47,3.47,0,0,1-3.1,3.14L16,35.46Z\" />\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.DISCOUNT' | translate }}\r\n                  </a>\r\n                </li>\r\n                <li\r\n                  [class.unavlbl_btn]=\"selectedItemFromKotWindow && selectedItemFromKotWindow.pos_item_type != isOpenItem\"\r\n                  data-bs-toggle=\"modal\" data-bs-target=\"#open_item_modal\">\r\n                  <a href=\"javascript:void(0)\">\r\n                    <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.88 112.04\">\r\n                      <defs>\r\n                        <style>\r\n                          .cls-1 {\r\n                            fill-rule: evenodd;\r\n                          }\r\n                        </style>\r\n                      </defs>\r\n                      <title>New name</title>\r\n                      <path class=\"cls-1\"\r\n                        d=\"M109.28,19.61l12.21,9.88a3.77,3.77,0,0,1,.56,5.29l-5.46,6.75L98.53,26.93,104,20.17a3.79,3.79,0,0,1,5.29-.56ZM21.07,30.81a3.18,3.18,0,0,1,0-6.36H74.12a3.18,3.18,0,0,1,0,6.36ZM9.49,0H85.71A9.53,9.53,0,0,1,95.2,9.49v5.63l-4.48,5.53a9.81,9.81,0,0,0-1.18,1.85c-.24.19-.48.4-.71.62V9.49a3.14,3.14,0,0,0-3.12-3.13H9.49A3.14,3.14,0,0,0,6.36,9.49v93.06a3.16,3.16,0,0,0,.92,2.21,3.11,3.11,0,0,0,2.21.92H85.71a3.12,3.12,0,0,0,3.12-3.13V88.2l1.91-.81a10,10,0,0,0,4.34-3.13l.12-.14v18.43A9.54,9.54,0,0,1,85.71,112H9.49A9.51,9.51,0,0,1,0,102.55V9.49A9.53,9.53,0,0,1,9.49,0ZM21.07,87.6a3.19,3.19,0,0,1,0-6.37H56.19a37.1,37.1,0,0,0-.3,6.37Zm0-18.93a3.19,3.19,0,0,1,0-6.37H59.22l0,.27-1.05,6.1Zm0-18.93a3.18,3.18,0,0,1,0-6.36H72.44l-5.11,6.36ZM87.25,78,74.43,83.47c-9.35,3.47-8.93,5.43-8-3.85L69.24,63.4h0l0,0,26.56-33,18,14.6L87.27,78ZM72.31,65.89l11.86,9.59-8.42,3.6c-6.6,2.83-6.42,4.23-5.27-2.53l1.83-10.66Z\" />\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.NEW_NAME' | translate }}\r\n                  </a>\r\n                </li>\r\n                <li\r\n                  [class.unavlbl_btn]=\"selectedItemFromKotWindow && selectedItemFromKotWindow.pos_item_type != isOpenItem\"\r\n                  (click)=\"onNewRateClick()\">\r\n                  <a href=\"javascript:void(0)\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" shape-rendering=\"geometricPrecision\"\r\n                      text-rendering=\"geometricPrecision\" image-rendering=\"optimizeQuality\" fill-rule=\"evenodd\"\r\n                      clip-rule=\"evenodd\" viewBox=\"0 0 474 512.27\">\r\n                      <path\r\n                        d=\"M352.84 253.82h67.5v-13.06c-3.86-14.29-10-23.98-17.97-29.88-7.94-5.88-18.27-8.4-30.38-8.31l-283.53.06c-6.81 0-12.33-5.52-12.33-12.34 0-6.81 5.52-12.33 12.33-12.33l39.5.01c-4.21-6.56-7.76-13.57-10.59-20.95-1.57-4.17-2.93-8.39-4.05-12.72H66.73c-11.55 0-22.07 4.74-29.7 12.37-7.62 7.62-12.36 18.14-12.36 29.7v259.16c0 11.54 4.75 22.06 12.38 29.68 7.6 7.66 18.13 12.39 29.68 12.39h311.54c11.54 0 22.06-4.75 29.7-12.37 7.62-7.64 12.37-18.17 12.37-29.7v-36.97h-67.5c-20.85 0-39.8-8.53-53.5-22.24l-1.29-1.4c-12.96-13.64-20.95-32.01-20.95-52.1v-3.26c0-20.75 8.52-39.67 22.24-53.42l.13-.13c13.75-13.69 32.64-22.19 53.37-22.19zm92.17.7c7.11 1.42 13.48 4.94 18.42 9.88 6.51 6.51 10.57 15.53 10.57 25.46v81.12c0 10.27-4.23 19.66-11.07 26.51a37.281 37.281 0 0 1-17.92 10.07v37.97c0 18.29-7.54 34.97-19.63 47.06l-.05.05c-12.09 12.09-28.77 19.63-47.06 19.63H66.73c-18.28 0-34.98-7.53-47.1-19.64C7.52 480.57 0 463.89 0 445.53V186.37c0-18.37 7.51-35.06 19.59-47.15 12.08-12.08 28.77-19.59 47.14-19.59h43.08c-.05-1.32-.07-2.65-.07-3.99 0-31.9 12.96-60.83 34-81.91 45.05-44.92 118.69-45.02 163.72 0l1.11 1.21c20.31 20.9 32.82 49.37 32.82 80.7 0 1.34-.03 2.67-.07 3.99h36.95c18.31 0 34.99 7.53 47.09 19.63 12.12 12.07 19.65 28.78 19.65 47.11v68.15zm-121.85-76.53h48.5c17.41-.16 32.75 3.8 45.36 13.15 1.13.84 2.24 1.72 3.32 2.64v-7.41c0-11.52-4.75-22.05-12.39-29.69-7.59-7.65-18.1-12.38-29.68-12.38H337.8c-1.1 4.34-2.46 8.59-4.04 12.72-2.82 7.4-6.38 14.4-10.6 20.97zM206.69 64.7c-.04-4.81-.49-8.26 5.49-8.17l24.46.23c6.23-.03 7.89 1.95 7.82 7.79v23.16h23.01c4.81-.03 8.25-.48 8.16 5.49l-.23 24.46c.03 6.24-1.94 7.9-7.79 7.83h-23.15v23.14c.07 5.85-1.59 7.83-7.82 7.79l-24.46.23c-5.98.09-5.53-3.35-5.49-8.16v-23h-23.16c-5.85.07-7.83-1.6-7.79-7.83l-.23-24.46c-.1-5.97 3.35-5.52 8.16-5.49h23.02V64.7zm18.88-45.25c53.12 0 96.18 43.06 96.18 96.19 0 24.7-9.32 47.23-24.63 64.26H154c-15.31-17.03-24.62-39.56-24.62-64.26 0-53.13 43.06-96.19 96.19-96.19zm133.52 280.81c8.13 0 15.51 3.31 20.85 8.66 5.38 5.38 8.69 12.76 8.69 20.89 0 8.12-3.31 15.5-8.65 20.85-5.38 5.38-12.76 8.69-20.89 8.69-8.12 0-15.49-3.31-20.85-8.65l-.06-.06c-5.34-5.36-8.63-12.73-8.63-20.83 0-8.12 3.31-15.5 8.65-20.85l.06-.06c5.35-5.33 12.72-8.64 20.83-8.64z\" />\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.NEW_RATE' | translate }}\r\n                  </a>\r\n                </li>\r\n                <li (click)=\"selectedItemFromKotWindow && selectedItemFromKotWindow.is_new && onDeleteItem()\"\r\n                  [class.unavlbl_btn]=\"selectedItemFromKotWindow && selectedItemFromKotWindow.is_dirty\">\r\n                  <a href=\"javascript:void(0)\">\r\n                    <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 105.7 122.88\">\r\n                      <title>Delete item</title>\r\n                      <path\r\n                        d=\"M30.46,14.57V5.22A5.18,5.18,0,0,1,32,1.55v0A5.19,5.19,0,0,1,35.68,0H70a5.22,5.22,0,0,1,3.67,1.53l0,0a5.22,5.22,0,0,1,1.53,3.67v9.35h27.08a3.36,3.36,0,0,1,3.38,3.37V29.58A3.38,3.38,0,0,1,102.32,33H98.51l-8.3,87.22a3,3,0,0,1-2.95,2.69H18.43a3,3,0,0,1-3-2.95L7.19,33H3.37A3.38,3.38,0,0,1,0,29.58V17.94a3.36,3.36,0,0,1,3.37-3.37Zm36.27,0V8.51H39v6.06ZM49.48,49.25a3.4,3.4,0,0,1,6.8,0v51.81a3.4,3.4,0,1,1-6.8,0V49.25ZM69.59,49a3.4,3.4,0,1,1,6.78.42L73,101.27a3.4,3.4,0,0,1-6.78-.43L69.59,49Zm-40.26.42A3.39,3.39,0,1,1,36.1,49l3.41,51.8a3.39,3.39,0,1,1-6.77.43L29.33,49.46ZM92.51,33.38H13.19l7.94,83.55H84.56l8-83.55Z\" />\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.DELETE_ITEM' | translate }}\r\n                  </a>\r\n                </li>\r\n                <li (click)=\"onRecallCheckClick()\">\r\n                  <a class=\"form-control\" tabindex=\"0\">\r\n                    <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.61 122.88\">\r\n                      <title>Recall bill</title>\r\n                      <path\r\n                        d=\"M111.9,61.57a5.36,5.36,0,0,1,10.71,0A61.3,61.3,0,0,1,17.54,104.48v12.35a5.36,5.36,0,0,1-10.72,0V89.31A5.36,5.36,0,0,1,12.18,84H40a5.36,5.36,0,1,1,0,10.71H23a50.6,50.6,0,0,0,88.87-33.1ZM106.6,5.36a5.36,5.36,0,1,1,10.71,0V33.14A5.36,5.36,0,0,1,112,38.49H84.44a5.36,5.36,0,1,1,0-10.71H99A50.6,50.6,0,0,0,10.71,61.57,5.36,5.36,0,1,1,0,61.57,61.31,61.31,0,0,1,91.07,8,61.83,61.83,0,0,1,106.6,20.27V5.36Z\" />\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.RECALL_BILL' | translate }}\r\n                  </a>\r\n                </li>\r\n                <li (click)=\"onBackClick()\">\r\n                  <a href=\"javascript:void(0)\">\r\n                    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n                      x=\"0px\" y=\"0px\" viewBox=\"0 0 122.88 98.86\" style=\"enable-background:new 0 0 122.88 98.86\"\r\n                      xml:space=\"preserve\">\r\n                      <style type=\"text/css\">\r\n                        .st0 {\r\n                          fill-rule: evenodd;\r\n                          clip-rule: evenodd;\r\n                        }\r\n                      </style>\r\n                      <g>\r\n                        <path class=\"st0\"\r\n                          d=\"M0,49.43l48.93,49.43V74.23c30.94-6.41,55.39,0.66,73.95,24.19c-3.22-48.4-36.29-71.76-73.95-73.31V0L0,49.43 L0,49.43L0,49.43z\" />\r\n                      </g>\r\n                    </svg>\r\n                    {{ 'ACTION_BUTTON.BACK' | translate }}\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n\r\n            </div>\r\n            <div class=\"keypad_main_blk\">\r\n              <app-digital-keyboard></app-digital-keyboard>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- SOF Other Add-on modal -->\r\n    <div class=\"modal fade\" id=\"other_add_on_modal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ 'PLACE_ORDER.OTHER_ADD_ON' | translate }}</h5>\r\n            <button type=\"button\" #closeOtherAddOnModalBtn id=\"closeOtherAddOnModalBtn\" class=\"btn-close\"\r\n              data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-8 col-md-8 col-lg-8 mb-15\">\r\n                <div class=\"generic_inpt\">\r\n                  <label>{{ 'ACTION_BUTTON.NEW_NAME' | translate }}</label>\r\n                  <input type=\"text\" [(ngModel)]=\"otherAddOnText\">\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-4 col-md-4 col-lg-4 mb-15\">\r\n                <div class=\"generic_inpt mb-0\">\r\n                  <label>{{ 'PLACE_ORDER.PRICE' | translate }}</label>\r\n                  <input type=\"number\" [(ngModel)]=\"otherAddOnPrice\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <div class=\"button_blk\">\r\n              <button type=\"button\" class=\"btn gry_btn\" (click)=\"onOtherAddOnSelection()\">\r\n                <i class=\"fas fa-check-circle\"></i>{{ 'ACTION_BUTTON.SAVE' | translate }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- EOF Other Add-on modal -->\r\n\r\n    <!-- SOF Open Item modal -->\r\n    <div class=\"modal fade\" id=\"open_item_modal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ 'ACTION_BUTTON.OPEN_ITEM' | translate }}</h5>\r\n            <button type=\"button\" #closeOpenItemModalBtn id=\"closeOpenItemModalBtn\" class=\"btn-close\"\r\n              data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-9 col-md-9 col-lg-9 mb-15\">\r\n                <div class=\"generic_inpt\">\r\n                  <label>{{ 'ACTION_BUTTON.NEW_NAME' | translate }}</label>\r\n                  <input type=\"text\" maxlength=\"50\" [(ngModel)]=\"openItemText\" (keyup.enter)=\"onOpenItemTextChange()\"\r\n                    autocomplete=\"none\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <div class=\"button_blk\">\r\n              <button type=\"button\" class=\"btn gry_btn\"\r\n                [class.unavlbl_btn]=\"selectedItemFromKotWindow && selectedItemFromKotWindow.pos_item_type != isOpenItem\"\r\n                [disabled]=\"selectedItemFromKotWindow && selectedItemFromKotWindow.pos_item_type != isOpenItem\"\r\n                (click)=\"onOpenItemTextChange()\">\r\n                <i class=\"fas fa-check-circle\"></i>{{ 'ACTION_BUTTON.SAVE' | translate }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- EOF Open Item modal -->\r\n\r\n\r\n    <!-- SOF Member search modal html -->\r\n    <div class=\"modal fade\" id=\"member_srch_modl\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-xl\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Member search</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body membr_cntn_modl\">\r\n            <form [formGroup]=\"memberSearchForm\" (ngSubmit)=\"onMemberSearch()\">\r\n              <div class=\"membr_parnt_cntn_blk flex-column flex-lg-row\">\r\n                <div class=\"membr_cntn_inr\">\r\n                  <label class=\"mb-2 mb-lg-0\">{{ 'MEMBER_SEARCH.MEMBER_ID' | translate }}:</label>\r\n                  <!-- <div class=\"keypad_click membr_inpt\"></div> -->\r\n                  <input type=\"text\" formControlName=\"memberId\" class=\"form-control keypad_click membr_inpt\"\r\n                    placeholder=\"Type here....\" value=\"\" />\r\n                </div>\r\n                <div class=\"membr_cntn_inr\">\r\n                  <label class=\"mb-2 mb-lg-0\">{{ 'MEMBER_SEARCH.FIRST_NAME' | translate }}:</label>\r\n                  <!-- <div class=\"keypad_click membr_inpt\"></div> -->\r\n                  <input type=\"text\" formControlName=\"firstName\" class=\"form-control keypad_click membr_inpt\"\r\n                    placeholder=\"Type here....\" value=\"\" />\r\n                </div>\r\n                <div class=\"membr_cntn_inr\">\r\n\r\n                  <label class=\"mb-2 mb-lg-0\">{{ 'MEMBER_SEARCH.LAST_NAME' | translate }}:</label>\r\n                  <!-- <div class=\"keypad_click membr_inpt\"></div> -->\r\n                  <input type=\"text\" formControlName=\"lastName\" class=\"form-control keypad_click membr_inpt\"\r\n                    placeholder=\"Type here....\" value=\"\" />\r\n                </div>\r\n                <button class=\"btn scrh_btn_main\" (click)=\"onMemberSearch()\"><i class=\"bi bi-search\"></i>{{\r\n                  'ACTION_BUTTON.SEARCH' | translate }}</button>\r\n              </div>\r\n            </form>\r\n            <div class=\"grd_parnt_blk\">\r\n              <div class=\"demo-container dev_grd_blk mb-15\">\r\n                <div class=\"dx-viewport demo-container menu_srch_grid\">\r\n                  <!-- <div id=\"grid\" [style.display]=\"membersDataArray.length > 0 ? 'block' : 'none'\"> -->\r\n                  <dx-data-grid id=\"gridContainer02\" [dataSource]=\"membersDataArray\" [showBorders]=\"false\"\r\n                    [showColumnHeaders]=\"true\" [showRowLines]=\"true\" [showColumnLines]=\"true\"\r\n                    (onSelectionChanged)=\"onGridItemSelection($event)\" keyExpr=\"account_id\"\r\n                    [rowAlternationEnabled]=\"true\" [remoteOperations]=\"true\">\r\n                    <dxo-selection mode=\"single\"></dxo-selection>\r\n                    <dxo-paging [pageSize]=\"5\"> </dxo-paging>\r\n                    <dxo-pager [visible]=\"true\" [allowedPageSizes]=\"allowedPageSizes\" [displayMode]=\"displayModes\"\r\n                      [showPageSizeSelector]=\"true\" [showInfo]=\"true\" [showNavigationButtons]=\"true\"></dxo-pager>\r\n                    <!-- <dxi-column dataField=\"account_id\" visible=\"false\"></dxi-column> -->\r\n                    <dxi-column dataField=\"membership_number\" caption=\"{{ 'MEMBER_SEARCH.MEMBER_ID' | translate }}\"\r\n                      cssClass=\"anchr_clr\">\r\n                    </dxi-column>\r\n                    <dxi-column dataField=\"member_name\" caption=\"{{ 'MEMBER_SEARCH.NAME' | translate }}\"\r\n                      [width]=\"30+'%'\">\r\n                    </dxi-column>\r\n                    <!-- <dxi-column dataField=\"issue_date\" caption=\"{{ 'PLACE_ORDER.MENU_HEADER' | translate }}\"\r\n                                [width]=\"30+'%'\">\r\n                              </dxi-column> -->\r\n                    <dxi-column dataField=\"birth_date\" caption=\"{{ 'MEMBER_SEARCH.BIRTH_DATE' | translate }}\"\r\n                      dataType=\"date\" format=\"dd/MM/yyyy\">\r\n                    </dxi-column>\r\n                    <dxi-column dataField=\"issue_date\" caption=\"{{ 'MEMBER_SEARCH.FROM_DATE' | translate }}\"\r\n                      dataType=\"date\" format=\"dd/MM/yyyy\">\r\n                    </dxi-column>\r\n                    <dxi-column dataField=\"expiry_date\" caption=\"{{ 'MEMBER_SEARCH.TO_DATE' | translate }}\"\r\n                      dataType=\"date\" format=\"dd/MM/yyyy\">\r\n                    </dxi-column>\r\n                    <dxi-column cellTemplate=\"cellTemplate\" [alignment]=\"'left'\" [allowFiltering]=\"false\"\r\n                      caption=\"{{ 'MEMBER_SEARCH.ACTION' | translate }}\" alignment=\"center\" cssClass=\"padg_00\"\r\n                      [allowEditing]=\"false\">\r\n                    </dxi-column>\r\n                    <div dataField=\"account_id\" *dxTemplate=\"let data of 'cellTemplate'\" itemTemplate=\"list-item\">\r\n                      <div hint=\"Information\" alignment=\"left\">\r\n                        <a class=\"userIcon\" title=\"Select member\" tabindex=\"0\" style=\"cursor: pointer;\"><i\r\n                            class=\"bi user_icn\" (click)=\"onSelectMember(data)\"></i></a>\r\n                      </div>\r\n                    </div>\r\n                  </dx-data-grid>\r\n                  <!-- </div> -->\r\n                </div>\r\n                <!-- <div id=\"descContainer\"></div>\r\n                        <div id=\"gridContainer02\"></div> -->\r\n              </div>\r\n            </div>\r\n            <div class=\"member_blck_remrk\" *ngIf=\"blockedMemberSelection\">\r\n              {{ 'MEMBER_SEARCH.BLOCKED_MEMBER_DETAILS' | translate }} -\r\n              <span>{{ 'MEMBER_SEARCH.NAME' | translate }}: <b>{{blockedMemberSelection?.member_name}}</b></span>\r\n              <span>{{ 'MEMBER_SEARCH.REASON' | translate }}:\r\n                <b>{{blockedMemberSelection?.block_member_remark}}</b></span>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <div class=\"button_blk\">\r\n              <button type=\"button\" class=\"btn red_btn\" data-bs-dismiss=\"modal\"><i class=\"fas fa-times-circle\"\r\n                  #closeBtn1 id=\"closeBtn1\"></i>{{\r\n                'COMMON_LABEL.CANCEL' | translate }}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- EOF Member Search modal html -->\r\n\r\n    <div class=\"modal fade card_swipe_modl_parnt\" id=\"card_swipe_modl\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-lg modal-dialog-centered\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Card Swipe</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body membr_cntn_modl\">\r\n            <form>\r\n              <div class=\"membr_parnt_cntn_blk flex-column flex-lg-row\">\r\n                <div class=\"membr_cntn_inr\">\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Swipe card here...\" [formControl]=\"inputControl\"\r\n                    autocomplete=\"off\" (keydown.enter)=\"onEnterKey()\" />\r\n                  <!-- <button class=\"btn scrh_btn_main\">Ok</button> -->\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PointerService } from '../../services/pointer.service';\r\nimport { RecallCheckService } from '../../services/recall-check.service';\r\nimport { AlertService } from '../../services/alert.service';\r\nimport { OutletSetting } from '../../models/outlet-setting.model';\r\nimport { TableLayoutService } from '../../services/table-layout.service';\r\nimport { environment } from 'projects/pos/src/environments/environment';\r\ndeclare function initializeKeyboard(event): any;\r\n\r\n@Component({\r\n  selector: 'app-recall-check',\r\n  templateUrl: './recall-check.component.html'\r\n})\r\nexport class RecallCheckComponent implements OnInit {\r\n  businessDate: Date;\r\n  checkList: any;\r\n  outletId: string;\r\n  checkNumber: string;\r\n  tableCode: string;\r\n  includeOpenCheck: boolean = false;\r\n  dateSelection: boolean = false;\r\n  tableSelection: boolean = false;\r\n\r\n  constructor(private recallCheckService: RecallCheckService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private alertService: AlertService,\r\n    private tableLayoutService: TableLayoutService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.outletId = this.activatedRoute.snapshot.params[\"outlet_id\"];\r\n    this.tableCode = this.activatedRoute.snapshot.params[\"table_code\"];\r\n    this.businessDate = PointerService.getBusinessDate();\r\n    this.getCheckBySelectionCriteria();\r\n  }\r\n\r\n  onTableSelection() {\r\n    this.tableSelection = !this.tableSelection;\r\n    this.getCheckBySelectionCriteria();\r\n  }\r\n\r\n  onDateSelection() {\r\n    this.dateSelection = !this.dateSelection;\r\n    this.getCheckBySelectionCriteria();\r\n  }\r\n\r\n  onOpenCheckSelection() {\r\n    this.includeOpenCheck = !this.includeOpenCheck;\r\n    this.getCheckBySelectionCriteria();\r\n  }\r\n\r\n  onRecallBillClick() {\r\n    this.recallCheckService.getCheckListBy(this.outletId, false, false, false, \"\", this.checkNumber)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          this.checkList = data;\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  getCheckBySelectionCriteria() {\r\n    this.recallCheckService.getCheckListBy(this.outletId, this.dateSelection, this.includeOpenCheck, this.tableSelection, this.tableCode, \"\")\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          this.checkList = data;\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  onCheckSelection(cell) {\r\n    if (cell?.data?.last_action == \"VO\") {\r\n      this.alertService.error(\"Void checks can't be recalled!\");\r\n      return;\r\n    }\r\n    this.router.navigate(['/billing/' + this.outletId + '/view-bill/' + cell.data.id]);\r\n  }\r\n\r\n  onBackClick(): void {\r\n    let isQsrOutlet = this.checkQsrOutlet();\r\n\r\n    if (isQsrOutlet) {\r\n      let layoutData = JSON.parse(localStorage.getItem(\"tableLayout\"));\r\n\r\n      if (!layoutData) {\r\n        this.tableLayoutService.getTableLayoutBy(this.outletId).subscribe((data) => {\r\n          this.getAvailableTable(data);\r\n        })\r\n      } else {\r\n        this.getAvailableTable(layoutData);\r\n      }\r\n    } else {\r\n      this.router.navigate(['/table-layout/' + this.outletId]);\r\n    }\r\n  }\r\n\r\n  openKeyboard(event): void {\r\n    initializeKeyboard(event.target);\r\n  }\r\n\r\n  checkQsrOutlet() {\r\n    let isQsrOutlet: boolean = false;\r\n    if (this.outletId) {\r\n      const outletSettingData: OutletSetting[] = JSON.parse(localStorage.getItem(\"outletSetting\"));\r\n      if (outletSettingData) {\r\n        let currentOutletSetting = outletSettingData.filter(a => a.pos_restaurant_id === +this.outletId);\r\n\r\n        if (currentOutletSetting.length > 0) {\r\n          isQsrOutlet = currentOutletSetting[0].qsr_in_use_ind;\r\n        }\r\n        return isQsrOutlet\r\n      } else {\r\n        this.router.navigate(['/outlet']);\r\n      }\r\n    }\r\n  }\r\n\r\n  getAvailableTable(layoutData) {\r\n    //Get any Free table from layout for QSR billing\r\n    let selectedTable = layoutData.filter(t => {\r\n      return t.pos_restaurant_id == +this.outletId && t.table_status.toUpperCase() === environment.POS_TABLE_STATUS_AVAILABLE.toUpperCase()\r\n    });\r\n\r\n    if (selectedTable && selectedTable.length > 0) {\r\n      this.router.navigate(['/billing/' + this.outletId + '/qsr/' + selectedTable[0].table_code]);\r\n    } else {\r\n      this.alertService.error(environment.NO_FREE_TABLE_AVAILABLE);\r\n    }\r\n  }\r\n}\r\n","<div class=\"wrapg_blk\">\r\n  <app-header></app-header>\r\n\r\n  <!-- SOF Sub-header HTML -->\r\n  <div class=\"sub_header_parnt menu_sub_hdr\">\r\n    <div class=\"sub_header_inr only_page_name\">\r\n      <h2 class=\"page_name\">{{ 'RECALL_BILL.RECALL_BILL' | translate }}</h2>\r\n    </div>\r\n    <app-business-date></app-business-date>\r\n  </div>\r\n  <!-- EOF Sub-header HTML  -->\r\n\r\n  <main class=\"main_cnt_blk\">\r\n    <section class=\"table_tab_parnt\">\r\n      <div class=\"recall_modl_parnt\">\r\n        <div class=\"recall_modl_inr\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-7 col-xl-8\">\r\n              <div class=\"selct_ans_blk\">\r\n                <a href=\"javascript:void(0)\" [class.selected]=\"tableSelection\" *ngIf=\"tableCode\" data-target=\"#\"\r\n                  class=\"\" (click)=\"onTableSelection()\">\r\n                  <i class=\"tabl_icn\"></i>\r\n                  {{ tableCode }}\r\n                </a>\r\n                <a href=\"javascript:void(0)\" data-target=\"#\" [class.selected]=\"dateSelection\">\r\n                  <i class=\"calender_icn\" (click)=\"onDateSelection()\"></i>\r\n                  {{ businessDate | date: 'dd/MM/yyyy' }}\r\n                </a>\r\n                <a href=\"javascript:void(0)\" data-target=\"#\" [class.selected]=\"includeOpenCheck\"\r\n                  (click)=\"onOpenCheckSelection()\">\r\n                  <i class=\"recall_check_icn\"></i>{{ 'RECALL_BILL.OPEN_BILL' | translate }}\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-5 col-xl-4\">\r\n              <div class=\"recall_inpt\">\r\n                <input type=\"text\" [(ngModel)]=\"checkNumber\" class=\"form-control\"\r\n                  placeholder=\"To recall check type here\" aria-label=\"To recall check type here\"\r\n                  (click)=\"openKeyboard($event)\" />\r\n                <div class=\"button_blk\">\r\n                  <button type=\"button\" class=\"btn gry_btn\" (click)=\"onRecallBillClick()\"><i\r\n                      class=\"bi bi-arrow-repeat\"></i>{{ 'RECALL_BILL.RECALL_BILL' | translate }}</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"dx-viewport demo-container\">\r\n              <div id=\"grid\">\r\n                <dx-data-grid id=\"gridCheck\" [dataSource]=\"checkList\" keyExpr=\"id\" [showBorders]=\"false\"\r\n                  [showColumnHeaders]=\"true\" [showRowLines]=\"true\" [showColumnLines]=\"true\">\r\n                  <dxo-paging [enabled]=\"true\" [pageSize]=\"10\"></dxo-paging>\r\n                  <dxo-pager [showNavigationButtons]=\"true\" [showPageSizeSelector]=\"false\" [visible]=\"true\"></dxo-pager>\r\n                  <dxo-selection mode=\"single\"></dxo-selection>\r\n                  <dxo-scrolling mode=\"standard\"></dxo-scrolling>\r\n                  <dxo-editing mode=\"cell\" [allowUpdating]=\"false\">\r\n                  </dxo-editing>\r\n                  <dxi-column dataField=\"id\" [visible]=\"false\"></dxi-column>\r\n                  <dxi-column dataField=\"check_no\" caption=\"Bill no\" cssClass=\"anchr_clr\" cellTemplate=\"cellTemplate\">\r\n                  </dxi-column>\r\n                  <div *dxTemplate=\"let cell of 'cellTemplate'\" (click)=\"onCheckSelection(cell)\">\r\n                    <div class=\"anchr_clr\">{{cell.text}}</div>\r\n                  </div>\r\n                  <dxi-column dataField=\"guest_name\" caption=\"{{ 'COMMON_LABEL.GUEST_NAME' | translate }}\">\r\n                  </dxi-column>\r\n                  <dxi-column dataField=\"table_code\" caption=\"{{ 'COMMON_LABEL.TABLE_NUMBER' | translate }}\">\r\n                  </dxi-column>\r\n                  <dxi-column dataField=\"check_open_date\" caption=\"{{ 'COMMON_LABEL.OPEN_DATE' | translate }}\"\r\n                    dataType=\"date\" format=\"dd/MM/yyyy\">\r\n                  </dxi-column>\r\n                  <dxi-column dataField=\"check_amount\" caption=\"{{ 'COMMON_LABEL.AMOUNT' | translate }}\">\r\n                  </dxi-column>\r\n                  <dxi-column dataField=\"status\" caption=\"{{ 'COMMON_LABEL.STATUS' | translate }}\">\r\n                  </dxi-column>\r\n                  <dxi-column dataField=\"check_open_by\" caption=\"{{ 'COMMON_LABEL.OPEN_BY' | translate }}\">\r\n                  </dxi-column>\r\n                  <dxi-column dataField=\"check_closed_by\" caption=\"{{ 'COMMON_LABEL.CLOSED_BY' | translate }}\">\r\n                  </dxi-column>\r\n                  <dxi-column dataField=\"check_printed_by\" caption=\"{{ 'COMMON_LABEL.PRINTED_BY' | translate }}\">\r\n                  </dxi-column>\r\n                </dx-data-grid>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"action_btn_parnt\">\r\n      <ul>\r\n        <li (click)=\"onBackClick()\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 122.88 98.86\"\r\n              style=\"enable-background:new 0 0 122.88 98.86\" xml:space=\"preserve\">\r\n              <g>\r\n                <path\r\n                  d=\"M0,49.43l48.93,49.43V74.23c30.94-6.41,55.39,0.66,73.95,24.19c-3.22-48.4-36.29-71.76-73.95-73.31V0L0,49.43 L0,49.43L0,49.43z\" />\r\n              </g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.BACK' | translate }}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n\r\n    <!-- SOF Common keyboard html -->\r\n    <app-qwerty-keyboard></app-qwerty-keyboard>\r\n    <!-- EOF Common keyboard html -->\r\n  </main>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PosCheck } from '../../models/pos-check.model';\r\nimport { PointerService } from '../../services/pointer.service';\r\nimport { PosCheckService } from '../../services/pos-check.service';\r\nimport { AlertService } from '../../services/alert.service';\r\nimport { RoomService } from '../../services/room.service';\r\nimport { CommonService } from '../../services/common.service';\r\nimport { PosCheckSettlement } from '../../models/pos-check-settlement.model';\r\nimport { environment } from 'projects/pos/src/environments/environment';\r\nimport { ChargeService } from '../../services/charge.service';\r\n\r\n@Component({\r\n  selector: 'app-room-post',\r\n  templateUrl: './room-post.component.html'\r\n})\r\nexport class RoomPostComponent {\r\n  outletId: string = \"\";\r\n  posCheck: PosCheck;\r\n  posCheckId: string;\r\n  decimalPlace: number = this.pointerService.getDecimalPlaceValue();\r\n  isRoomServiceOutlet: boolean = false;\r\n  roomData: any;\r\n  maxChars: number = 50;\r\n  inhouse_status: string = \"CI\";\r\n  primary_client: string = \"1\";\r\n  first_name: string = \"\";\r\n  last_name: string = \"\";\r\n  selected_room: string = \"\";\r\n  subheader_text: string = \"\";\r\n  guestData: any[] = [];\r\n  selectedVisitId: string = \"\";\r\n  selectedInhouseId: string = \"\";\r\n  selectedRoomNo: string = \"\";\r\n  pointersData: any;\r\n\r\n\r\n  currentUserShift = this.commonService.getCurrentUserShiftNumber(this.outletId);\r\n\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private posCheckService: PosCheckService,\r\n    private pointerService: PointerService,\r\n    private roomService: RoomService,\r\n    private alertService: AlertService,\r\n    private commonService: CommonService,\r\n    private chargeService: ChargeService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.outletId = this.activatedRoute.snapshot.params[\"outlet_id\"];\r\n    this.pointersData = JSON.parse(localStorage.getItem(\"pointerData\"));\r\n    let roomServiceOutletId = this.pointersData?.filter(res => res.code == environment.ROOM_SERVICE_POINTER)[0]?.pointer_value?.split(',');\r\n    this.isRoomServiceOutlet = roomServiceOutletId?.includes(this.outletId);\r\n    this.posCheckId = this.activatedRoute.snapshot.params[\"check_id\"];\r\n    this.getCheckDetails();\r\n  }\r\n\r\n  getAllRooms() {\r\n    this.roomService.getAll()\r\n      .subscribe({\r\n        next: (data) => {\r\n          let allItems: any = [];\r\n          data?.forEach(element => {\r\n            let obj = {}\r\n            obj['id'] = element.id;\r\n            obj['description'] = element.room_display_number;\r\n            obj['floor_number'] = element.floor_number;\r\n            obj['room_type'] = element.room_type;\r\n            obj['occupancy_status'] = element.occupancy_status;\r\n            obj['cleaning_status'] = element.cleaning_status;\r\n            allItems.push(obj);\r\n          });\r\n\r\n          this.roomData = allItems;\r\n          if (this.isRoomServiceOutlet) {\r\n            this.selected_room = this.roomData?.filter(res => res.description == this.posCheck?.table_code)[0]?.id;\r\n            this.searchRecords();\r\n          }\r\n          //localStorage.setItem('roomData', JSON.stringify(allItems));\r\n        },\r\n        error: error => {\r\n          this.alertService.error(error);\r\n        }\r\n      });\r\n  }\r\n\r\n  getCheckDetails(): void {\r\n    this.posCheckService.findBy(this.posCheckId)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          if (data) {\r\n            this.posCheck = data;\r\n            this.getAllRooms();\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  onRoomPost(): void {\r\n    if (this.selectedVisitId != \"\") {\r\n      this.addPaymentToCheck();\r\n    } else {\r\n      this.alertService.error(\"Please select guest for room post\");\r\n    }\r\n  }\r\n\r\n  addPaymentToCheck() {\r\n    this.posCheck.close_shift = this.currentUserShift;\r\n    let inhouseSettlementChargeId: string = this.pointerService.filterValueByCode(environment.POINTER_POS_INHOUSE_SETTLEMENT_CHARGE);\r\n\r\n    if (inhouseSettlementChargeId == \"\") {\r\n      this.alertService.error(\"Pointer missing for room post charge\");\r\n      return\r\n    } else {\r\n\r\n      this.chargeService.fetchChargeById(+inhouseSettlementChargeId).subscribe({\r\n        next: (data: any) => {\r\n          if (data && data.charge) {\r\n            this.posCheck.pos_check_settlements = [];\r\n            let settlement = new PosCheckSettlement();\r\n            settlement.is_new = true;\r\n            settlement.id = this.posCheck.pos_check_settlements.length + 1;\r\n            settlement.allowance_ind = false;\r\n            settlement.amount = this.posCheck.dr_total;\r\n            settlement.room_no = this.selectedRoomNo;\r\n            settlement.inhouse_id = this.selectedInhouseId;\r\n            settlement.visit_id = this.selectedVisitId;\r\n            settlement.charge_id = +inhouseSettlementChargeId;\r\n            settlement.currency_id = PointerService.getLocalCurrencyId();\r\n            settlement.dr_cr = data.charge.dr_cr;\r\n            settlement.settlement_type = data.charge.settlement_process_code;\r\n\r\n            this.posCheck.pos_check_settlements.push(settlement);\r\n\r\n            this.posCheck.room_settle_ind = true;\r\n\r\n            this.posCheckService.settleBill(this.posCheck)\r\n              .subscribe({\r\n                next: (data: any) => {\r\n                  //delay layout refresh - for table status change\r\n                  setTimeout(() => {\r\n                    this.router.navigate(['/table-layout/' + this.outletId]);\r\n                  }, 500);\r\n                },\r\n                error: (error: any) => {\r\n                  if (error.errors && error.errors.length > 0) {\r\n                    this.alertService.error(error.errors[0]);\r\n                  } else {\r\n                    this.alertService.error(error);\r\n                  }\r\n                }\r\n              });\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  onGuestChecked(event): void {\r\n    if (event.selectedRowsData && event.selectedRowsData.length > 0) {\r\n      if (event.selectedRowsData.length > 1) {\r\n        this.selectedVisitId = \"\";\r\n        this.selectedInhouseId = \"\";\r\n        this.selectedRoomNo = \"\";\r\n        this.alertService.error(\"Please select only one guest\");\r\n      } else {\r\n        this.selectedVisitId = event.selectedRowsData[0].visit_id;\r\n        this.selectedInhouseId = event.selectedRowsData[0].inhouse_id;\r\n        this.selectedRoomNo = event.selectedRowsData[0].room_number;\r\n      }\r\n    }\r\n  }\r\n\r\n  searchRecords(): void {\r\n    this.subheader_text = \"Guest details for: \";\r\n\r\n    if (this.selected_room) {\r\n      this.subheader_text += \"Room no: \" + this.selected_room;\r\n    }\r\n\r\n    if (this.first_name) {\r\n      this.subheader_text += \"First name: \" + this.first_name;\r\n    }\r\n\r\n    if (this.last_name) {\r\n      this.subheader_text += \"Last name: \" + this.last_name;\r\n    }\r\n\r\n    this.roomService.findGuestDetails(this.selected_room, this.first_name, this.last_name, this.inhouse_status, this.primary_client)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          if (data) {\r\n            this.guestData = data;\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  onRoomSelection(event): void {\r\n    this.selected_room = event.target.value;\r\n  }\r\n\r\n  onBackClick(): void {\r\n    this.router.navigate(['/billing/' + this.outletId + '/view-bill/' + this.posCheckId]);\r\n  }\r\n}\r\n","<div class=\"wrapg_blk\">\r\n  <app-header></app-header>\r\n\r\n  <!-- SOF Sub-header HTML -->\r\n  <div class=\"sub_header_parnt menu_sub_hdr\">\r\n    <div class=\"sub_btn_grp\">\r\n      <button class=\"btn info_btn\"><i class=\"bi bi-info-lg\"></i></button>\r\n    </div>\r\n    <div class=\"sub_header_inr\">\r\n      <h2 class=\"page_name\">Room post</h2>\r\n      <div class=\"table_drpdwn\">\r\n        <select>\r\n          <option *ngIf=\"posCheck\">{{ posCheck.table_code }}</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"cover_num_blk\">\r\n        <p><label>Covers:</label>\r\n          <input *ngIf=\"posCheck\" type=\"number\" [placeholder]=\"posCheck.covers ? posCheck.covers : ''\" readonly />\r\n        </p>\r\n      </div>\r\n      <div class=\"gust_info_blk\">\r\n        <div class=\"guest_name_parnt\">\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>Name:</label>\r\n              <input *ngIf=\"posCheck\" type=\"text\" readonly\r\n                [placeholder]=\"posCheck.guest_name ? posCheck.guest_name : '' \" />\r\n            </p>\r\n          </div>\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>GST:</label>\r\n              <input *ngIf=\"posCheck\" type=\"text\"\r\n                [placeholder]=\"posCheck.guest_gst_number ? posCheck.guest_gst_number : ''\" readonly />\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <app-business-date></app-business-date>\r\n  </div>\r\n  <!-- EOF Sub-header HTML -->\r\n\r\n  <main class=\"main_cnt_blk action_btn_hght\">\r\n    <section class=\"table_tab_parnt\">\r\n      <div class=\"disnt_parnt_blk\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12\">\r\n            <div class=\"disnt_parnt_inr\">\r\n              <div class=\"blue_main_parnt\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-6 col-sm-4 col-lg-2\" *ngIf=\"posCheck\">\r\n                    <label>Debit total</label>\r\n                    {{ posCheck.dr_total }}\r\n                  </div>\r\n                  <div class=\"col-6 col-sm-4 col-lg-2\" *ngIf=\"posCheck\">\r\n                    <label>Credit total</label>\r\n                    {{ posCheck.cr_total }}\r\n                  </div>\r\n                  <div class=\"col-6 col-sm-4 col-lg-2\" *ngIf=\"posCheck\">\r\n                    <label>Opened on</label>\r\n                    {{ posCheck.open_time | date: 'dd MMM yyyy hh:mm' }}\r\n                  </div>\r\n                  <div class=\"col-6 col-sm-4 col-lg-2\" *ngIf=\"posCheck\">\r\n                    <label>Bill no</label>\r\n                    {{ posCheck.check_no }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"disnt_inr_blk mb-15\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-lg-2 col-xl-2\">\r\n                    <div class=\"generic_inpt\">\r\n                      <label>Room number</label>\r\n                      <select (change)=\"onRoomSelection($event)\">\r\n                        <option value=\"\">Please select</option>\r\n                        <option *ngFor='let room of roomData;let i = index' [value]=\"room.id\">\r\n                          {{ room.description }}\r\n                        </option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n                    <div class=\"generic_inpt\">\r\n                      <label>First name</label>\r\n                      <input type=\"text\" class=\"form-control\" [(ngModel)]=\"first_name\" [maxlength]=\"maxChars\">\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-sm-6 col-md-4 col-lg-3\">\r\n                    <div class=\"generic_inpt\">\r\n                      <label>Last name</label>\r\n                      <input type=\"text\" class=\"form-control\" [(ngModel)]=\"last_name\" [maxlength]=\"maxChars\">\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-md-4 col-lg-4 col-xl-4 gust_scrh_radio_blk\">\r\n                    <div class=\"gust_dtls_radio\">\r\n                      <div class=\"radio_blk\" tabindex=\"0\">\r\n                        <input type=\"radio\" name=\"radio\" id=\"radio00\" class=\"form-control radio_clck\" value=\"CI\"\r\n                          [checked]=\"inhouse_status === 'CI'\" [(ngModel)]=\"inhouse_status\">\r\n                        <label for=\"radio00\" class=\"radio_label\">Innhouse</label>\r\n                      </div>\r\n                      <span class=\"radio_dvdr\"></span>\r\n                      <div class=\"radio_blk\" tabindex=\"0\">\r\n                        <input type=\"radio\" name=\"radio\" id=\"radio01\" class=\"form-control radio_clck\" value=\"CO\"\r\n                          [checked]=\"inhouse_status === 'CO'\" [(ngModel)]=\"inhouse_status\">\r\n                        <label for=\"radio01\" class=\"radio_label\">Checkout</label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-md-4 col-lg-4 col-xl-4 gust_scrh_radio_blk\">\r\n                    <div class=\"gust_dtls_radio\">\r\n                      <div class=\"radio_blk\" tabindex=\"0\">\r\n                        <input type=\"radio\" name=\"radioGuest\" id=\"radio02\" class=\"form-control radio_clck\" value=\"1\"\r\n                          [checked]=\"primary_client === '1'\" [(ngModel)]=\"primary_client\">\r\n                        <label for=\"radio02\" class=\"radio_label\">Primary guest</label>\r\n                      </div>\r\n                      <span class=\"radio_dvdr\"></span>\r\n                      <div class=\"radio_blk\" tabindex=\"0\">\r\n                        <input type=\"radio\" name=\"radioGuest\" id=\"radio03\" class=\"form-control radio_clck\" value=\"0\"\r\n                          [checked]=\"primary_client === '0'\" [(ngModel)]=\"primary_client\">\r\n                        <label for=\"radio03\" class=\"radio_label\">All</label>\r\n                      </div>\r\n                    </div>\r\n                    <button type=\"button\" class=\"btn scrh_btn_main\" (click)=\"searchRecords()\"><i\r\n                        class=\"bi bi-search\"></i>Search</button>\r\n                  </div>\r\n                  <div class=\"col-12 mt-2 mt-md-0\">\r\n                    <h2 class=\"title_cls\">{{ subheader_text }}</h2>\r\n                    <div class=\"dx-viewport demo-container\">\r\n                      <div id=\"grid\">\r\n                        <dx-data-grid id=\"gridGuest\" [dataSource]=\"guestData\" keyExpr=\"visit_id\" [showBorders]=\"false\"\r\n                          [showColumnHeaders]=\"true\" [showRowLines]=\"true\" [showColumnLines]=\"true\"\r\n                          (onSelectionChanged)=\"onGuestChecked($event)\">\r\n                          <dxo-paging [enabled]=\"true\" [pageSize]=\"10\"></dxo-paging>\r\n                          <dxo-pager [showNavigationButtons]=\"true\" [showPageSizeSelector]=\"false\"\r\n                            [visible]=\"true\"></dxo-pager>\r\n                          <dxo-selection mode=\"multiple\" showCheckBoxesMode=\"always\" allowSelectAll=\"false\"></dxo-selection>\r\n                          <dxo-scrolling mode=\"standard\"></dxo-scrolling>\r\n                          <dxo-editing mode=\"cell\" [allowUpdating]=\"false\">\r\n                          </dxo-editing>\r\n                          <dxi-column dataField=\"visit_id\" [visible]=\"false\"></dxi-column>\r\n                          <dxi-column dataField=\"inhouse_id\" caption=\"Inhouse id\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"room_number\" caption=\"Room number\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"guest_name\" caption=\"Guest name\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"arrival_date\" caption=\"Arrival date\" dataType=\"date\"\r\n                            format=\"dd/MM/yyyy\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"departure_date\" caption=\"Departure date\" dataType=\"date\"\r\n                            format=\"dd/MM/yyyy\">\r\n                          </dxi-column>\r\n                          <dxi-column dataField=\"billing_instruction\" caption=\"Billing instruction\">\r\n                          </dxi-column>\r\n                        </dx-data-grid>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <section class=\"action_btn_parnt\">\r\n      <ul>\r\n        <li (click)=\"onRoomPost()\">\r\n          <a href=\"javascript:void(0)\" class=\"form-control\" tabindex=\"0\">\r\n            <svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 99.66 122.88\">\r\n              <defs>\r\n                <style>\r\n                  .cls-1 {\r\n                    fill-rule: evenodd;\r\n                  }\r\n                </style>\r\n              </defs>\r\n              <title>entrance-door</title>\r\n              <path class=\"cls-1\"\r\n                d=\"M0,115H99.66v7.86H0V115Zm29-7.19H20.37v-6h2.24v3.73H29v2.23Zm0-95.36H22.61V16.2H20.37v-6H29v2.23ZM70.66,105.6h6.39v-3.73h2.24v6H70.66V105.6Zm0-95.36h8.63v6H77.05V12.47H70.66V10.24ZM15,5.16H84.72V113.42h5.52V0H8.64V113.42h5.51V5.16Zm6.48,44.63,4.37-1.25V64.88L21.49,63.3V49.79Z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.ROOM_POST' | translate }}\r\n          </a>\r\n        </li>\r\n        <li (click)=\"onBackClick()\">\r\n          <a href=\"javascript:void(0)\" class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\"\r\n              y=\"0px\" viewBox=\"0 0 122.88 98.86\" style=\"enable-background:new 0 0 122.88 98.86\" xml:space=\"preserve\">\r\n              <style type=\"text/css\">\r\n                .st0 {\r\n                  fill-rule: evenodd;\r\n                  clip-rule: evenodd;\r\n                }\r\n              </style>\r\n              <g>\r\n                <path class=\"st0\"\r\n                  d=\"M0,49.43l48.93,49.43V74.23c30.94-6.41,55.39,0.66,73.95,24.19c-3.22-48.4-36.29-71.76-73.95-73.31V0L0,49.43 L0,49.43L0,49.43z\" />\r\n              </g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.BACK' | translate }}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n\r\n    <!-- SOF Common keyboard html -->\r\n    <app-qwerty-keyboard></app-qwerty-keyboard>\r\n    <!-- EOF Common keyboard html -->\r\n  </main>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { User } from '../../models/user.model';\r\nimport { PointerService } from '../../services/pointer.service';\r\nimport { ShiftService } from '../../services/shift.service';\r\nimport { SaleService } from '../../services/sale.service';\r\nimport { AlertService } from '../../services/alert.service';\r\n\r\n@Component({\r\n  selector: 'app-sale',\r\n  templateUrl: './sale.component.html'\r\n})\r\nexport class SaleComponent implements OnInit {\r\n  outletId: string = \"\";\r\n  checkSummary: any[] = [];\r\n  paymentSummary: any[] = [];\r\n  tipsSummary: any[] = [];\r\n  businessDate: string;\r\n  headerLabel: string = \"\";\r\n  decimalPlace: number = this.pointerService.getDecimalPlaceValue();\r\n\r\n  totalCheckCount: number = 0;\r\n  totalCheckRevenue: number = 0;\r\n  totalPaymentCount: number = 0;\r\n  totalPaymentRevenue: number = 0;\r\n  totalTipCount: number = 0;\r\n  totalTipRevenue: number = 0;\r\n\r\n  constructor(private saleService: SaleService,\r\n    private shiftService: ShiftService,\r\n    private activateRoute: ActivatedRoute,\r\n    private alertService: AlertService,\r\n    private pointerService: PointerService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.businessDate = PointerService.getISOBusinessDate();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.outletId = this.activateRoute.snapshot.params['outlet_id'];\r\n    const loadedUser: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n    if (!loadedUser) {\r\n      return;\r\n    }\r\n\r\n    let shiftNo = this.shiftService.getUserShiftNo(this.outletId, loadedUser.id);\r\n    this.saleService.getSaleBy(this.outletId, loadedUser, this.businessDate, shiftNo)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          if (data && data.length > 0) {\r\n            this.checkSummary = data.filter(x => x.group_sr_no == 1);\r\n            this.paymentSummary = data.filter(x => x.group_sr_no == 2);\r\n            this.tipsSummary = data.filter(x => x.group_sr_no == 3);\r\n\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n\r\n    this.headerLabel = \"Daily sales | \" + this.businessDate + \" | Shift #\" + shiftNo;\r\n  }\r\n}\r\n","<div class=\"modal-header\">\r\n  <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ 'SALE.REPORT_DETAILS' | translate }}</h5>\r\n  <!-- <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button> -->\r\n</div>\r\n<div class=\"modal-body\">\r\n  <div class=\"report_detls_blk\">\r\n    <table>\r\n      <tr>\r\n        <th>{{ 'SALE.BILL_TYPE' | translate }}</th>\r\n        <th class=\"right_algn\">{{ 'SALE.TOTAL_BILLS' | translate }}</th>\r\n        <th class=\"right_algn\">{{ 'SALE.TOTAL_REVENUE' | translate }}</th>\r\n      </tr>\r\n      <tr *ngFor=\"let sale of checkSummary\">\r\n        <td>{{ sale.check_lbl }}</td>\r\n        <td class=\"right_algn\">{{ sale.check_count }}</td>\r\n        <td class=\"right_algn\">{{ sale.revenue| number: '1.' + decimalPlace + '-' + decimalPlace }}</td>\r\n      </tr>\r\n      <!-- <tr>\r\n        <td>Grand total</td>\r\n        <td class=\"right_algn\">{{ totalCheckCount }}</td>\r\n        <td class=\"right_algn\">{{ totalCheckRevenue }}</td>\r\n        \r\n      </tr> -->\r\n    </table>\r\n    <table>\r\n      <tr>\r\n        <th>{{ 'SALE.PAYMENT_TYPE' | translate }}</th>\r\n        <th class=\"right_algn\">{{ 'SALE.TOTAL_BILLS' | translate }}</th>\r\n        <th class=\"right_algn\">{{ 'SALE.TOTAL_REVENUE' | translate }}</th>\r\n      </tr>\r\n      <tr *ngFor=\"let sale of paymentSummary\">\r\n        <td>{{ sale.check_lbl }}</td>\r\n        <td class=\"right_algn\">{{ sale.check_count }}</td>\r\n        <td class=\"right_algn\">{{ sale.revenue| number: '1.' + decimalPlace + '-' + decimalPlace }}</td>\r\n      </tr>\r\n      <!-- <tr>\r\n        <td>Grand Total</td>\r\n        <td class=\"right_algn\">{{ i }}</td>\r\n        <td class=\"right_algn\"></td>\r\n      </tr> -->\r\n    </table>\r\n    <table>\r\n      <tr>\r\n        <th>{{ 'SALE.BILL_TYPE' | translate }}</th>\r\n        <th class=\"right_algn\">{{ 'SALE.TOTAL_BILLS' | translate }}</th>\r\n        <th class=\"right_algn\">{{ 'SALE.TOTAL_TIPS' | translate }}</th>\r\n      </tr>\r\n      <tr *ngFor=\"let sale of tipsSummary\">\r\n        <td>{{ sale.check_lbl }}</td>\r\n        <td class=\"right_algn\">{{ sale.check_count }}</td>\r\n        <td class=\"right_algn\">{{ sale.revenue| number: '1.' + decimalPlace + '-' + decimalPlace }}</td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n</div>\r\n<div class=\"modal-footer\">\r\n  <!-- <div class=\"button_blk\">\r\n    <button type=\"button\" class=\"btn gry_btn me-3\" data-bs-dismiss=\"modal\"><i\r\n        class=\"fas fa-check-circle\"></i>Ok</button>\r\n  </div> -->\r\n</div>","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { DxDataGridComponent } from 'devextreme-angular';\r\nimport { PosCheckSettlement } from '../../models/pos-check-settlement.model';\r\nimport { PosCheck } from '../../models/pos-check.model';\r\nimport { PosPaymentRestaurant } from '../../models/pos-payment-restaurant.model';\r\nimport { PosRestaurant } from '../../models/pos-restaurant.model';\r\nimport { CommonService } from '../../services/common.service';\r\nimport { OutletService } from '../../services/outlet.service';\r\nimport { PointerService } from '../../services/pointer.service';\r\nimport { PosCheckService } from '../../services/pos-check.service';\r\nimport { AlertService } from '../../services/alert.service';\r\nimport { environment } from 'projects/pos/src/environments/environment';\r\nimport { DebitCardsService } from '../../services/debit-cards.service';\r\nimport { MemberSearchService } from '../../services/member-search.service';\r\nimport { DateFormatterService } from '../../services/date-formatter.service';\r\nimport { EmailService } from '../../services/email.service';\r\nimport { first } from 'rxjs';\r\nimport { ConfigService } from '../../services/config.service';\r\nimport { FormControl } from '@angular/forms';\r\nimport { SystemSettingsService } from '../../services/system-settings.service';\r\nimport { TableLayoutService } from '../../services/table-layout.service';\r\nimport { OutletSetting } from '../../models/outlet-setting.model';\r\ndeclare function initializeKeyboard(event): any;\r\ndeclare var Stimulsoft: any;\r\n\r\n@Component({\r\n  selector: 'app-settlement',\r\n  templateUrl: './settlement.component.html'\r\n})\r\nexport class SettlementComponent implements OnInit {\r\n  outletId: string = \"\";\r\n  posCheck: PosCheck;\r\n  posCheckId: string;\r\n  paymentModeList: PosPaymentRestaurant[] = [];\r\n  showPaymentModes: boolean = true;\r\n  selectedPayment: PosPaymentRestaurant;\r\n  amount: number = 0;\r\n  documentNumber: string = \"\";\r\n  cashSettlementCode = environment.POINTER_CASH_SETTELEMENT.toLocaleLowerCase();\r\n  balance: number;\r\n  decimalPlace: number = this.pointerService.getDecimalPlaceValue();\r\n  checkBoxesMode: string;\r\n  debitCardPointer: any;\r\n  debitCardDetails: any = [];\r\n  inputControl = new FormControl('');\r\n  systemSettings: any = [];\r\n  debitCardNumber: any;\r\n  currencyData: any = JSON.parse(localStorage.getItem(\"currencyData\"));\r\n  outletSettings: any = JSON.parse(localStorage.getItem(\"outletSetting\"));\r\n  currentShift: number;\r\n\r\n\r\n  @ViewChild(DxDataGridComponent, { static: false }) grid: DxDataGridComponent;\r\n  selectedRowIndex = -1;\r\n  constructor(private outletService: OutletService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private posCheckService: PosCheckService,\r\n    private pointerService: PointerService,\r\n    private commonService: CommonService,\r\n    private alertService: AlertService,\r\n    private memberSearchService: MemberSearchService,\r\n    private debitCardService: DebitCardsService,\r\n    private dateFormatterService: DateFormatterService,\r\n    private emailService: EmailService, private configService: ConfigService, private systemSettingsService: SystemSettingsService, private tableLayoutService: TableLayoutService) { }\r\n\r\n  onEnterKey() {\r\n    const value = this.inputControl.value;\r\n    if (value?.trim()?.length > 5) {\r\n      this.debitCardNumber = value?.trim();\r\n      this.callDebitCardDetails(this.debitCardNumber);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.checkBoxesMode = 'always';\r\n    this.outletId = this.activatedRoute.snapshot.params[\"outlet_id\"];\r\n    this.posCheckId = this.activatedRoute.snapshot.params[\"check_id\"];\r\n    this.debitCardPointer = JSON.parse(localStorage.getItem(\"pointerData\"))?.filter(res => res.code == environment.POINTER_DEBIT_CARD_PAYMENT_MODE)[0]?.pointer_value;\r\n    this.getCheckDetails();\r\n    this.outletSettings = this.outletSettings.filter(res => res.pos_restaurant_id == this.outletId);\r\n    const outletData: PosRestaurant[] = JSON.parse(localStorage.getItem(\"posRestaurant\"));\r\n\r\n    if (!outletData) {\r\n      this.outletService.getOutletDetailsBy(this.outletId, PointerService.getISOBusinessDate())\r\n        .subscribe({\r\n          next: (responseData: any) => {\r\n            const currentOutletData = responseData.filter(a => a.id == +this.outletId);\r\n\r\n            if (currentOutletData.length > 0) {\r\n              //this.paymentModeList = currentOutletData[0].pos_payment_restaurants.filter(b => b.active_ind);\r\n              this.paymentModeList = currentOutletData[0].pos_payment_restaurants;\r\n            }\r\n          },\r\n          error: (error: any) => {\r\n            if (error.errors && error.errors.length > 0) {\r\n              this.alertService.error(error.errors[0]);\r\n            } else {\r\n              this.alertService.error(error);\r\n            }\r\n          }\r\n        });\r\n    } else {\r\n      const currentOutletData = outletData.filter(a => a.id == +this.outletId);\r\n\r\n      if (currentOutletData.length > 0) {\r\n        // this.paymentModeList = currentOutletData[0].pos_payment_restaurants.filter(b => b.active_ind);\r\n        this.paymentModeList = currentOutletData[0].pos_payment_restaurants;\r\n      }\r\n    }\r\n    this.fetchSystemSettings();\r\n  }\r\n\r\n  getCheckDetails(): void {\r\n    this.debitCardPointer = JSON.parse(localStorage.getItem(\"pointerData\"))?.filter(res => res.code == environment.POINTER_DEBIT_CARD_PAYMENT_MODE)[0]?.pointer_value;\r\n    this.posCheckService.findBy(this.posCheckId)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          if (data) {\r\n            this.posCheck = data;\r\n            this.callDebitCardDetails(this.posCheck?.debit_card_number);\r\n            this.balance = +((+this.posCheck.dr_total + +this.posCheck.tips) - (+this.posCheck.cr_total)).toFixed(this.decimalPlace);\r\n            this.amount = this.balance;\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n\r\n  callDebitCardDetails(cardNumber) {\r\n    let debitCardNumber = cardNumber;\r\n    if (debitCardNumber) {\r\n      this.debitCardDetails = {};\r\n      this.documentNumber = \"\";\r\n\r\n      this.selectedPayment = this.paymentModeList.filter(res => res.payment_id == this.debitCardPointer)[0];\r\n      this.showPaymentModes = false;\r\n      this.debitCardService?.fetchDebitCardData(debitCardNumber)\r\n        .subscribe({\r\n          next: (result: any) => {\r\n            this.debitCardDetails = result?.debit_cards[0];\r\n            this.documentNumber = this.debitCardDetails?.debit_card_number;\r\n            this.inputControl.setValue(this.debitCardDetails?.debit_card_number);\r\n            if (+this.posCheck?.dr_total > +result?.debit_cards[0]?.balance_amount) {\r\n              this.amount = +result?.debit_cards[0]?.balance_amount\r\n            }\r\n          },\r\n          error(err) {\r\n            this.alertService.error(err);\r\n          },\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n  fetchSystemSettings() {\r\n    this.systemSettingsService?.getDCSSettings()\r\n      .pipe(first())\r\n      .subscribe({\r\n        next: (result: any) => {\r\n          localStorage.setItem(\"systemSettings\", JSON.stringify(result?.dcs_settings));\r\n          result?.dcs_settings?.forEach(element => {\r\n            this.systemSettings.push(element);\r\n          });\r\n        },\r\n        error: error => {\r\n          this.alertService.error(error);\r\n        }\r\n      })\r\n  }\r\n\r\n  onSettlementSelection(settlement): void {\r\n\r\n    this.selectedPayment = settlement;\r\n    if (this.selectedPayment.payment_id == this.debitCardPointer) {\r\n      this.callDebitCardDetails(this.posCheck?.debit_card_number);\r\n    }\r\n    this.showPaymentModes = false;\r\n\r\n  }\r\n\r\n  onCreditClick(): void {\r\n    if (this.selectedPayment && this.amount > 0 && this.amount <= this.balance) {\r\n      this.addPaymentToCheck();\r\n    } else if (this.amount > this.balance) {\r\n      this.alertService.error(\"Payment ammount exceeds the allowed amount. Please enter a valid amount.\");\r\n    }\r\n  }\r\n\r\n  onNewClick(): void {\r\n    if (this.balance > 0) {\r\n      this.showPaymentModes = true;\r\n      this.amount = this.balance;\r\n      this.documentNumber = \"\";\r\n    }\r\n  }\r\n\r\n  onSettleClick(): void {\r\n    if (this.balance <= 0) {\r\n      let currentUserShift = this.commonService.getCurrentUserShiftNumber(this.outletId);\r\n      // this.posCheck.cr_total = this.posCheck.cr_total - Number(this.posCheck?.tips);\r\n      this.posCheck.close_shift = currentUserShift;\r\n      this.posCheckService.settleBill(this.posCheck)\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            console.log(data);\r\n            this.posCheck = data[\"pos_check\"];\r\n            //delay layout refresh - for table status change\r\n            let debitCardPayments = this.posCheck?.pos_check_settlements?.filter(res => res?.charge_id == this.debitCardPointer);\r\n            if (debitCardPayments?.length > 0) {\r\n              let cardNumber = this.posCheck?.debit_card_number ? this.posCheck?.debit_card_number : this.debitCardNumber;\r\n              let pointerData = JSON.parse(localStorage.getItem(\"pointerData\"));\r\n              this.memberSearchService.fetchMemberDetailsByDebitCard(cardNumber)\r\n                .subscribe({\r\n                  next: (result: any) => {\r\n                    result = result?.accounts[0];\r\n                    let emailId = result?.account_contact_numbers?.filter(res => res.contact_number_type_id == pointerData?.filter(res1 => res1.code == environment?.CONTACT_NUMBER_VALUE2)[0]?.pointer_value)[0]?.contact_number_value;\r\n                    let membershipNumber = result?.account_affiliations[0]?.membership_number;\r\n\r\n                    this.debitCardService?.fetchDebitCardData(cardNumber)\r\n                      .subscribe({\r\n                        next: (results: any) => {\r\n                          let debitCard = results?.debit_cards[0];\r\n                          debitCardPayments.forEach(res => {\r\n                            if (this.systemSettings?.filter(res => res.code == environment.EMAIL_SETTING_CODE)[0]?.dcs_setting_value == \"1\") {\r\n                              this.sendEmail(debitCard, membershipNumber, emailId, res.amount, data?.pos_check?.close_time);\r\n                            }\r\n                          })\r\n                        },\r\n                        error(err) {\r\n                          this.alertService.error(err);\r\n                        },\r\n                      })\r\n                  },\r\n                  error: (err: any) => {\r\n                    this.alertService.error(\"err\", err);\r\n                  }\r\n                })\r\n            }\r\n\r\n            setTimeout(() => {\r\n              if (this.outletSettings.length > 0) {\r\n                let isQsrOutlet = this.outletSettings[0].qsr_in_use_ind;\r\n\r\n                //Get any Free table from layout\r\n                this.tableLayoutService.getTableLayoutBy(this.outletId).subscribe((layoutData) => {\r\n                  if (isQsrOutlet) {\r\n                    this.printCheck();\r\n                    let selectedTable = layoutData.filter(t => {\r\n                      return t.pos_restaurant_id == +this.outletId && t.table_status.toUpperCase() === environment.POS_TABLE_STATUS_AVAILABLE.toUpperCase()\r\n                    });\r\n\r\n                    if (selectedTable && selectedTable.length > 0) {\r\n                      this.router.navigate(['/billing/' + this.outletId + '/qsr/' + selectedTable[0].table_code]);\r\n                    } else {\r\n                      this.router.navigate(['/billing/' + this.outletId + '/qsr/' + selectedTable[0].table_code]);\r\n                    }\r\n                  } else {\r\n                    this.router.navigate(['/table-layout/' + this.outletId]);\r\n                  }\r\n                })\r\n              } else {\r\n                this.router.navigate(['/table-layout/' + this.outletId]);\r\n              }\r\n            }, 500);\r\n          },\r\n          error: (error: any) => {\r\n            if (error.errors && error.errors.length > 0) {\r\n              this.alertService.error(error.errors[0]);\r\n            } else {\r\n              this.alertService.error(error);\r\n            }\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  onBackClick(): void {\r\n    this.router.navigate(['/billing/' + this.outletId + '/view-bill/' + this.posCheckId]);\r\n  }\r\n\r\n  selectedChanged(e): void {\r\n    this.selectedRowIndex = e.component.getRowIndexByKey(e.selectedRowKeys[0]);\r\n  }\r\n\r\n\r\n  deleteRow(data: any): void {\r\n    if (data?.row?.data?.allowance_ind == false || data?.row?.data?.is_true == true) {\r\n      this.grid.instance.deleteRow(data?.rowIndex);\r\n      this.amount = this.amount + data?.row?.data?.amount;\r\n      this.balance = this.balance + data?.row?.data?.amount;\r\n      console.log(this.amount, this.balance);\r\n    } else {\r\n      this.alertService.error(\"This record can't be deleted!\")\r\n    }\r\n  }\r\n\r\n  printCheck() {\r\n    const outletSettingData: OutletSetting[] = JSON.parse(localStorage.getItem(\"outletSetting\"));\r\n    let currentOutletSetting = outletSettingData.filter(a => a.pos_restaurant_id === +this.outletId);\r\n    let defaultPrintCount = currentOutletSetting[0].print_check_default_count;\r\n    let duplicatePrintCount = 0;\r\n    this.posCheckService.printBill(this.posCheck, this.currentShift)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          let posCheckData = data?.pos_check;\r\n          this.posCheck.print_cashier_name = data.pos_check.print_cashier ? data.pos_check.print_cashier.full_name : \"\";\r\n          this.posCheck.print_time = data.pos_check.print_time ? data.pos_check.print_time : \"\";\r\n          this.posCheck.print_count = data.pos_check.print_count;\r\n          let report = Stimulsoft.Report.StiReport.createNewReport();\r\n          let report1 = Stimulsoft.Report.StiReport.createNewReport();\r\n\r\n          if (defaultPrintCount > 0) {\r\n            if (this.posCheck.print_count <= 1) {\r\n              //First copy - original check - first time will be called\r\n              report = this.commonService.printBill(posCheckData);\r\n              report.render();\r\n              report.print(false);\r\n\r\n              defaultPrintCount--;\r\n            } else {\r\n              // for duplicate copy print\r\n              report = this.commonService.printBill(posCheckData, true);\r\n              report.render();\r\n              report.print(false);\r\n\r\n              defaultPrintCount--;\r\n            }\r\n            report1 = this.commonService.printBill(posCheckData, true);\r\n          }\r\n\r\n          if (defaultPrintCount > 0) {\r\n            // for duplicate copy print\r\n            for (let i = 0; i < defaultPrintCount; i++) {\r\n              setTimeout(function () {\r\n                report1.render();\r\n                report1.print(false);\r\n              }, 2000 + i * 2000)\r\n            }\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  addPaymentToCheck() {\r\n    if (this.selectedPayment?.payment_id == this.debitCardPointer && this.amount > this.debitCardDetails?.balance_amount) {\r\n      this.alertService.error(\"Insufficient balance. Please recharge the card! \");\r\n      return;\r\n    }\r\n    let settlement = new PosCheckSettlement();\r\n    settlement.is_new = true;\r\n    settlement.id = this.posCheck.pos_check_settlements.length + 1;\r\n    settlement.allowance_ind = false;\r\n    settlement.amount = this.amount;\r\n    settlement.card_no = this.debitCardNumber ? this.debitCardNumber : this.documentNumber;\r\n    settlement.charge_id = this.selectedPayment.payment_id;\r\n    settlement.currency_id = PointerService.getLocalCurrencyId();\r\n    settlement.description = this.selectedPayment.payment.description;\r\n    settlement.dr_cr = this.selectedPayment.payment.dr_cr;\r\n    settlement.settlement_type = this.selectedPayment.payment.settlement_process_code;\r\n    if (this.posCheck?.debit_card_number && this.selectedPayment.payment_id == this.debitCardPointer) {\r\n      settlement.card_no = this.posCheck?.debit_card_number;\r\n    }\r\n    this.posCheck.pos_check_settlements.push(settlement);\r\n\r\n    this.balance = +((+this.posCheck.dr_total + +this.posCheck.tips) - (+this.posCheck.cr_total)).toFixed(this.decimalPlace);\r\n    //reset values\r\n    this.amount = this.balance;\r\n    this.documentNumber = \"\";\r\n    this.selectedPayment = null;\r\n    this.inputControl.setValue(\"\");\r\n  }\r\n\r\n  openKeyboard(event): void {\r\n    initializeKeyboard(event.target);\r\n  }\r\n\r\n\r\n\r\n  sendEmail(data: any, membership_number, emailId, redeemAmount, closeTime) {\r\n    let receipent = emailId;\r\n    if (receipent) {\r\n      let subject = \"MCA debit card used at POS!\";\r\n      let membershipNumber = membership_number;\r\n      let date = this.dateFormatterService.formatDate(closeTime);\r\n      let newDate = new Date(closeTime);\r\n      let time = this.dateFormatterService.formatTimeTo24h(newDate); // '\r\n      let redeemAmt = (+redeemAmount).toFixed(2);\r\n      let balAmt = (+data?.balance_amount).toFixed(2);\r\n      let currencyCode = this.currencyData?.filter(res => res.id == data?.currency_id)[0]?.code;\r\n      let text = `<!DOCTYPE html>\r\n  <html lang=\"en\">\r\n  <head>\r\n      <meta charset=\"UTF-8\">\r\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n      <title>Payment success</title>\r\n      <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n      <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\r\n      <link href=\"https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap\" rel=\"stylesheet\">\r\n  \r\n      <style>\r\n          @media screen and (max-width: 750px){\r\n              .main-content{\r\n                  width: 100%;\r\n              }\r\n          }\r\n      </style>\r\n  </head>\r\n  <body style=\"font-family: 'Open Sans', sans-serif;margin: 0; background-color: #effdf4;\">\r\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" bgcolor=\"#effdf4\">\r\n          <tbody>\r\n              <tr>\r\n                  <td bgcolor=\"#effdf4\" height=\"50\"></td>\r\n              </tr> \r\n              \r\n              <tr>\r\n                  <td width=\"50\"></td>\r\n                  <td align=\"center\">\r\n                      <table class=\"main-content\" width=\"500\" cellpadding=\"0\" cellspacing=\"0\" bgcolor=\"#FFFFFF\" style=\"padding: 50px 0; border: 1px solid #efefef;\">\r\n                       <tr>\r\n                              <td align=\"center\" style=\"padding: 0 50px 5px; font-weight: bold; font-size: 24px; letter-spacing: 0.5px;\">${this.configService.getConfig('companyName')}</td>\r\n                          </tr>\r\n                          <tr>\r\n                              <td align=\"center\" style=\"padding: 0 50px 25px;\">\r\n                                  <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\r\n                                      <tr>\r\n                                          <td style=\"font-size: 14px; text-align: center; margin-bottom: 3px;\">${this.configService.getConfig('companyAddressLine1')}</td>\r\n                                      </tr>\r\n                                      <tr>\r\n                                          <td style=\"font-size: 14px; text-align: center; margin-bottom: 3px;\">${this.configService.getConfig('companyAddressLine2')}</td>\r\n                                      </tr>\r\n                                      <tr>\r\n                                          <td style=\"font-size: 14px; text-align: center; margin-bottom: 3px;\" > ${this.configService.getConfig('companyAddressLine3')}</td>\r\n                                      </tr>\r\n                                      <tr>\r\n                                          <td style=\"font-size: 14px; text-align: center; margin-bottom: 3px;\" > ${this.configService.getConfig('companyAddressLine4')}</td>\r\n                                      </tr>\r\n                                  </table>\r\n                              </td>\r\n                          </tr>\r\n                          <tr>\r\n                              <td style=\"padding: 0px 50px 10px; font-family: 'Open Sans', sans-serif;font-weight:600; font-size: 18px; text-align: center; color: #017F31;\">Your transaction is successful.</td>\r\n                          </tr>\r\n                          <tr>\r\n                              <td style=\"padding: 0px 50px 30px; font-family: 'Open Sans', sans-serif; font-size: 16px; text-align: center;\">Your membership card ${membershipNumber} is redeemed with <b>${currencyCode} ${redeemAmt}</b></td>\r\n                          </tr>\r\n                          <tr>\r\n                              <td style=\"padding: 0 50px;\">\r\n                                  <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n                                      <tbody>\r\n                                          <tr>\r\n                                              <td bgcolor=\"#efefef\" style=\"border-radius: 20px 20px 0 0;font-family: 'Open Sans', sans-serif;font-size: 16px; text-align: center; padding: 15px 0;\">Transaction details</td>\r\n                                          </tr>\r\n                                          <tr>\r\n                                              <td style=\"border-bottom: 1px solid #efefef\">\r\n                                                  <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n                                                      <tr>\r\n                                                          <td style=\"font-family: 'Open Sans', sans-serif;font-size: 16px; text-align: left; padding:15px;width: 50%;\">Date\r\n                                                          </td>\r\n                                                          <td style=\"font-family: 'Open Sans', sans-serif;font-size: 16px; text-align: left; padding:15px;\">${date}\r\n                                                          </td>\r\n                                                      </tr>\r\n                                                  </table>\r\n                                              </td>\r\n                                          </tr>\r\n                                          <tr>\r\n                                            <td style=\"border-bottom: 1px solid #efefef\">\r\n                                                <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n                                                    <tr>\r\n                                                        <td style=\"font-family: 'Open Sans', sans-serif;font-size: 16px; text-align: left; padding:15px;width: 50%;\">Time\r\n                                                        </td>\r\n                                                        <td style=\"font-family: 'Open Sans', sans-serif;font-size: 16px; text-align: left; padding:15px;\">${time}\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                </table>\r\n                                            </td>\r\n                                            \r\n                                        </tr>\r\n                                          <tr>\r\n                                              <td style=\"border-bottom: 1px solid #efefef\">\r\n                                                  <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n                                                      <tr>\r\n                                                          <td style=\"font-family: 'Open Sans', sans-serif;font-size: 16px; text-align: left; padding:15px;width: 50%;font-weight: bold; color: #017F31;\">Available balance\r\n                                                          </td>\r\n                                                          <td style=\"font-family: 'Open Sans', sans-serif;font-size: 16px; text-align: left; padding:15px;font-weight: bold;color: #017F31;\">${currencyCode} ${balAmt}\r\n                                                          </td>\r\n                                                      </tr>\r\n                                                  </table>\r\n                                              </td>\r\n                                              \r\n                                          </tr>\r\n                                      </tbody>\r\n                                  </table>\r\n                              </td>\r\n                          </tr>\r\n                      </table>\r\n                  </td>\r\n                  <td width=\"50\"></td>\r\n              </tr>\r\n  \r\n              <tr>\r\n                  <td bgcolor=\"#effdf4\" height=\"50\"></td>\r\n              </tr> \r\n          </tbody>\r\n      </table>\r\n  </body>\r\n  </html>`;\r\n      // let text = `<div style=\"font-family: Arial, sans-serif; color: #333;\">\r\n      //     <p>${message}</p>\r\n      //     <hr />\r\n      //     <p style=\"font-size: 12px; color: #777;\">\r\n      //       This is an automated message. Please do not reply directly to this email.\r\n      //     </p>\r\n      //   </div>\r\n      // `;\r\n      this.emailService.sendEmail(receipent, subject, text)\r\n        .pipe(first())\r\n        .subscribe({\r\n          next: (data: any) => {\r\n          },\r\n          error: error => {\r\n            if (error.status == 0) {\r\n              this.alertService.error(\"No response from email service!\");\r\n            } else {\r\n              this.alertService.error(error.message);\r\n\r\n            }\r\n          }\r\n        });\r\n    }\r\n    else {\r\n      this.alertService.error(\"Missing email address. Unable to send transactional email.\");\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"wrapg_blk\">\r\n  <app-header></app-header>\r\n\r\n  <!-- SOF Sub-header HTML -->\r\n  <div class=\"sub_header_parnt menu_sub_hdr\">\r\n    <div class=\"sub_btn_grp\">\r\n      <!-- <h2 class=\"page_name\">{{ 'SETTLEMENT.MODE_OF_PAYMENT' | translate }}</h2> -->\r\n      <button class=\"btn info_btn\"><i class=\"bi bi-info-lg\"></i></button>\r\n      <button class=\"btn swipe_card_respnsv_btn\" title=\"Swipe your card here\" data-bs-toggle=\"modal\"\r\n        data-bs-target=\"#card_swipe_modl\" *ngIf=\"!(posCheck?.debit_card_number?.length>0)&&!showPaymentModes\"><i\r\n          class=\"fa fa-credit-card-alt\" aria-hidden=\"true\"></i></button>\r\n    </div>\r\n    <div class=\"sub_header_inr\">\r\n      <!-- <h2 class=\"page_name\">{{ 'SETTLEMENT.MODE_OF_PAYMENT' | translate }}</h2> -->\r\n      <div class=\"table_drpdwn\">\r\n        <select>\r\n          <option *ngIf=\"posCheck\">{{ posCheck.table_code }}</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"cover_num_blk\">\r\n        <p>\r\n          <label>{{ 'COMMON_LABEL.COVERS' | translate }}:</label>\r\n          <input *ngIf=\"posCheck\" type=\"number\" [placeholder]=\"posCheck.covers ? posCheck.covers : ''\" readonly />\r\n        </p>\r\n      </div>\r\n      <div class=\"gust_info_blk\">\r\n        <div class=\"guest_name_parnt\">\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>{{ 'COMMON_LABEL.NAME' | translate }}:</label>\r\n              <input *ngIf=\"posCheck\" type=\"text\" readonly\r\n                [placeholder]=\"posCheck.guest_name ? posCheck.guest_name : ''\" />\r\n            </p>\r\n          </div>\r\n          <div class=\"guest_name_blk\">\r\n            <p>\r\n              <label>{{ 'COMMON_LABEL.GST' | translate }}:</label>\r\n              <input *ngIf=\"posCheck\" type=\"text\"\r\n                [placeholder]=\"posCheck.guest_gst_number ? posCheck.guest_gst_number : ''\" readonly />\r\n            </p>\r\n          </div>\r\n          <div class=\"guest_name_blk\" *ngIf=\"!(posCheck?.debit_card_number?.length>0)&&!showPaymentModes\">\r\n            <p>\r\n              <label>{{ 'COMMON_LABEL.SWIPE_CARD' | translate }}:</label>\r\n              <input type=\"text\" placeholder=\"Type here....\" [formControl]=\"inputControl\" autocomplete=\"off\"\r\n                (keydown.enter)=\"onEnterKey()\" />\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <app-business-date></app-business-date>\r\n  </div>\r\n  <!-- EOF Sub-header HTML -->\r\n\r\n  <main class=\"main_cnt_blk action_btn_hght\">\r\n    <section class=\"table_tab_parnt\" [style.display]=\"!showPaymentModes ? 'block': 'none'\">\r\n      <div class=\"disnt_parnt_blk\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-12\">\r\n            <div class=\"disnt_parnt_inr\">\r\n              <div class=\"blue_main_parnt\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-6 col-sm-4 col-md-3 col-xl-2 mb-15\" *ngIf=\"posCheck\">\r\n                    <label>{{ 'COMMON_LABEL.DEBIT_TOTAL' | translate }}</label>\r\n                    {{ posCheck.dr_total| number: '1.' + decimalPlace + '-' +\r\n                    decimalPlace }}\r\n                  </div>\r\n                  <div class=\"col-6 col-sm-4 col-md-3 col-xl-2 mb-15\" *ngIf=\"posCheck\">\r\n                    <label>{{ 'COMMON_LABEL.CREDIT_TOTAL' | translate }}</label>\r\n                    {{ posCheck.cr_total| number: '1.' + decimalPlace + '-' +\r\n                    decimalPlace }}\r\n                  </div>\r\n                  <div class=\"col-6 col-sm-4 col-md-3 col-xl-2 mb-15\" *ngIf=\"posCheck\">\r\n                    <label>{{ 'COMMON_LABEL.BALANCE' | translate }}</label>\r\n                    {{ balance| number: '1.' + decimalPlace + '-' +\r\n                    decimalPlace }}\r\n                  </div>\r\n                  <div class=\"col-6 col-sm-4 col-md-3 col-xl-2 mb-15\" *ngIf=\"posCheck\">\r\n                    <label>{{ 'COMMON_LABEL.OPENED_ON' | translate }}</label>\r\n                    {{ posCheck.open_time | date: 'dd MMM yyyy hh:mm' }}\r\n                  </div>\r\n                  <div class=\"col-6 col-sm-4 col-md-3 col-xl-2 mb-15\" *ngIf=\"posCheck\">\r\n                    <label>{{ 'COMMON_LABEL.BILL_NUMBER' | translate }}</label>\r\n                    {{ posCheck.check_no }}\r\n                  </div>\r\n                  <div class=\"col-6 col-sm-4 col-md-3 col-xl-2 mb-15\"\r\n                    *ngIf=\"posCheck && (selectedPayment?.payment_id==debitCardPointer)\">\r\n                    <label>{{ 'PLACE_ORDER.DEBIT_CARD_VALUE' | translate }}</label>\r\n                    {{ debitCardDetails?.balance_amount}}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"disnt_inr_blk\">\r\n                <h2 class=\"title_cls\"\r\n                  [style.display]=\"posCheck && posCheck.pos_check_settlements && posCheck.pos_check_settlements.length > 0 ? 'block': 'none'\">\r\n                  {{ 'SETTLEMENT.SETTLEMENT_INFO' | translate }}</h2>\r\n                <div class=\"grd_parnt_blk\">\r\n                  <div class=\"demo-container dev_grd_blk mb-15\">\r\n                    <div id=\"grid\"\r\n                      [style.display]=\"posCheck && posCheck.pos_check_settlements && posCheck.pos_check_settlements.length > 0 ? 'block': 'none'\">\r\n                      <dx-data-grid id=\"gridSettlement\" keyExpr=\"id\"\r\n                        [dataSource]=\"posCheck && posCheck.pos_check_settlements\" [showBorders]=\"false\"\r\n                        [showColumnHeaders]=\"true\" [showRowLines]=\"true\" [showColumnLines]=\"true\"\r\n                        (onSelectionChanged)=\"selectedChanged($event)\">\r\n                        <dxo-selection mode=\"multiple\"></dxo-selection>\r\n                        <dxo-paging [enabled]=\"true\" [pageSize]=\"10\"></dxo-paging>\r\n                        <dxo-pager [showNavigationButtons]=\"true\" [showPageSizeSelector]=\"false\"\r\n                          [visible]=\"true\"></dxo-pager>\r\n\r\n                        <dxo-scrolling mode=\"standard\"></dxo-scrolling>\r\n                        <dxo-editing mode=\"cell\" [allowUpdating]=\"false\">\r\n                        </dxo-editing>\r\n                        <dxi-column dataField=\"description\" caption=\"Mode of payment\" width=\"25%\"></dxi-column>\r\n                        <dxi-column dataField=\"dr_cr\" caption=\"Debit/Credit\" width=\"10%\"></dxi-column>\r\n                        <dxi-column dataField=\"card_no\" caption=\"Document number\" width=\"20%\"></dxi-column>\r\n                        <dxi-column dataField=\"amount\" caption=\"Amount\" width=\"20%\"></dxi-column>\r\n                        <dxi-column caption=\"Action\" cssClass=\"padg_00\" cellTemplate=\"cellTemplate\"></dxi-column>\r\n                        <div *dxTemplate=\"let data of 'cellTemplate'\">\r\n                          <a class=\"deleteIcon\" style=\"cursor: pointer;\" (click)=\"deleteRow(data)\"><i\r\n                              class=\"delete_grd_icn\"></i></a>\r\n                        </div>\r\n                      </dx-data-grid>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <h2 class=\"title_cls\" *ngIf=\"selectedPayment\">{{ 'SETTLEMENT.PAYMENT_DETAILS' | translate }}: {{\r\n                  selectedPayment ?\r\n                  selectedPayment.payment.description : \"\" }}</h2>\r\n                <div class=\"row\" *ngIf=\"selectedPayment\">\r\n                  <div class=\"col-sm-6 col-md-4\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-6\">\r\n                        <div class=\"generic_inpt\">\r\n                          <label>{{ 'COMMON_LABEL.AMOUNT' | translate }}</label>\r\n                          <input type=\"number\" class=\"width95\" [(ngModel)]=\"amount\" (click)=\"openKeyboard($event)\" />\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-6\" *ngIf=\"selectedPayment?.payment?.code.toLowerCase()!=cashSettlementCode\">\r\n                        <div class=\"generic_inpt\">\r\n                          <label>{{ 'COMMON_LABEL.DOCUMENT_NUMBER' | translate }}</label>\r\n                          <input type=\"text\" [(ngModel)]=\"documentNumber\" (click)=\"openKeyboard($event)\" />\r\n                          <span class=\"cvv_info\">Last 4 digits of the card</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"table_tab_parnt\" [style.display]=\"showPaymentModes ? 'block': 'none'\">\r\n      <div class=\"select_out_parnt\">\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-4 col-md-3 col-xl-2 mb-15\"\r\n            *ngFor=\"let pos_payment of paymentModeList; odd as isOdd; even as isEven;\">\r\n            <div class=\"paymt_blk\" [ngClass]=\"{ 'blue_main_parnt': isEven, 'purple_main_parnt': isOdd }\">\r\n              <a class=\"form-control\" [ngClass]=\"{ 'wallet_icn': isEven, 'cash_icn': isOdd }\" href=\"javascript:void(0)\"\r\n                tabindex=\"0\" (click)=\"onSettlementSelection(pos_payment)\">\r\n                {{ pos_payment.payment.description }}\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"action_btn_parnt\">\r\n      <ul>\r\n        <li [class.unavlbl_btn]=\"amount <= 0&&amount>=balance\" (click)=\"onCreditClick()\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 120.56 122.88\">\r\n              <defs>\r\n                <style>\r\n                  .cls-1 {\r\n                    fill-rule: evenodd;\r\n                  }\r\n                </style>\r\n              </defs>\r\n              <title>Credit</title>\r\n              <path class=\"cls-1\"\r\n                d=\"M55.75,47.8,53.19,36.07C61.64,37.65,74,51.24,81.85,62c-5.59,3.55-9,8.66-9,14.72a15.46,15.46,0,0,0,.21,2.57A36,36,0,0,0,61,77.26,34,34,0,0,0,45.46,80.8c-6.12,3.21-9.92,8.33-9.92,14.57a14.46,14.46,0,0,0,.87,5c-.11.32-.22.65-.31,1h0v0a14.12,14.12,0,0,0-.56,3.85,14.4,14.4,0,0,0,.83,4.85l-.22.68a14.31,14.31,0,0,0-.61,4A14.51,14.51,0,0,0,38,122.88l-.75,0c-11.88-.61-30.25-.59-35-12.78C-5.54,90.38,8.65,66.94,21.59,52.59a70.92,70.92,0,0,1,5.28-5.27c4.71-4.14,9.79-9,15.84-11.1l-5.85,10.9,8.5-11.27h4.48L55.75,47.8Zm19.84,64.56a4.65,4.65,0,0,1,.7,2.41c0,4.44-6.87,8-15.34,8s-15.35-3.6-15.35-8a4.7,4.7,0,0,1,.7-2.41c2,3.27,7.78,5.64,14.65,5.64s12.7-2.37,14.64-5.64Zm44.11-2.86a5.71,5.71,0,0,1,.86,3c0,5.44-8.43,9.86-18.81,9.86S83,117.89,83,112.45a5.67,5.67,0,0,1,.86-3c2.39,4,9.52,6.91,17.94,6.91s15.56-2.91,18-6.91Zm0-11.92a5.76,5.76,0,0,1,.86,3c0,5.44-8.43,9.86-18.81,9.86S83,106,83,100.53a5.72,5.72,0,0,1,.86-3c2.39,4,9.52,6.91,17.94,6.91s15.56-2.91,18-6.91ZM108.54,72.74l-.22,2.45-9.22-.8a8.45,8.45,0,0,1,1.58,3.32l-2.22-.2a7.55,7.55,0,0,0-1-2.18,4.54,4.54,0,0,0-1.91-1.72l.17-2,12.83,1.11Zm-6.79-3.83c8.53,0,15.45,2.72,15.45,6.06S110.28,81,101.75,81,86.3,78.31,86.3,75s6.92-6.06,15.45-6.06Zm0-2c10.38,0,18.81,4.42,18.81,9.86s-8.43,9.86-18.81,9.86S83,82.2,83,76.76s8.42-9.86,18.8-9.86Zm18,19.11a5.69,5.69,0,0,1,.8,2.83c0,5.44-8.43,9.86-18.81,9.86S83,94.28,83,88.84A5.55,5.55,0,0,1,83.74,86c2.32,4.06,9.5,7,18,7s15.69-3,18-7ZM66.49,92.09l-.18,2-7.53-.66a6.94,6.94,0,0,1,1.29,2.71L58.26,96a6,6,0,0,0-.82-1.78,3.78,3.78,0,0,0-1.56-1.4L56,91.18l10.47.91ZM61,89c7,0,12.61,2.22,12.61,5s-5.65,5-12.61,5-12.61-2.22-12.61-5S54,89,61,89Zm0-1.64c8.47,0,15.34,3.61,15.34,8.05s-6.87,8-15.34,8-15.35-3.6-15.35-8S52.48,87.32,61,87.32Zm14.69,15.6a4.59,4.59,0,0,1,.65,2.31c0,4.43-6.87,8-15.34,8s-15.35-3.61-15.35-8a4.56,4.56,0,0,1,.65-2.31c1.89,3.31,7.75,5.73,14.7,5.73s12.8-2.42,14.69-5.73ZM42.34,20.3C40.52,14.93,38.88,9.5,37.5,4c5.16-5.66,25.1-4.91,30.83-.09L63,16.52c2.86-3.76,3.82-5.3,5.52-7.39a17.17,17.17,0,0,1,2,1.57c1.51,1.37,2.86,2.88,3.13,5a5.16,5.16,0,0,1-1.43,4.17L60.09,34.05a26.61,26.61,0,0,1-4.59-1.16c.69-1.63,1.53-3.42,2.22-5l-4.44,4.79a16.54,16.54,0,0,0-11.8,1.44L29.13,19.25a4.1,4.1,0,0,1-1.07-2.66c0-3.58,5.35-6.67,8.15-7.84L42.34,20.3Z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.CREDIT' | translate }}\r\n          </a>\r\n        </li>\r\n        <li (click)=\"onNewClick()\" [class.unavlbl_btn]=\"balance <= 0\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\"\r\n              y=\"0px\" viewBox=\"0 0 107.07 122.88\" style=\"enable-background:new 0 0 107.07 122.88\" xml:space=\"preserve\">\r\n              <g>\r\n                <path\r\n                  d=\"M31.54,86.95c-1.74,0-3.16-1.43-3.16-3.19c0-1.76,1.41-3.19,3.16-3.19h20.5c1.74,0,3.16,1.43,3.16,3.19 c0,1.76-1.41,3.19-3.16,3.19H31.54L31.54,86.95z M31.54,42.27c-1.74,0-3.15-1.41-3.15-3.15c0-1.74,1.41-3.15,3.15-3.15h41.61 c1.74,0,3.15,1.41,3.15,3.15c0,1.74-1.41,3.15-3.15,3.15H31.54L31.54,42.27z M56.85,116.58c1.74,0,3.15,1.41,3.15,3.15 c0,1.74-1.41,3.15-3.15,3.15H7.33c-2.02,0-3.85-0.82-5.18-2.15C0.82,119.4,0,117.57,0,115.55V7.33c0-2.02,0.82-3.85,2.15-5.18 C3.48,0.82,5.31,0,7.33,0h90.02c2.02,0,3.85,0.82,5.18,2.15c1.33,1.33,2.15,3.16,2.15,5.18V72.6c0,1.74-1.41,3.15-3.15,3.15 s-3.15-1.41-3.15-3.15V7.33c0-0.28-0.12-0.54-0.3-0.73c-0.19-0.19-0.45-0.3-0.73-0.3H7.33c-0.28,0-0.54,0.12-0.73,0.3 C6.42,6.8,6.3,7.05,6.3,7.33v108.21c0,0.28,0.12,0.54,0.3,0.73c0.19,0.19,0.45,0.3,0.73,0.3H56.85L56.85,116.58z M83.35,83.7 c0-1.73,1.41-3.14,3.14-3.14c1.73,0,3.14,1.41,3.14,3.14l-0.04,14.36l14.34,0.04c1.73,0,3.14,1.41,3.14,3.14s-1.41,3.14-3.14,3.14 l-14.35-0.04l-0.04,14.34c0,1.73-1.41,3.14-3.14,3.14c-1.73,0-3.14-1.41-3.14-3.14l0.04-14.35l-14.34-0.04 c-1.73,0-3.14-1.41-3.14-3.14c0-1.73,1.41-3.14,3.14-3.14l14.36,0.04L83.35,83.7L83.35,83.7z M31.54,64.59 c-1.74,0-3.15-1.41-3.15-3.15c0-1.74,1.41-3.15,3.15-3.15h41.61c1.74,0,3.15,1.41,3.15,3.15c0,1.74-1.41,3.15-3.15,3.15H31.54 L31.54,64.59z\" />\r\n              </g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.NEW' | translate }}\r\n          </a>\r\n        </li>\r\n        <li [class.unavlbl_btn]=\"balance > 0\" (click)=\"onSettleClick()\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 122.88 102.72\"\r\n              style=\"enable-background:new 0 0 122.88 102.72\" xml:space=\"preserve\">\r\n              <g>\r\n                <path\r\n                  d=\"M65.61,20.91v72.74h35.63c0.38,0,0.68,0.31,0.68,0.69v7.7c0,0.38-0.31,0.69-0.68,0.69H22.84 c-0.38,0-0.69-0.31-0.69-0.69v-7.7c0-0.38,0.31-0.69,0.69-0.69h35.63l0-72.71c-3.1-1.08-5.56-3.53-6.64-6.63H29.3v3.43 c0,0.38-0.31,0.68-0.68,0.68h-5.78c-0.38,0-0.69-0.31-0.69-0.68v-3.43h-5.73c-0.44,0-0.8-0.31-0.8-0.68V7.84 c0-0.38,0.36-0.69,0.8-0.69h35.43C53.33,2.99,57.31,0,61.99,0c4.68,0,8.66,2.99,10.14,7.16h35.53c0.44,0,0.8,0.31,0.8,0.69v5.78 c0,0.38-0.36,0.68-0.8,0.68h-6.46v3.43c0,0.38-0.31,0.68-0.68,0.68h-5.78c-0.38,0-0.69-0.31-0.69-0.68v-3.43H72.16 C71.09,17.38,68.67,19.81,65.61,20.91L65.61,20.91z M99.66,22.3l22.91,40.48c0.2,0.35,0.29,0.73,0.28,1.1h0.02c0,0.05,0,0.1,0,0.15 c0,9.64-11.35,17.46-25.35,17.46c-13.85,0-25.1-7.65-25.34-17.15c-0.04-0.16-0.06-0.34-0.06-0.51c0-0.44,0.14-0.86,0.37-1.2 l23.43-40.43c0.59-1.02,1.89-1.37,2.91-0.78C99.2,21.65,99.48,21.95,99.66,22.3L99.66,22.3z M99.75,31.11v30.6h17.32L99.75,31.11 L99.75,31.11z M95.67,61.7V31.16L77.96,61.7H95.67L95.67,61.7z M27.54,22.3l22.91,40.48c0.2,0.35,0.29,0.73,0.28,1.1h0.02 c0,0.05,0,0.1,0,0.15c0,9.64-11.35,17.46-25.35,17.46c-13.85,0-25.1-7.65-25.34-17.15C0.02,64.19,0,64.02,0,63.84 c0-0.44,0.14-0.86,0.37-1.2L23.8,22.21c0.59-1.02,1.89-1.37,2.91-0.78C27.08,21.65,27.36,21.95,27.54,22.3L27.54,22.3z M27.63,31.11v30.6h17.32L27.63,31.11L27.63,31.11z M23.54,61.7V31.16L5.84,61.7H23.54L23.54,61.7z M61.99,6.07 c2.59,0,4.69,2.1,4.69,4.69c0,2.59-2.1,4.69-4.69,4.69c-2.59,0-4.69-2.1-4.69-4.69C57.3,8.17,59.4,6.07,61.99,6.07L61.99,6.07z\" />\r\n              </g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.SETTLE' | translate }}</a>\r\n        </li>\r\n        <li (click)=\"onBackClick()\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\"\r\n              y=\"0px\" viewBox=\"0 0 122.88 98.86\" style=\"enable-background:new 0 0 122.88 98.86\" xml:space=\"preserve\">\r\n              <style type=\"text/css\">\r\n                .st0 {\r\n                  fill-rule: evenodd;\r\n                  clip-rule: evenodd;\r\n                }\r\n              </style>\r\n              <g>\r\n                <path class=\"st0\"\r\n                  d=\"M0,49.43l48.93,49.43V74.23c30.94-6.41,55.39,0.66,73.95,24.19c-3.22-48.4-36.29-71.76-73.95-73.31V0L0,49.43 L0,49.43L0,49.43z\" />\r\n              </g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.BACK' | translate }}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n\r\n    <!-- SOF Common keyboard html -->\r\n    <app-qwerty-keyboard></app-qwerty-keyboard>\r\n    <!-- EOF Common keyboard html -->\r\n  </main>\r\n</div>\r\n\r\n<!-- SOF Card Swipe modal html -->\r\n<div class=\"modal fade card_swipe_modl_parnt\" id=\"card_swipe_modl\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\"\r\n  aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-lg modal-dialog-centered\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Card Swipe</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body membr_cntn_modl\">\r\n        <form>\r\n          <div class=\"membr_parnt_cntn_blk flex-column flex-lg-row\">\r\n            <div class=\"membr_cntn_inr\">\r\n              <input type=\"text\" class=\"form-control\" placeholder=\"Swipe card here...\" [formControl]=\"inputControl\"\r\n                autocomplete=\"off\" (keydown.enter)=\"onEnterKey()\" />\r\n              <!-- <button class=\"btn scrh_btn_main\">Ok</button> -->\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- EOF Card Swipe modal html -->","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { KotService } from '../../services/kot.service';\r\nimport { AlertService } from '../../services/alert.service';\r\nimport { PosCheck } from '../../models/pos-check.model';\r\nimport { environment } from 'projects/pos/src/environments/environment';\r\n//import { ActionCableService, Channel } from 'angular2-actioncable';\r\n//import * as ActionCable from 'actioncable';\r\nimport { Subscription } from 'rxjs';\r\nimport { PosOrderStatus } from '../../models/pos-order-status.model';\r\nimport { ActionCableService } from '../../services/action-cable.service';\r\nimport { PosCheckDetail } from '../../models/pos-check-detail.model';\r\nimport { User } from '../../models/user.model';\r\nimport { PosCheckService } from '../../services/pos-check.service';\r\n\r\n@Component({\r\n  selector: 'app-table-kot',\r\n  templateUrl: './table-kot.component.html',\r\n  styles: [`\r\n    .kot_menu_detls .kot_item_detls ul {\r\n      width: 100% !important;\r\n    }\r\n\r\n    .dx-template-wrapper {\r\n      margin-top: -10px !important;\r\n    }\r\n  `]\r\n})\r\nexport class TableKotComponent implements OnInit {\r\n  outletId: string = \"\";\r\n  businessDate: Date;\r\n  subscription: Subscription;\r\n  checkList: PosCheck[] = [];\r\n  allKotList: any[] = [];\r\n  posCheckId: any = \"\";\r\n  tableNo: any;\r\n  pendingKotList: any[] = [];\r\n  orderStatusList: PosOrderStatus[] = [];\r\n  POS_ORDER_STATUS_NEW: string = environment.POS_ORDER_STATUS_NEW.toUpperCase();\r\n  POS_ORDER_STATUS_ACKNOWLEDGE: string = environment.POS_ORDER_STATUS_ACKNOWLEDGE.toUpperCase();\r\n  POS_ORDER_STATUS_CANCEL: string = environment.POS_ORDER_STATUS_CANCEL.toUpperCase();\r\n  POS_ORDER_STATUS_IN_PROGRESS: string = environment.POS_ORDER_STATUS_IN_PROGRESS.toUpperCase();\r\n  POS_ORDER_STATUS_FOOD_COMPLETED: string = environment.POS_ORDER_STATUS_FOOD_COMPLETED.toUpperCase();\r\n  POS_ORDER_STATUS_FOOD_READY: string = environment.POS_ORDER_STATUS_FOOD_READY.toUpperCase();\r\n\r\n  private consumer: any;\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private kotService: KotService,\r\n    private alertService: AlertService,\r\n    private cableService: ActionCableService,\r\n    private posCheckService: PosCheckService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.outletId = this.activatedRoute.snapshot.params['outlet_id'];\r\n    this.posCheckId = this.activatedRoute.snapshot.params[\"check_id\"];\r\n    // this.getKotScreenChecks();\r\n    //this.subscribeKotChannel(this.outletId);\r\n\r\n    this.cableService.subscribeKotChannel(this.outletId);\r\n\r\n    const orderStatusData: PosOrderStatus[] = JSON.parse(localStorage.getItem(\"orderStatusData\"));\r\n    if (!orderStatusData) {\r\n      this.kotService.getOrderStatuses()\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            this.orderStatusList = data;\r\n            this.getKotScreenCheck();\r\n          },\r\n          error: (error: any) => {\r\n            if (error.errors && error.errors.length > 0) {\r\n              this.alertService.error(error.errors[0]);\r\n            } else {\r\n              this.alertService.error(error);\r\n            }\r\n          }\r\n        });\r\n    } else {\r\n      this.orderStatusList = orderStatusData;\r\n      this.getKotScreenCheck();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  getKotScreenCheck() {\r\n    this.kotService.findBy(this.posCheckId)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          this.checkList = data;\r\n          this.mapKOTData();\r\n          this.tableNo = data[0]?.table_code;\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  onBackClick(): void {\r\n    this.router.navigate(['/table-layout/' + this.outletId]);\r\n  }\r\n\r\n  setClasses(statusCode: string): string {\r\n    let className: string = \"\";\r\n\r\n    switch (statusCode.toUpperCase()) {\r\n      case environment.POS_ORDER_STATUS_NEW.toUpperCase():\r\n        className = \"\";\r\n        break;\r\n      case environment.POS_ORDER_STATUS_ACKNOWLEDGE.toUpperCase():\r\n        className = \"\";\r\n        break;\r\n      case environment.POS_ORDER_STATUS_CANCEL.toUpperCase():\r\n        className = \"kot_cncld\";\r\n        break;\r\n      case environment.POS_ORDER_STATUS_FOOD_COMPLETED.toUpperCase():\r\n        className = \"food_cmplte\";\r\n        break;\r\n      case environment.POS_ORDER_STATUS_FOOD_READY.toUpperCase():\r\n        className = \"ready_cls\";\r\n        break;\r\n      case environment.POS_ORDER_STATUS_IN_PROGRESS.toUpperCase():\r\n        className = \"in_prg_cls quadrat\";\r\n        break;\r\n    }\r\n    return className;\r\n  }\r\n\r\n  mapKOTData() {\r\n    this.allKotList = [];\r\n    this.pendingKotList = [];\r\n\r\n    if (this.checkList && this.checkList.length > 0) {\r\n      this.checkList.forEach(check => {\r\n        check.pos_check_details.forEach(details => {\r\n          let objKot = {};\r\n          objKot[\"check_no\"] = check.check_no;\r\n          objKot[\"kot_number\"] = details.kot_no;\r\n          objKot[\"id\"] = details.id;\r\n          objKot[\"pos_check_id\"] = details.pos_check_id;\r\n          objKot[\"pos_item_id\"] = details.pos_item_id;\r\n          objKot[\"kot_time\"] = details.system_time;\r\n          objKot[\"item_name\"] = details.item_description;\r\n          objKot[\"quantity\"] = details.quantity;\r\n          objKot[\"status_code\"] = details.order_status_code ? details.order_status_code : environment.POS_ORDER_STATUS_NEW.toUpperCase();\r\n          objKot[\"status\"] = details.order_status ? details.order_status : environment.POS_ORDER_STATUS_NEW.toUpperCase();\r\n\r\n          this.allKotList.push(objKot);\r\n\r\n          if (objKot[\"status_code\"].toUpperCase() != environment.POS_ORDER_STATUS_CANCEL.toUpperCase() || objKot[\"status_code\"].toUpperCase() != environment.POS_ORDER_STATUS_FOOD_COMPLETED.toUpperCase()) {\r\n            this.pendingKotList.push(objKot);\r\n          } else {\r\n            // do not add to pending list\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  rowStyling(e: any) {\r\n    console.log(e);\r\n    if (e.rowType === \"data\") { // Ensures it only applies to data rows, not headers\r\n      if (e.data?.status_code?.toUpperCase() === this.POS_ORDER_STATUS_NEW) {\r\n        e.rowElement.classList.add('kot_new_active');\r\n      } else if (e.data?.status_code?.toUpperCase() === this.POS_ORDER_STATUS_ACKNOWLEDGE) {\r\n        e.rowElement.classList.add('acknwldge_active');\r\n      } else if (e.data?.status_code?.toUpperCase() === this.POS_ORDER_STATUS_IN_PROGRESS) {\r\n        e.rowElement.classList.add('in_prg_active');\r\n      } else if (e.data?.status_code?.toUpperCase() === this.POS_ORDER_STATUS_FOOD_READY) {\r\n        e.rowElement.classList.add('ready_ord_active');\r\n      } else if (e.data?.status_code?.toUpperCase() === this.POS_ORDER_STATUS_FOOD_COMPLETED) {\r\n        e.rowElement.classList.add('food_ready_active');\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  updateItemOrderStatus(data, nextStatus) {\r\n    //console.log(data);\r\n    let newStatus = this.orderStatusList.filter(x => x.code.toUpperCase() == nextStatus.toUpperCase())[0];\r\n    //console.log(newStatus.id)\r\n\r\n    let posCheck = {\r\n      id: data.pos_check_id,\r\n      pos_check_details_attributes: [{\r\n        id: data.id,\r\n        pos_check_id: data.pos_check_id,\r\n        pos_item_id: data.pos_item_id,\r\n        pos_order_status_id: newStatus.id\r\n      }]\r\n    }\r\n\r\n    this.kotService.updateOrderStatus(posCheck).subscribe({\r\n      next: (data: PosCheck) => {\r\n        const index = this.checkList.findIndex(object => {\r\n          return object.id === data[\"pos_check\"].id;\r\n        });\r\n        //remove first\r\n        this.checkList.splice(index, 1);\r\n\r\n        //Add updated check to same array\r\n        let updatedCheck = this.kotService.mapPosCheck(data[\"pos_check\"]);\r\n        this.checkList.push(updatedCheck);\r\n\r\n        this.mapKOTData();\r\n      },\r\n      error: (error: any) => {\r\n        if (error.errors && error.errors.length > 0) {\r\n          this.alertService.error(error.errors[0]);\r\n        } else {\r\n          this.alertService.error(error);\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"wrapg_blk\">\r\n    <app-header></app-header>\r\n\r\n    <!-- SOF Sub-header HTML -->\r\n    <div class=\"sub_header_parnt menu_sub_hdr\">\r\n        <div class=\"sub_header_inr only_page_name\">\r\n            <h2 class=\"page_name\">Table {{ tableNo }} KOT details</h2>\r\n        </div>\r\n        <app-business-date></app-business-date>\r\n    </div>\r\n    <!-- EOF Sub-header HTML -->\r\n\r\n    <main class=\"main_cnt_blk\">\r\n        <section class=\"table_tab_parnt\">\r\n            <div class=\"kot_details_blk\">\r\n                <div class=\"kot_details_inr\">\r\n                    <ul class=\"nav nav-tabs list_grd_tab\" id=\"viewTab\" role=\"tablist\">\r\n                        <label>Select view type</label>\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <button class=\"btn nav-link active\" id=\"list-tab\" data-bs-toggle=\"tab\"\r\n                                data-bs-target=\"#list-tab-pane\" type=\"button\" role=\"tab\" aria-controls=\"list-tab-pane\"\r\n                                aria-selected=\"true\"><i class=\"bi bi-list\"></i></button>\r\n                        </li>\r\n                        <li class=\"nav-item\" role=\"presentation\">\r\n                            <button class=\"btn nav-link\" id=\"grid-tab\" data-bs-toggle=\"tab\"\r\n                                data-bs-target=\"#grid-tab-pane\" type=\"button\" role=\"tab\" aria-controls=\"grid-tab-pane\"\r\n                                aria-selected=\"false\"><i class=\"bi bi-grid-3x3-gap-fill\"></i></button>\r\n                        </li>\r\n                    </ul>\r\n                    <div class=\"tab-content\" id=\"viewTabContent\">\r\n                        <div class=\"tab-pane fade show active\" id=\"list-tab-pane\" role=\"tabpanel\"\r\n                            aria-labelledby=\"list-tab\" tabindex=\"0\">\r\n                            <ul class=\"nav nav-tabs kot_tabs\" id=\"myTab\" role=\"tablist\">\r\n                                <li class=\"nav-item\" role=\"presentation\">\r\n                                    <button class=\"nav-link \" id=\"all-kot-tab\" data-bs-toggle=\"tab\"\r\n                                        data-bs-target=\"#all-kot-tab-pane\" type=\"button\" role=\"tab\"\r\n                                        aria-controls=\"all-kot-tab-pane\" aria-selected=\"false\"><i\r\n                                            class=\"bi bi-list-ul\"></i>All KOT</button>\r\n                                </li>\r\n                                <!-- <li class=\"nav-item\" role=\"presentation\">\r\n                                    <button class=\"nav-link active\" id=\"pending-kot-tab\" data-bs-toggle=\"tab\"\r\n                                        data-bs-target=\"#pending-kot-tab-pane\" type=\"button\" role=\"tab\"\r\n                                        aria-controls=\"pending-kot-tab-pane\" aria-selected=\"true\"><i\r\n                                            class=\"bi bi-hourglass-split\"></i>Pending KOT</button>\r\n                                </li> -->\r\n                            </ul>\r\n                            <div class=\"tab-content\" id=\"myTabContent\">\r\n                                <div class=\"tab-pane fade active show\" id=\"all-kot-tab-pane\" role=\"tabpanel\"\r\n                                    aria-labelledby=\"all-kot-tab\" tabindex=\"0\">\r\n                                    <div class=\"grd_parnt_blk\">\r\n                                        <div class=\"dev_grd_blk demo-container \">\r\n                                            <div id=\"grid\">\r\n                                                <dx-data-grid id=\"gridAllKot\" [dataSource]=\"allKotList\" keyExpr=\"id\"\r\n                                                    [showBorders]=\"false\" [showColumnHeaders]=\"true\"\r\n                                                    [showRowLines]=\"true\" [showColumnLines]=\"true\"\r\n                                                    (onRowPrepared)=\"rowStyling($event)\">\r\n                                                    <!-- <dxo-paging [enabled]=\"true\" [pageSize]=\"10\"></dxo-paging> -->\r\n                                                    <dxo-pager [showNavigationButtons]=\"true\"\r\n                                                        [showPageSizeSelector]=\"false\" [visible]=\"true\"></dxo-pager>\r\n                                                    <dxo-selection mode=\"single\"></dxo-selection>\r\n                                                    <dxo-filter-row [visible]=\"true\"></dxo-filter-row>\r\n                                                    <dxo-scrolling mode=\"standard\"></dxo-scrolling>\r\n                                                    <dxo-editing mode=\"cell\" [allowUpdating]=\"false\">\r\n                                                    </dxo-editing>\r\n                                                    <dxi-column dataField=\"id\" [visible]=\"false\"></dxi-column>\r\n                                                    <dxi-column dataField=\"pos_check_id\" [visible]=\"false\"></dxi-column>\r\n                                                    <dxi-column dataField=\"pos_item_id\" [visible]=\"false\"></dxi-column>\r\n\r\n                                                    <dxi-column dataField=\"kot_number\"\r\n                                                        caption=\"{{ 'COMMON_LABEL.KOT_NUMBER' | translate }}\">\r\n                                                    </dxi-column>\r\n                                                    <dxi-column dataField=\"kot_time\"\r\n                                                        caption=\"{{ 'COMMON_LABEL.KOT_TIME' | translate }}\"\r\n                                                        dataType=\"date\" format=\"dd/MM/yyyy hh:mm\">\r\n                                                    </dxi-column>\r\n                                                    <dxi-column dataField=\"check_no\"\r\n                                                        caption=\"{{ 'COMMON_LABEL.BILL_NUMBER' | translate }}\">\r\n                                                    </dxi-column>\r\n                                                    <dxi-column dataField=\"item_name\"\r\n                                                        caption=\"{{ 'COMMON_LABEL.ITEM_NAME' | translate }}\">\r\n                                                    </dxi-column>\r\n                                                    <dxi-column dataField=\"quantity\"\r\n                                                        caption=\"{{ 'COMMON_LABEL.QUANTITY' | translate }}\" width=\"10%\"\r\n                                                        alignment=\"right\">\r\n                                                    </dxi-column>\r\n                                                    <dxi-column dataField=\"status\"\r\n                                                        caption=\"{{ 'COMMON_LABEL.CURRENT_STATUS' | translate }}\"\r\n                                                        alignment=\"left\">\r\n                                                    </dxi-column>\r\n                                                    <dxi-column dataField=\"status_code\" [visible]=\"false\">\r\n                                                    </dxi-column>\r\n                                                    <dxi-column cellTemplate=\"cellTemplate\" [allowFiltering]=\"false\"\r\n                                                        caption=\"Action\" alignment=\"left\" cssClass=\"padg_less\">\r\n                                                    </dxi-column>\r\n                                                    <div *dxTemplate=\"let data of 'cellTemplate'\">\r\n                                                        <a href=\"javascript:void(0)\" class=\"acknwdgeIcon\"\r\n                                                            title=\"{{ 'COMMON_LABEL.ACKNOWLEDGE' | translate }}\"\r\n                                                            *ngIf=\"data.data.status_code == POS_ORDER_STATUS_NEW\"\r\n                                                            (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_ACKNOWLEDGE)\">\r\n                                                            <i class=\"acknwdge_grd_icn\"></i>\r\n                                                        </a>\r\n                                                        <a href=\"javascript:void(0)\" class=\"cancelIcon\"\r\n                                                            title=\"{{ 'COMMON_LABEL.CANCEL' | translate }}\"\r\n                                                            *ngIf=\"data.data.status_code == POS_ORDER_STATUS_NEW\"\r\n                                                            (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_CANCEL)\">\r\n                                                            <i class=\"cancl_grd_icn\"></i>\r\n                                                        </a>\r\n                                                        <a href=\"javascript:void(0)\" class=\"inProgressIcon\"\r\n                                                            title=\"{{ 'COMMON_LABEL.IN_PROGRESS' | translate }}\"\r\n                                                            *ngIf=\"data.data.status_code == POS_ORDER_STATUS_ACKNOWLEDGE\"\r\n                                                            (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_IN_PROGRESS)\">\r\n                                                            <i class=\"in_prg_grd_icn\"></i>\r\n                                                        </a>\r\n                                                        <a href=\"javascript:void(0)\" class=\"foodReadyIcon\"\r\n                                                            title=\"{{ 'COMMON_LABEL.FOOD_READY' | translate }}\"\r\n                                                            *ngIf=\"data.data.status_code == POS_ORDER_STATUS_IN_PROGRESS\"\r\n                                                            (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_FOOD_READY)\">\r\n                                                            <i class=\"food_redy_grd_icn\"></i>\r\n                                                        </a>\r\n                                                        <a href=\"javascript:void(0)\" class=\"foodCompleteIcon\"\r\n                                                            title=\"{{ 'COMMON_LABEL.FOOD_COMPLETE' | translate }}\"\r\n                                                            *ngIf=\"data.data.status_code == POS_ORDER_STATUS_FOOD_READY\"\r\n                                                            (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_FOOD_COMPLETED)\">\r\n                                                            <i class=\"food_complt_grd_icn\"></i>\r\n                                                        </a>\r\n                                                    </div>\r\n                                                </dx-data-grid>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <!-- <div class=\"tab-pane fade show active\" id=\"pending-kot-tab-pane\" role=\"tabpanel\"\r\n                                    aria-labelledby=\"pending-kot-tab\" tabindex=\"0\">\r\n                                    <div class=\"grd_parnt_blk\">\r\n                                        <div class=\"dx-viewport demo-container\">\r\n                                            <div id=\"grid1\">\r\n                                                <dx-data-grid id=\"gridPendingKot\" [dataSource]=\"pendingKotList\"\r\n                                                    keyExpr=\"id\" [showBorders]=\"false\" [showColumnHeaders]=\"true\"\r\n                                                    [showRowLines]=\"true\" [showColumnLines]=\"true\">\r\n                                                    <dxo-paging [enabled]=\"true\" [pageSize]=\"10\"></dxo-paging>\r\n                                                    <dxo-pager [showNavigationButtons]=\"true\"\r\n                                                        [showPageSizeSelector]=\"false\" [visible]=\"true\"></dxo-pager>\r\n                                                    <dxo-selection mode=\"single\"></dxo-selection>\r\n                                                    <dxo-scrolling mode=\"standard\"></dxo-scrolling>\r\n                                                    <dxo-filter-row [visible]=\"true\"></dxo-filter-row>\r\n                                                    <dxo-editing mode=\"cell\" [allowUpdating]=\"false\">\r\n                                                    </dxo-editing>\r\n                                                    <dxi-column dataField=\"id\" [visible]=\"false\"></dxi-column>\r\n                                                    <dxi-column dataField=\"pos_check_id\" [visible]=\"false\"></dxi-column>\r\n                                                    <dxi-column dataField=\"pos_item_id\" [visible]=\"false\"></dxi-column>\r\n                                                    <dxi-column dataField=\"kot_number\"\r\n                                                        caption=\"{{ 'COMMON_LABEL.KOT_NUMBER' | translate }}\">\r\n                                                    </dxi-column>\r\n                                                    <dxi-column dataField=\"kot_time\"\r\n                                                        caption=\"{{ 'COMMON_LABEL.KOT_TIME' | translate }}\"\r\n                                                        dataType=\"date\" format=\"dd/MM/yyyy hh:mm\">\r\n                                                    </dxi-column>\r\n                                                    <dxi-column dataField=\"check_no\"\r\n                                                        caption=\"{{ 'COMMON_LABEL.BILL_NUMBER' | translate }}\">\r\n                                                    </dxi-column>\r\n                                                    <dxi-column dataField=\"item_name\"\r\n                                                        caption=\"{{ 'COMMON_LABEL.ITEM_NAME' | translate }}\">\r\n                                                    </dxi-column>\r\n                                                    <dxi-column dataField=\"quantity\"\r\n                                                        caption=\"{{ 'COMMON_LABEL.QUANTITY' | translate }}\" width=\"10%\"\r\n                                                        alignment=\"right\">\r\n                                                    </dxi-column>\r\n                                                    <dxi-column dataField=\"status\"\r\n                                                        caption=\"{{ 'COMMON_LABEL.CURRENT_STATUS' | translate }}\"\r\n                                                        alignment=\"left\">\r\n                                                    </dxi-column>\r\n                                                    <dxi-column dataField=\"status_code\" [visible]=\"false\">\r\n                                                    </dxi-column>\r\n                                                    <dxi-column cellTemplate=\"cellTemplate\" [allowFiltering]=\"false\"\r\n                                                        caption=\"Action\" alignment=\"left\" cssClass=\"padg_less\">\r\n                                                    </dxi-column>\r\n                                                    <div *dxTemplate=\"let data of 'cellTemplate'\">\r\n                                                        <a href=\"javascript:void(0)\" class=\"acknwdgeIcon\"\r\n                                                            title=\"{{ 'COMMON_LABEL.ACKNOWLEDGE' | translate }}\"\r\n                                                            *ngIf=\"data.data.status_code == POS_ORDER_STATUS_NEW\"\r\n                                                            (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_ACKNOWLEDGE)\">\r\n                                                            <i class=\"acknwdge_grd_icn\"></i>\r\n                                                        </a>\r\n                                                        <a href=\"javascript:void(0)\" class=\"cancelIcon\"\r\n                                                            title=\"{{ 'COMMON_LABEL.CANCEL' | translate }}\"\r\n                                                            *ngIf=\"data.data.status_code == POS_ORDER_STATUS_NEW\"\r\n                                                            (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_CANCEL)\">\r\n                                                            <i class=\"cancl_grd_icn\"></i>\r\n                                                        </a>\r\n                                                        <a href=\"javascript:void(0)\" class=\"inProgressIcon\"\r\n                                                            title=\"{{ 'COMMON_LABEL.IN_PROGRESS' | translate }}\"\r\n                                                            *ngIf=\"data.data.status_code == POS_ORDER_STATUS_ACKNOWLEDGE\"\r\n                                                            (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_IN_PROGRESS)\">\r\n                                                            <i class=\"in_prg_grd_icn\"></i>\r\n                                                        </a>\r\n                                                        <a href=\"javascript:void(0)\" class=\"foodReadyIcon\"\r\n                                                            title=\"{{ 'COMMON_LABEL.FOOD_READY' | translate }}\"\r\n                                                            *ngIf=\"data.data.status_code == POS_ORDER_STATUS_IN_PROGRESS\"\r\n                                                            (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_FOOD_READY)\">\r\n                                                            <i class=\"food_redy_grd_icn\"></i>\r\n                                                        </a>\r\n                                                        <a href=\"javascript:void(0)\" class=\"foodCompleteIcon\"\r\n                                                            title=\"{{ 'COMMON_LABEL.FOOD_COMPLETE' | translate }}\"\r\n                                                            *ngIf=\"data.data.status_code == POS_ORDER_STATUS_FOOD_READY\"\r\n                                                            (click)=\"updateItemOrderStatus(data.data, POS_ORDER_STATUS_FOOD_COMPLETED)\">\r\n                                                            <i class=\"food_complt_grd_icn\"></i>\r\n                                                        </a>\r\n                                                    </div>\r\n                                                </dx-data-grid>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div> -->\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"tab-pane fade kot_grd_tab_ctnt\" id=\"grid-tab-pane\" role=\"tabpanel\"\r\n                            aria-labelledby=\"grid-tab\" tabindex=\"0\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6 col-lg-4 col-xxl-3\" *ngFor=\"let check of checkList\">\r\n                                    <div class=\"kot_menu_detls\">\r\n                                        <div class=\"kot_menu_head\">\r\n                                            <div class=\"kot_tbl_no\">\r\n                                                <label>Table: {{ check.table_code }}</label>\r\n                                                <label class=\"seprator\" *ngIf=\"check.covers\"></label>\r\n                                                <label *ngIf=\"check.covers\">C: {{ check.covers }}</label>\r\n                                            </div>\r\n                                            <div class=\"waiter_name\">Server: {{ check.server_name }}</div>\r\n                                        </div>\r\n                                        <div class=\"kot_qty_head\">\r\n                                            <ul>\r\n                                                <li>Qty</li>\r\n                                                <li>Item</li>\r\n                                                <li>Status</li>\r\n                                            </ul>\r\n                                        </div>\r\n                                        <div class=\"kot_item_detls\">\r\n                                            <ul *ngIf=\"check.pos_check_details && check.pos_check_details.length > 0\">\r\n                                                <ng-container *ngFor=\"let item of check.pos_check_details\">\r\n                                                    <li [ngClass]=\"setClasses(item.order_status_code)\">\r\n                                                        <span>{{ item.quantity }}</span>\r\n                                                        <span>{{ item.item_description }}\r\n                                                            <ng-container\r\n                                                                *ngIf=\"item.pos_check_detail_modifiers && item.pos_check_detail_modifiers.length > 0\">\r\n                                                                <label\r\n                                                                    *ngFor=\"let modifier of item.pos_check_detail_modifiers\">\r\n                                                                    <i class=\"fa fa-hand-o-right\"\r\n                                                                        aria-hidden=\"true\"></i>{{\r\n                                                                    modifier.modifier_name_on_check }}\r\n                                                                </label>\r\n                                                            </ng-container>\r\n                                                            <ng-container\r\n                                                                *ngIf=\"item.order_status_code.toUpperCase() === 'NEW' || item.order_status_code.toUpperCase() === ''\">\r\n                                                                <label><button class=\"btn kot_green_btn\"><i\r\n                                                                            class=\"bi bi-check2\"></i></button>\r\n                                                                    <button class=\"btn kot_red_btn\"><i\r\n                                                                            class=\"bi bi-x\"></i></button>\r\n                                                                </label>\r\n                                                            </ng-container>\r\n                                                        </span>\r\n                                                        <!-- <span>\r\n                              <button class=\"btn kot_status kot_cncld_icn\"></button>\r\n                            </span>\r\n                            <span><button class=\"btn kot_status kot_new_icn\"></button></span> -->\r\n                                                    </li>\r\n                                                </ng-container>\r\n                                            </ul>\r\n                                        </div>\r\n                                        <div class=\"kot_footr\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col\">KOT {{ check.pos_check_details.length }}</div>\r\n                                                <div class=\"col\">\r\n                                                    <span class=\"kot_crcl white_crcl\"></span>16\r\n                                                </div>\r\n                                                <div class=\"col\">\r\n                                                    <span class=\"kot_crcl yellw_crcl\"></span>1\r\n                                                </div>\r\n                                                <div class=\"col\">\r\n                                                    <span class=\"kot_crcl green_crcl\"></span>1\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        <section class=\"action_btn_parnt\">\r\n            <ul>\r\n                <li (click)=\"onBackClick()\">\r\n                    <a href=\"javascript:void(0)\" class=\"form-control\" tabindex=\"0\">\r\n                        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n                            x=\"0px\" y=\"0px\" viewBox=\"0 0 122.88 98.86\" style=\"enable-background:new 0 0 122.88 98.86\"\r\n                            xml:space=\"preserve\">\r\n                            <g>\r\n                                <path\r\n                                    d=\"M0,49.43l48.93,49.43V74.23c30.94-6.41,55.39,0.66,73.95,24.19c-3.22-48.4-36.29-71.76-73.95-73.31V0L0,49.43 L0,49.43L0,49.43z\" />\r\n                            </g>\r\n                        </svg>\r\n                        {{ 'ACTION_BUTTON.BACK' | translate }}\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </section>\r\n    </main>\r\n</div>","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PosCheckChargeDiscount } from '../../models/pos-check-charge-discount.model';\r\nimport { PosCheck } from '../../models/pos-check.model';\r\nimport { TableLayout } from '../../models/table-layout.model';\r\nimport { VoidReason } from '../../models/void-reason.model';\r\nimport { CommonService } from '../../services/common.service';\r\nimport { PointerService } from '../../services/pointer.service';\r\nimport { PosCheckService } from '../../services/pos-check.service';\r\nimport { TableLayoutService } from '../../services/table-layout.service';\r\nimport { VoidReasonService } from '../../services/void-reason.service';\r\nimport { environment } from '../../../environments/environment';\r\nimport { AlertService } from '../../services/alert.service';\r\nimport { OutletSetting } from '../../models/outlet-setting.model';\r\nimport { OutletBilling } from '../../models/outlet-billing.model';\r\ndeclare var Stimulsoft: any;\r\n\r\n@Component({\r\n  selector: 'app-view-bill',\r\n  templateUrl: './view-bill.component.html'\r\n})\r\nexport class ViewBillComponent implements OnInit {\r\n  options: any = new Stimulsoft.Viewer.StiViewerOptions();\r\n  viewer: any = new Stimulsoft.Viewer.StiViewer(this.options, 'StiViewer', false);\r\n  pointersData: any;\r\n  isRoomServiceOutlet: boolean = false;\r\n  outletId: string = \"\";\r\n  posCheck: PosCheck;\r\n  posCheckId: string;\r\n  chargeTotal: number = 0;\r\n  taxTotal: number = 0;\r\n  discountTotal: number = 0;\r\n  tipsAmount: number = 0;\r\n  layout: TableLayout;\r\n  discountList: PosCheckChargeDiscount[] = [];\r\n  lastActionPosted = environment.LAST_ACTION_POSTED;\r\n  lastActionSettled = environment.LAST_ACTION_SETTLE;\r\n  lastActionVoided = environment.LAST_ACTION_VOIDED;\r\n  voidReasonList: VoidReason[] = [];\r\n  maxChars: number = 200;\r\n  voidReasonNote: string = \"\";\r\n  selectedVoidReason: number = 0;\r\n  currencySymbol: string = \"\";\r\n  currentShift: number;\r\n  balanceAmount: number = 0;\r\n  drTotal: any = 0;\r\n  qrCodeUrl: string = \"\";\r\n  pendingTableCode: any = \"\";\r\n  decimalPlace: number = this.pointerService.getDecimalPlaceValue();\r\n  @ViewChild('closeVRModalBtn') closeBtn: ElementRef;\r\n  @ViewChild('closeTipsModalBtn') closeTips: ElementRef;\r\n\r\n  canVoidBill: boolean = false;\r\n  canGiveAllowance: boolean = false;\r\n  canGiveDiscount: boolean = false;\r\n  canReprintBill: boolean = false;\r\n  canPrintSettledBill: boolean = false;\r\n\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private posCheckService: PosCheckService,\r\n    private tableLayoutService: TableLayoutService,\r\n    private pointerService: PointerService,\r\n    private voidReasonService: VoidReasonService,\r\n    private commonService: CommonService,\r\n    private alertService: AlertService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.pointersData = JSON.parse(localStorage.getItem(\"pointerData\"));\r\n    this.pendingTableCode = this.pointersData.filter(res => res.code == \"PO_PNDTBCD\")[0]?.pointer_value;\r\n    let roomServiceOutletId = this.pointersData?.filter(res => res.code == environment.ROOM_SERVICE_POINTER)[0]?.pointer_value?.split(',');\r\n    this.outletId = this.activatedRoute.snapshot.params[\"outlet_id\"];\r\n    this.posCheckId = this.activatedRoute.snapshot.params[\"check_id\"];\r\n    this.getCheckDetails();\r\n    this.isRoomServiceOutlet = roomServiceOutletId?.includes(this.outletId);\r\n    const voidReasonData: VoidReason[] = JSON.parse(localStorage.getItem(\"voidReason\"));\r\n    if (!voidReasonData) {\r\n      this.voidReasonService.getAll()\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            this.voidReasonList = data;\r\n          },\r\n          error: (error: any) => {\r\n            if (error.errors && error.errors.length > 0) {\r\n              this.alertService.error(error.errors[0]);\r\n            } else {\r\n              this.alertService.error(error);\r\n            }\r\n          }\r\n        });\r\n    } else {\r\n      this.voidReasonList = voidReasonData;\r\n    }\r\n\r\n    this.currencySymbol = PointerService.getLocalCurrencySymbol();\r\n    this.currentShift = this.commonService.getCurrentUserShiftNumber(this.outletId);\r\n\r\n    this.canVoidBill = this.commonService.hasFunctionalRights(environment.RIGHT_CODE_POS_CAN_VOID_CHECK);\r\n    this.canGiveAllowance = this.commonService.hasFunctionalRights(environment.RIGHT_CODE_POS_CAN_GIVE_ALLOWANCE);\r\n    this.canGiveDiscount = this.commonService.hasFunctionalRights(environment.RIGHT_CODE_POS_CAN_GIVE_DISCOUNT);\r\n    this.canReprintBill = this.commonService.hasFunctionalRights(environment.RIGHT_CODE_POS_CAN_REPRINT_CHECK);\r\n    this.canPrintSettledBill = this.commonService.hasFunctionalRights(environment.RIGHT_CODE_POS_CAN_PRINT_SETTLED_CHECK);\r\n  }\r\n\r\n  getCheckDetails(): void {\r\n    this.posCheckService.findBy(this.posCheckId).subscribe(data => {\r\n      if (data) {\r\n        this.posCheck = data;\r\n        this.calculateChargeTotal();\r\n        this.balanceAmount = +((+this.posCheck.dr_total + +this.posCheck.tips) - (+this.posCheck.cr_total)).toFixed(this.decimalPlace);\r\n        this.layout = this.tableLayoutService.getTableDetails(this.outletId, this.posCheck.table_code);\r\n        this.drTotal = (+this.posCheck?.dr_total).toFixed(this.decimalPlace);\r\n        const billingHeaderData: OutletBilling[] = JSON.parse(localStorage.getItem(\"outletBillingHeader\"));\r\n        const outletBilling = billingHeaderData?.filter(a => a.pos_restaurant_id === +this.outletId);\r\n\r\n        if (outletBilling?.length > 0 && outletBilling[0]?.upi_url != \"\") {\r\n          this.qrCodeUrl = outletBilling[0].upi_url + \"&am=\" + this.posCheck.dr_total + \"&cu=INR&tn=\" + this.posCheck.check_no;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  calculateChargeTotal(): void {\r\n    if (this.posCheck.pos_check_charges) {\r\n      this.posCheck.pos_check_charges.forEach(charge => {\r\n        if (charge.dr_cr.toUpperCase() === environment.DR_IND) {\r\n          this.chargeTotal += +charge.amount;\r\n        } else {\r\n          this.chargeTotal -= +charge.amount;\r\n        }\r\n\r\n        if (charge.pos_check_charge_discounts) {\r\n          charge.pos_check_charge_discounts.forEach(discount => {\r\n            this.discountTotal += +discount.amount;\r\n            this.discountList.push(discount);\r\n          });\r\n        }\r\n\r\n        if (charge.pos_check_charge_taxes) {\r\n          charge.pos_check_charge_taxes.forEach(tax => {\r\n            this.taxTotal += +tax.amount;\r\n          });\r\n        }\r\n      });\r\n\r\n      this.chargeTotal = +this.chargeTotal.toFixed(this.decimalPlace);\r\n      this.taxTotal = +this.taxTotal.toFixed(this.decimalPlace);\r\n      this.discountTotal = +this.discountTotal.toFixed(this.decimalPlace);\r\n    }\r\n  }\r\n\r\n  onBackClick(): void {\r\n    this.router.navigate(['/table-layout/' + this.outletId]);\r\n  }\r\n\r\n  onANGClick(): void {\r\n    if (this.posCheck && this.posCheck.last_action == this.lastActionPosted) {\r\n      this.router.navigate(['/billing/' + this.outletId + '/ang/' + this.posCheckId]);\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  onLocalClick(): void {\r\n    if (this.posCheck && this.posCheck.last_action == this.lastActionPosted && this.posCheck.print_count > 0) {\r\n      this.router.navigate(['/billing/' + this.outletId + '/settlement/' + this.posCheckId]);\r\n    }\r\n  }\r\n\r\n  onDisountClick(): void {\r\n    if (this.canGiveDiscount) {\r\n      if (this.posCheck && this.posCheck.last_action == this.lastActionPosted && this.posCheck.print_count <= 0) {\r\n        this.router.navigate(['/billing/' + this.outletId + '/discount/' + this.posCheckId]);\r\n      } else {\r\n        this.alertService.error(environment.ERROR_DISCOUNT_RIGHT)\r\n      }\r\n    } else {\r\n      this.alertService.error(environment.ERROR_DISCOUNT_RIGHT);\r\n    }\r\n  }\r\n\r\n  onPrintClick(): void {\r\n    this.chargeTotal = 0;\r\n    this.taxTotal = 0;\r\n    this.discountTotal = 0;\r\n    this.tipsAmount = 0;\r\n    this.discountList = [];\r\n\r\n    this.posCheckService.findBy(this.posCheckId).subscribe(data => {\r\n      if (data) {\r\n        this.posCheck = data;\r\n        this.calculateChargeTotal();\r\n        this.balanceAmount = +((+this.posCheck.dr_total + +this.posCheck.tips) - (+this.posCheck.cr_total)).toFixed(this.decimalPlace);\r\n        this.layout = this.tableLayoutService.getTableDetails(this.outletId, this.posCheck.table_code);\r\n\r\n        if (this.posCheck) {\r\n          if (this.posCheck.last_action.toUpperCase() != environment.LAST_ACTION_VOIDED.toUpperCase()) {\r\n            if (this.posCheck.print_count > 0) {\r\n              if (this.posCheck.last_action.toUpperCase() == environment.LAST_ACTION_SETTLE.toUpperCase()) {\r\n                if (this.canPrintSettledBill) {\r\n                  this.printCheck();\r\n                } else {\r\n                  this.alertService.error(environment.DUPLICATE_SETTLE_PRINT_CHECK);\r\n                }\r\n              } else {\r\n                if (this.canReprintBill) {\r\n                  this.printCheck();\r\n                  if (this.posCheck.pos_ang_category_id) {\r\n                    this.router.navigate(['/table-layout/' + this.outletId]);\r\n                  }\r\n                } else {\r\n                  this.alertService.error(environment.DUPLICATE_PRINT_CHECK);\r\n                }\r\n              }\r\n            } else {\r\n              if (this.posCheck.round_off == null) {\r\n                let roundOffType = this.pointerService.filterValueByCode(environment.POINTER_POS_ROUND_OFF_TYPE);\r\n                let amount = 0, roundOffAmount = 0;\r\n\r\n                if (roundOffType != null) {\r\n                  if (roundOffType == environment.POS_ROUND_OFF_FLOOR_CODE) {\r\n                    amount = Math.floor(this.posCheck.dr_total);\r\n                    roundOffAmount = amount - this.posCheck.dr_total;\r\n                  }\r\n                  else if (roundOffType == environment.POS_ROUND_OFF_BASED_ON_POINT_FIVE_CODE) {\r\n                    amount = Math.round(this.posCheck.dr_total);\r\n                    roundOffAmount = amount - this.posCheck.dr_total;\r\n                  }\r\n                  else if (roundOffType == environment.POS_ROUND_OFF_CEILING_CODE) {\r\n                    amount = Math.ceil(this.posCheck.dr_total);\r\n                    roundOffAmount = amount - this.posCheck.dr_total;\r\n                  }\r\n                  else {\r\n                    amount = Math.round(this.posCheck.dr_total);\r\n                    roundOffAmount = amount - this.posCheck.dr_total;\r\n                  }\r\n                }\r\n\r\n                this.posCheck.round_off = +roundOffAmount.toFixed(this.decimalPlace);\r\n                this.posCheck.dr_total = +amount.toFixed(this.decimalPlace);\r\n                this.balanceAmount = +((+this.posCheck.dr_total + +this.posCheck.tips) - (+this.posCheck.cr_total)).toFixed(this.decimalPlace);\r\n              }\r\n              this.printCheck();\r\n              if (this.posCheck.pos_ang_category_id) {\r\n                this.router.navigate(['/table-layout/' + this.outletId]);\r\n              }\r\n            }\r\n          } else {\r\n            this.alertService.error(environment.VOID_PRINT_CHECK);\r\n          }\r\n        }\r\n\r\n        const billingHeaderData: OutletBilling[] = JSON.parse(localStorage.getItem(\"outletBillingHeader\"));\r\n        const outletBilling = billingHeaderData?.filter(a => a.pos_restaurant_id === +this.outletId);\r\n\r\n        if (outletBilling?.length > 0 && outletBilling[0]?.upi_url != \"\") {\r\n          this.qrCodeUrl = outletBilling[0].upi_url + \"&am=\" + this.posCheck.dr_total + \"&cu=INR&tn=\" + this.posCheck.check_no;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  printCheck(): void {\r\n    const outletSettingData: OutletSetting[] = JSON.parse(localStorage.getItem(\"outletSetting\"));\r\n    if (outletSettingData) {\r\n      let currentOutletSetting = outletSettingData.filter(a => a.pos_restaurant_id === +this.outletId);\r\n\r\n      if (currentOutletSetting.length > 0) {\r\n        let defaultPrintCount = currentOutletSetting[0].print_check_default_count;\r\n        let duplicatePrintCount = 0;\r\n\r\n        this.posCheckService.printBill(this.posCheck, this.currentShift)\r\n          .subscribe({\r\n            next: (data: any) => {\r\n              let posCheckData = data?.pos_check;\r\n              this.posCheck.print_cashier_name = data.pos_check.print_cashier ? data.pos_check.print_cashier.full_name : \"\";\r\n              this.posCheck.print_time = data.pos_check.print_time ? data.pos_check.print_time : \"\";\r\n              this.posCheck.print_count = data.pos_check.print_count;\r\n              let report = Stimulsoft.Report.StiReport.createNewReport();\r\n              let report1 = Stimulsoft.Report.StiReport.createNewReport();\r\n\r\n              if (defaultPrintCount > 0) {\r\n                if (this.posCheck.print_count <= 1) {\r\n                  //First copy - original check - first time will be called\r\n                  report = this.commonService.printBill(posCheckData);\r\n                  report.render();\r\n                  report.print(false);\r\n\r\n                  defaultPrintCount--;\r\n                } else {\r\n                  // for duplicate copy print\r\n                  report = this.commonService.printBill(posCheckData, true);\r\n                  report.render();\r\n                  report.print(false);\r\n\r\n                  defaultPrintCount--;\r\n                }\r\n                report1 = this.commonService.printBill(posCheckData, true);\r\n              }\r\n\r\n              if (defaultPrintCount > 0) {\r\n                // for duplicate copy print\r\n                for (let i = 0; i < defaultPrintCount; i++) {\r\n                  setTimeout(function () {\r\n                    report1.render();\r\n                    report1.print(false);\r\n                  }, 2000 + i * 2000)\r\n                }\r\n              }\r\n            },\r\n            error: (error: any) => {\r\n              if (error.errors && error.errors.length > 0) {\r\n                this.alertService.error(error.errors[0]);\r\n              } else {\r\n                this.alertService.error(error);\r\n              }\r\n            }\r\n          });\r\n      }\r\n      // this.options.appearance.fullScreenMode = true;\r\n      // this.options.toolbar.displayMode = Stimulsoft.Viewer.StiToolbarDisplayMode.Separated;\r\n      // let dataSet = new Stimulsoft.System.Data.DataSet();\r\n      // let dataSet2 = new Stimulsoft.System.Data.DataSet();\r\n      // let dataSet3 = new Stimulsoft.System.Data.DataSet();\r\n\r\n      // let json = PosCheck.createPrintCheckJson(this.posCheck);\r\n      // dataSet.readJson(json);\r\n      // dataSet2.readJson(json[\"pos_check_charges\"]);\r\n      // dataSet3.readJson(json[\"posCheck.pos_check_settlements\"]);\r\n\r\n      // report.loadFile('/public/mrt/check_thermal_printer.mrt');\r\n      // report.regData(dataSet, \"pos_check\", { pos_check: json });\r\n      // report.regData(dataSet.pos_check, \"pos_check\", dataSet);\r\n      // report.regData(dataSet2.pos_check_charges, \"pos_check_charges\", dataSet2);\r\n      // report.regData(dataSet3.pos_check_settlements, \"pos_check_settlements\", dataSet3);\r\n    }\r\n  }\r\n\r\n  onVoidReasonSelection(reason: VoidReason): void {\r\n    this.selectedVoidReason = reason.id;\r\n  }\r\n\r\n  onVoidClick(makeDuplicateCopy: boolean) {\r\n    this.posCheck.pos_void_reason_id = this.selectedVoidReason;\r\n    this.posCheck.void_reason_note = this.voidReasonNote;\r\n\r\n    if (!this.voidReasonNote && !this.selectedVoidReason) {\r\n      this.alertService.error(\"Please enter void reason!\");\r\n      return;\r\n    }\r\n\r\n    this.posCheckService.voidBill(this.posCheck)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          if (makeDuplicateCopy) {\r\n            const newCheck = Object.assign(new PosCheck(), this.posCheck);\r\n            this.createDuplicateBillCopy(newCheck);\r\n          } else {\r\n            this.closeBtn.nativeElement.click();\r\n            this.router.navigate(['/table-layout/' + this.outletId]);\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          this.closeBtn.nativeElement.click();\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  saveTips(): void {\r\n    this.posCheck.tips = +this.tipsAmount;\r\n    //this.posCheck.dr_total = +this.posCheck.dr_total;\r\n    this.posCheckService.addTips(this.posCheck)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          this.balanceAmount = +((+this.posCheck.dr_total + +this.posCheck.tips) - (+this.posCheck.cr_total)).toFixed(this.decimalPlace);\r\n          this.closeTips.nativeElement.click();\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  onAllowanceClick(): void {\r\n    if (this.canGiveAllowance) {\r\n      const tableData: TableLayout[] = JSON.parse(localStorage.getItem(\"tableLayout\"));\r\n      const currentTableStatus = tableData.filter(x => x.table_code == this.posCheck.table_code)[0].table_status;\r\n\r\n      if (currentTableStatus != environment.POS_TABLE_STATUS_AVAILABLE) {\r\n        this.alertService.error(environment.ERROR_ALLOWANCE);\r\n      } else {\r\n        this.router.navigate(['/billing/' + this.outletId + '/allowance/' + this.posCheckId]);\r\n      }\r\n    }\r\n  }\r\n\r\n  createDuplicateBillCopy(newCheck: PosCheck) {\r\n    newCheck.from_void_check_no = this.posCheck.check_no;\r\n    newCheck.round_off = null;\r\n    newCheck.id = null;\r\n    newCheck.is_dirty = false;\r\n    newCheck.is_new = true;\r\n    newCheck.check_no = null;\r\n    newCheck.check_series_no = null;\r\n    newCheck.pos_ang_category_id = null;\r\n    newCheck.void_date_time = null;\r\n    newCheck.void_reason_note = null;\r\n    newCheck.last_action = environment.LAST_ACTION_POSTED;\r\n\r\n    newCheck.pos_check_details = newCheck.pos_check_details.filter(item => item.last_action != environment.LAST_ACTION_VOIDED);\r\n\r\n    newCheck.pos_check_details.forEach(item => {\r\n      item.id = null;\r\n      item.kot_no = null;\r\n      item.kot_print_count = null;\r\n      item.kot_print_ind = false;\r\n    })\r\n\r\n    newCheck.pos_check_charges.forEach(charge => {\r\n      charge.id = null;\r\n\r\n      charge.pos_check_charge_discounts.forEach(discount => {\r\n        discount.id = null;\r\n        discount.pos_check_charge_id = null;\r\n      })\r\n\r\n      charge.pos_check_charge_taxes.forEach(tax => {\r\n        tax.id = null;\r\n        tax.pos_check_charge_id = null;\r\n      })\r\n    })\r\n\r\n    this.posCheckService.saveBill(newCheck)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          this.closeBtn.nativeElement.click();\r\n          this.router.navigate(['/billing/' + this.outletId + '/place-order/' + data['pos_check'].table_code + '/' + data['pos_check'].id]);\r\n        },\r\n        error: (error: any) => {\r\n          this.closeBtn.nativeElement.click();\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  onRoomPostClick(): void {\r\n    if (this.posCheck && this.posCheck.last_action == this.lastActionPosted && this.posCheck.print_count > 0) {\r\n      this.router.navigate(['/billing/' + this.outletId + '/room-post/' + this.posCheckId]);\r\n    }\r\n  }\r\n}\r\n","<div class=\"wrapg_blk\">\r\n  <app-header></app-header>\r\n\r\n  <main class=\"main_cnt_blk\">\r\n    <section class=\"table_tab_parnt\">\r\n      <div class=\"print_bill_parnt\">\r\n        <div class=\"print_bill_inr\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-7\">\r\n              <div class=\"bill_detls\">\r\n                <div class=\"bill_header\">\r\n                  <ul>\r\n                    <li *ngIf=\"posCheck\">{{ posCheck.restaurant_name }}</li>\r\n                  </ul>\r\n                </div>\r\n                <div class=\"bill_check_detls\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-sm-6\">\r\n                      <div class=\"bill_check_info\">\r\n                        <label>{{ 'COMMON_LABEL.BILL_NUMBER' | translate }}</label>\r\n                        <span *ngIf=\"posCheck\">{{ posCheck.check_no }}</span>\r\n                      </div>\r\n                      <div class=\"bill_check_info\">\r\n                        <label>{{ 'COMMON_LABEL.SERVER' | translate }}</label>\r\n                        <span *ngIf=\"posCheck\">{{ posCheck.server_name }}</span>\r\n                      </div>\r\n                      <div class=\"bill_check_info\">\r\n                        <label>{{ 'COMMON_LABEL.DATE' | translate }}</label>\r\n                        <span *ngIf=\"posCheck\">{{ posCheck.open_date | date:'dd/MM/yyyy' }}</span>\r\n                      </div>\r\n                      <div class=\"bill_check_info\">\r\n                        <label>{{ 'COMMON_LABEL.GUEST' | translate }}</label>\r\n                        <span *ngIf=\"posCheck\">{{ posCheck?.guest_name }}</span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-sm-6\">\r\n                      <div class=\"bill_check_info\">\r\n                        <label>{{ 'COMMON_LABEL.SECTION' | translate }}</label>\r\n                        <span *ngIf=\"layout\">{{ layout.table_group }}</span>\r\n                      </div>\r\n                      <div class=\"bill_check_info\">\r\n                        <label>{{ 'COMMON_LABEL.TABLE' | translate }}</label>\r\n                        <span *ngIf=\"posCheck\">{{ (posCheck.from_table_code &&\r\n                          posCheck.table_code==pendingTableCode)?posCheck.from_table_code:posCheck.table_code }}</span>\r\n                      </div>\r\n                      <div class=\"bill_check_info\">\r\n                        <label>{{ 'COMMON_LABEL.COVERS' | translate }}</label>\r\n                        <span *ngIf=\"posCheck\">{{ posCheck.covers }}</span>\r\n                      </div>\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"print_bill_grd\">\r\n                  <div class=\"list_grid\">\r\n                    <ul class=\"bill_head_title\">\r\n                      <li class=\"\">{{ 'COMMON_LABEL.QTY' | translate }}</li>\r\n                      <li>{{ 'COMMON_LABEL.ITEMS' | translate }}</li>\r\n                      <li class=\"text_align_rght\">{{ 'COMMON_LABEL.PRICE' | translate }}</li>\r\n                      <li>{{ 'COMMON_LABEL.KOT_NO' | translate }}</li>\r\n                    </ul>\r\n                    <div class=\"bill00\" *ngIf=\"posCheck\">\r\n                      <ng-container *ngFor=\"let item of posCheck.pos_check_details\">\r\n                        <div class=\"bill_item_detls\" *ngIf=\"item.last_action == lastActionPosted\">\r\n                          <div class=\"dish_hight\">\r\n                            <span class=\"\">{{ item.quantity }}</span>\r\n                            <span class=\"dish_name\">{{ item.item_description }}</span>\r\n                            <span class=\"text_align_rght\">{{ item.amount.toFixed(decimalPlace) }}</span>\r\n                            <span class=\"dish_status_kot\">{{ item.kot_no }}</span>\r\n                          </div>\r\n\r\n                          <div class=\"dish_hight\" *ngFor=\"let modifier of item.pos_check_detail_modifiers\">\r\n                            <span class=\"\"></span>\r\n                            <span class=\"dish_name\">++ {{ modifier.modifier_name_on_check }} ({{ currencySymbol }} {{\r\n                              modifier.amount| number: '1.' + decimalPlace + '-' + decimalPlace }})</span>\r\n                            <span class=\"text_align_rght\"></span>\r\n                            <span class=\"dish_status_kot\"></span>\r\n                          </div>\r\n                        </div>\r\n                      </ng-container>\r\n\r\n                      <div class=\"bill_item_detls\">\r\n                        <div class=\"dish_hight\">\r\n                          <span class=\"\"></span>\r\n                          <span class=\"dish_name text_align_rght\">{{ 'VIEW_BILL.SUB_TOTAL' | translate }}:</span>\r\n                          <span class=\"text_align_rght print_brd_top\">{{ chargeTotal.toFixed(decimalPlace)\r\n                            }}</span>\r\n                          <span class=\"dish_status_kot\"></span>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"bill_item_detls\" *ngFor=\"let discount of discountList\">\r\n                        <div class=\"dish_hight\">\r\n                          <span class=\"\"></span>\r\n                          <span class=\"dish_name text_align_rght\">{{ discount.description }}:</span>\r\n                          <span class=\"text_align_rght\">{{ discount.amount| number: '1.' + decimalPlace + '-' +\r\n                            decimalPlace }}</span>\r\n                          <span class=\"dish_status_kot\"></span>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"bill_item_detls\">\r\n                        <div class=\"dish_hight\" *ngIf=\"discountTotal > 0\">\r\n                          <span class=\"print_brd_top\"></span>\r\n                          <span class=\"dish_name text_align_rght print_brd_top\">{{ 'VIEW_BILL.TOTAL_DISCOUNT' |\r\n                            translate }}:</span>\r\n                          <span class=\"text_align_rght print_brd_top\">{{ discountTotal.toFixed(decimalPlace)\r\n                            }}</span>\r\n                          <span class=\"dish_status_kot print_brd_top\"></span>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div *ngIf=\"posCheck\">\r\n                        <div class=\"bill_item_detls\" *ngFor=\"let tax of (posCheck.pos_check_charges | FilterTax)\">\r\n                          <div class=\"dish_hight\">\r\n                            <span class=\"\"></span>\r\n                            <span class=\"dish_name text_align_rght\">{{ tax.description }}</span>\r\n                            <span class=\"text_align_rght\">{{ tax.amount| number: '1.' + decimalPlace + '-' +\r\n                              decimalPlace}}</span>\r\n                            <span class=\"dish_status_kot\"></span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"bill_item_detls\">\r\n                        <div class=\"dish_hight\">\r\n                          <span class=\"print_brd_top\"></span>\r\n                          <span class=\"dish_name text_align_rght print_brd_top\">{{ 'VIEW_BILL.TOTAL_TAX' | translate\r\n                            }}</span>\r\n                          <span class=\"text_align_rght print_brd_top\">{{ taxTotal.toFixed(decimalPlace) }}</span>\r\n                          <span class=\"dish_status_kot print_brd_top\"></span>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"bill_item_detls\" *ngIf=\"posCheck && posCheck.round_off\">\r\n                        <div class=\"dish_hight\">\r\n                          <span class=\"\"></span>\r\n                          <span class=\"dish_name text_align_rght\">{{ 'VIEW_BILL.ROUND_OFF' | translate }}</span>\r\n                          <span class=\"text_align_rght\">{{ posCheck.round_off| number: '1.' + decimalPlace + '-' +\r\n                            decimalPlace }}</span>\r\n                          <span class=\"dish_status_kot\"></span>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"bill_item_detls\" *ngIf=\"posCheck && posCheck.tips\">\r\n                        <div class=\"dish_hight\">\r\n                          <span class=\"print_brd_top\"></span>\r\n                          <span class=\"dish_name text_align_rght print_brd_top\">{{ 'ACTION_BUTTON.TIPS' | translate\r\n                            }}:</span>\r\n                          <span class=\"text_align_rght print_brd_top\">{{ posCheck.tips| number: '1.' + decimalPlace +\r\n                            '-' + decimalPlace }}</span>\r\n                          <span class=\"dish_status_kot print_brd_top\"></span>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"bill_item_detls\">\r\n                        <div class=\"dish_hight\">\r\n                          <span class=\"print_brd_top\"></span>\r\n                          <span class=\"dish_name text_align_rght print_brd_top\">{{ 'VIEW_BILL.GRAND_TOTAL' | translate\r\n                            }}:</span>\r\n                          <span class=\"text_align_rght print_brd_top\">{{ drTotal\r\n                            }}</span>\r\n                          <span class=\"dish_status_kot print_brd_top\"></span>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"bill_item_detls\"\r\n                        *ngIf=\"posCheck && posCheck.pos_check_settlements && posCheck.pos_check_settlements.length > 0\">\r\n                        <div class=\"dish_hight\">\r\n                          <span class=\"print_brd_top\"></span>\r\n                          <span class=\"dish_name text_align_rght print_brd_top\"></span>\r\n                          <span class=\"text_align_rght print_brd_top\"></span>\r\n                          <span class=\"dish_status_kot print_brd_top\"></span>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <!-- <div class=\"bill_item_detls\" *ngIf=\"posCheck && posCheck.pos_check_settlements\">\r\n                        <div class=\"dish_hight\" *ngFor=\"let settlement of posCheck.pos_check_settlements\">\r\n                          <span class=\"\"></span>\r\n                          <span class=\"dish_name\">{{ settlement.description }} {{ settlement?.card_no ? '(' +\r\n                            settlement.card_no + ')' : '' }}</span>\r\n                          <span class=\"text_align_rght\">{{ settlement.allowance_ind == true ? settlement.amount : -\r\n                            (settlement.amount ) }}</span>\r\n                          <span class=\"dish_status_kot\"></span>\r\n                        </div>\r\n                      </div> -->\r\n                      <div class=\"bill_item_detls\" *ngIf=\"posCheck && posCheck.pos_check_settlements\">\r\n                        <div class=\"dish_hight\" *ngFor=\"let settlement of posCheck.pos_check_settlements\">\r\n                          <span class=\"\"></span>\r\n                          <span class=\"dish_name\">\r\n                            {{ settlement.description }}\r\n                            {{ settlement?.card_no ? '(' + settlement.card_no + ')' : '' }}\r\n                          </span>\r\n                          <!-- Convert string to number and format with dynamic decimal places -->\r\n                          <span class=\"text_align_rght\">\r\n                            {{ settlement.allowance_ind == true\r\n                            ? (settlement.amount | number: '1.' + decimalPlace + '-' + decimalPlace)\r\n                            : (-settlement.amount | number: '1.' + decimalPlace + '-' + decimalPlace)\r\n                            }}\r\n                          </span>\r\n                          <span class=\"dish_status_kot\"></span>\r\n                        </div>\r\n                      </div>\r\n\r\n\r\n                      <div class=\"bill_item_detls\" *ngIf=\"posCheck\">\r\n                        <div class=\"dish_hight\">\r\n                          <span class=\"print_brd_top\"></span>\r\n                          <span class=\"dish_name text_align_rght print_brd_top\">{{ 'COMMON_LABEL.BALANCE' | translate\r\n                            }}</span>\r\n                          <span class=\"text_align_rght print_brd_top\">{{ balanceAmount.toFixed(decimalPlace)\r\n                            }}</span>\r\n                          <span class=\"dish_status_kot print_brd_top\"></span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"print_admin_detls\" *ngIf=\"posCheck && posCheck.print_cashier_name\">{{\r\n                    'VIEW_BILL.PRINTED_BY' | translate }}: {{\r\n                    posCheck.print_cashier_name }} on {{ posCheck.print_time | date: 'medium' }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-5\">\r\n              <div class=\"barcode_scn_blk\">\r\n                <p>{{ 'VIEW_BILL.THANK_YOU_MSG' | translate }}</p>\r\n                <div class=\"barcode_img\">\r\n                  <!-- <i class=\"bi bi-qr-code\"></i> -->\r\n                  <qrcode *ngIf=\"qrCodeUrl\" [qrdata]=\"qrCodeUrl\" [allowEmptyString]=\"true\" [alt]=\"'Valid QR not found'\"\r\n                    [ariaLabel]=\"'QR Code image with the following content...'\" [cssClass]=\"'center'\"\r\n                    [colorDark]=\"'#000000ff'\" [colorLight]=\"'#ffffffff'\" [elementType]=\"'canvas'\"\r\n                    [errorCorrectionLevel]=\"'M'\" [margin]=\"4\" [scale]=\"1\" [title]=\"'A custom title attribute'\"\r\n                    [width]=\"250\"></qrcode>\r\n\r\n                  <label class=\"qr_scan_me\">{{ 'VIEW_BILL.SCAN_&_PAY' | translate }}</label>\r\n                </div>\r\n                <div class=\"final_amt_payble\" *ngIf=\"posCheck\">\r\n                  <label>{{ 'VIEW_BILL.AMOUNT_PAYABLE' | translate }}</label>{{ currencySymbol }} {{ (+posCheck.dr_total\r\n                  + +posCheck.tips) | number: '1.' + decimalPlace + '-' + decimalPlace }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"action_btn_parnt\">\r\n      <ul>\r\n        <li (click)=\"onPrintClick()\"\r\n          [class.unavlbl_btn]=\"posCheck && ((posCheck.last_action == lastActionVoided) || (posCheck.print_count > 0 && !canReprintBill) || (posCheck.last_action == lastActionSettled && !canPrintSettledBill))\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 122.88 114.81'>\r\n              <title>Print bill</title>\r\n              <path\r\n                d='M18.46,89.86H7.82A7.8,7.8,0,0,1,2.3,87.57l-.24-.26A7.82,7.82,0,0,1,0,82V35.44a7.81,7.81,0,0,1,2.3-5.53l.25-.23a7.77,7.77,0,0,1,5.27-2.06H20.13A8.07,8.07,0,0,1,20,26.14v-18a8.05,8.05,0,0,1,2.39-5.72h0A8.07,8.07,0,0,1,28.1,0H94.78a8.13,8.13,0,0,1,8.11,8.11v18a8.07,8.07,0,0,1-.14,1.48h12.31a7.81,7.81,0,0,1,5.51,2.29h0a7.8,7.8,0,0,1,2.3,5.52V82a7.84,7.84,0,0,1-7.82,7.82H104.42v20.31a4.63,4.63,0,0,1-1.36,3.28,4.32,4.32,0,0,1-.39.34,4.6,4.6,0,0,1-2.89,1H23.1a4.63,4.63,0,0,1-3.28-1.36,3.06,3.06,0,0,1-.34-.39,4.6,4.6,0,0,1-1-2.89V89.86ZM27,27.62H95.91l.19-.17a1.86,1.86,0,0,0,.55-1.31v-18a1.88,1.88,0,0,0-1.87-1.87H28.1a1.87,1.87,0,0,0-1.32.55h0a1.87,1.87,0,0,0-.54,1.32v18a1.84,1.84,0,0,0,.55,1.31l.19.17Zm9.3,71.71a2.4,2.4,0,0,1,0-4.8H63.64a2.4,2.4,0,0,1,0,4.8Zm0-14.56a2.4,2.4,0,0,1,0-4.8H86.61a2.4,2.4,0,0,1,0,4.8ZM7.07,60.61H115.81V35.44a.76.76,0,0,0-.22-.54.77.77,0,0,0-.53-.22H7.82a.76.76,0,0,0-.46.16l-.07.07a.76.76,0,0,0-.22.53V60.61Zm108.74,7.07H102.19a4.13,4.13,0,0,1,.87.69,4.63,4.63,0,0,1,1.36,3.28V82.79h10.64a.75.75,0,0,0,.53-.22.79.79,0,0,0,.22-.53V67.68Zm-95.12,0H7.07V82a.81.81,0,0,0,.15.46l.07.07a.75.75,0,0,0,.53.22H18.46V71.65a4.63,4.63,0,0,1,1.36-3.28,4.13,4.13,0,0,1,.87-.69Zm76.67,4.23H25.52v35.83H97.36V71.91Z' />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.PRINT' | translate }}</a>\r\n        </li>\r\n        <li (click)=\"onLocalClick()\"\r\n          [class.unavlbl_btn]=\"((posCheck && !posCheck.pos_ang_category_id && (posCheck.print_count <= 0 || posCheck.last_action != lastActionPosted))||isRoomServiceOutlet)\">\r\n          <a class=\"form-control\" tabindex=\"0\" href=\"javascript:void(0)\">\r\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\"\r\n              y=\"0px\" viewBox=\"0 0 122.879 118.77\" enable-background=\"new 0 0 122.879 118.77\" xml:space=\"preserve\">\r\n              <g>\r\n                <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\r\n                  d=\"M11.512,106.21V58.896c-2.34,0.9-4.53,0.92-6.35,0.3 c-1.42-0.479-2.62-1.339-3.5-2.449c-0.88-1.11-1.439-2.46-1.609-3.949c-0.26-2.311,0.43-4.92,2.399-7.37l0,0 c0.1-0.12,0.21-0.239,0.34-0.34L59.847,0.552c0.74-0.68,1.88-0.75,2.7-0.11l57.186,44.457l0,0c0.09,0.069,0.17,0.14,0.249,0.229 c2.65,2.85,3.311,6.01,2.67,8.68c-0.319,1.319-0.949,2.499-1.819,3.479c-0.87,0.979-1.98,1.739-3.24,2.189 c-1.999,0.72-4.379,0.7-6.789-0.439v47.053h-5.6V56.577c0-1.01-39.227-32.018-43.556-35.387 c-4.589,3.489-44.536,34.247-44.536,35.547v49.492L11.512,106.21L11.512,106.21L11.512,106.21z M57.955,79.292 c10.901,0,19.739,8.838,19.739,19.739s-8.838,19.738-19.739,19.738s-19.739-8.837-19.739-19.738S47.054,79.292,57.955,79.292 L57.955,79.292z M65.695,102.349c-0.513,0-0.903,0.149-1.173,0.44c-0.27,0.3-0.406,0.706-0.406,1.25 c0,0.535,0.137,0.95,0.406,1.246c0.27,0.291,0.66,0.437,1.173,0.437c0.506,0,0.895-0.149,1.165-0.437 c0.27-0.296,0.406-0.711,0.406-1.246c0-0.544-0.137-0.954-0.406-1.25C66.599,102.494,66.205,102.349,65.695,102.349L65.695,102.349 L65.695,102.349z M50.216,93.362c-0.51,0-0.895,0.149-1.165,0.437c-0.27,0.295-0.406,0.71-0.406,1.245 c0,0.539,0.137,0.959,0.406,1.25s0.655,0.441,1.165,0.441c0.513,0,0.903-0.15,1.172-0.441c0.27-0.3,0.398-0.711,0.398-1.25 c0-0.535-0.129-0.95-0.398-1.245C51.128,93.512,50.734,93.362,50.216,93.362L50.216,93.362L50.216,93.362z M65.694,98.844 c1.656,0,2.986,0.477,3.997,1.417c1.005,0.947,1.515,2.202,1.515,3.771c0,1.565-0.51,2.826-1.515,3.768 c-1.011,0.947-2.341,1.418-3.997,1.418c-1.659,0-2.992-0.471-4.003-1.418c-1.005-0.947-1.508-2.202-1.508-3.768 c0-1.569,0.503-2.824,1.508-3.771C62.702,99.32,64.035,98.844,65.694,98.844L65.694,98.844L65.694,98.844z M50.216,89.856 c1.656,0,2.992,0.471,4.003,1.418c1.004,0.947,1.508,2.202,1.508,3.769c0,1.568-0.504,2.823-1.508,3.771 c-1.011,0.944-2.347,1.418-4.003,1.418s-2.986-0.478-3.997-1.418c-1.008-0.947-1.515-2.202-1.515-3.771 c0-1.566,0.507-2.827,1.515-3.769C47.23,90.327,48.56,89.856,50.216,89.856L50.216,89.856L50.216,89.856z M62.31,90.596h4.485 l-13.134,17.867h-4.489L62.31,90.596L62.31,90.596L62.31,90.596z M92.753,89.483c0.456,0.762,0.7,1.57,0.7,2.406 c0,3.452-4.157,6.4-9.988,7.542c0.002-0.133,0.004-0.267,0.004-0.4c0-1.48-0.131-2.932-0.379-4.341 C87.686,93.863,91.298,91.923,92.753,89.483L92.753,89.483L92.753,89.483L92.753,89.483L92.753,89.483z M63.264,74.065 c1.74-3.442,7.726-5.983,14.839-5.983l0,0l0,0l0,0c8.474,0,15.351,3.605,15.351,8.048c0,4.365-6.646,7.925-14.922,8.045 c-0.713-0.953-1.493-1.853-2.332-2.692c-0.775-0.775-1.602-1.499-2.473-2.167c1.363,0.198,2.837,0.307,4.376,0.307 c6.968,0,12.614-2.212,12.614-4.948c0-2.73-5.646-4.948-12.614-4.948l0,0l0,0l0,0l0,0c-6.967,0-12.613,2.213-12.613,4.948 c0,0.174,0.022,0.344,0.066,0.513c-0.8-0.231-1.616-0.424-2.448-0.574C63.189,74.272,63.262,74.062,63.264,74.065L63.264,74.065z M80.332,77.716l-0.028-1.989c0.449-0.018,0.818-0.154,1.104-0.41c0.29-0.256,0.443-0.563,0.477-0.926 c0.035-0.417-0.101-0.78-0.409-1.1c-0.312-0.318-0.807-0.505-1.483-0.563c-0.632-0.059-1.121,0.046-1.468,0.308 c-0.342,0.255-0.535,0.613-0.574,1.069c-0.052,0.568,0.159,1.103,0.626,1.598l-0.376,1.586l-5.709-1.484l0.869-5.244l1.854,0.159 l-0.324,3.744l1.73,0.461c-0.184-0.461-0.256-0.923-0.217-1.389c0.074-0.876,0.461-1.598,1.154-2.149 c0.693-0.558,1.553-0.791,2.57-0.7c0.854,0.074,1.594,0.388,2.214,0.938c0.852,0.752,1.228,1.725,1.125,2.919 c-0.085,0.955-0.403,1.712-0.972,2.269C81.931,77.376,81.208,77.677,80.332,77.716L80.332,77.716L80.332,77.716L80.332,77.716 L80.332,77.716z M92.81,81.498c0.422,0.734,0.644,1.508,0.644,2.31c0,3.676-4.708,6.778-11.134,7.739 c-0.486-1.539-1.12-3.015-1.882-4.408C86.337,86.666,91.132,84.435,92.81,81.498L92.81,81.498L92.81,81.498L92.81,81.498 L92.81,81.498L92.81,81.498z M29.425,76.435c0-0.883,0.259-1.735,0.739-2.54c1.752,2.936,6.471,5.193,12.313,5.794 c-1.738,1.149-3.284,2.575-4.57,4.215C34.603,82.959,29.425,80.527,29.425,76.435L29.425,76.435z M51.483,56.342l-0.188,2.107 l-7.954-0.691c0.655,0.835,1.111,1.789,1.362,2.863l-1.915-0.168c-0.3-1.286-1.288-2.799-2.515-3.361l0.15-1.71L51.483,56.342 L51.483,56.342L51.483,56.342L51.483,56.342L51.483,56.342L51.483,56.342z M58.943,58.257c0,2.881-5.96,5.222-13.314,5.222 c-7.354,0-13.315-2.341-13.315-5.222c0-2.883,5.961-5.224,13.315-5.224C48.68,53.033,58.943,54.042,58.943,58.257L58.943,58.257z M45.629,51.304c8.945,0,16.204,3.801,16.204,8.495c0,4.689-7.259,8.494-16.204,8.494c-8.944,0-16.204-3.805-16.204-8.494 C29.425,55.104,36.685,51.304,45.629,51.304L45.629,51.304L45.629,51.304z M61.154,65.461c0.443,0.773,0.679,1.59,0.679,2.437 c0,2.57-2.183,4.876-5.628,6.435c-2.59,0.253-5.063,0.905-7.358,1.893c-1.04,0.11-2.116,0.168-3.217,0.168 c-8.944,0-16.204-3.807-16.204-8.495c0-0.847,0.24-1.663,0.679-2.437c1.999,3.5,8.195,6.057,15.525,6.057 C52.96,71.518,59.155,68.961,61.154,65.461L61.154,65.461L61.154,65.461L61.154,65.461L61.154,65.461L61.154,65.461z M29.425,93.904c0-0.943,0.294-1.854,0.841-2.702c0.755,1.184,1.992,2.246,3.59,3.128c-0.036,0.492-0.054,0.991-0.054,1.496 c-0.002,0.58,0.021,1.16,0.071,1.739c-0.028,0.484-0.043,0.974-0.043,1.466c0,0.232,0.003,0.464,0.01,0.695 C31.677,98.523,29.425,96.55,29.425,93.904L29.425,93.904z M29.425,85.043c0-0.9,0.271-1.765,0.764-2.577 c1.049,1.731,3.132,3.226,5.872,4.276c-0.746,1.393-1.313,2.873-1.693,4.406C32.051,89.975,29.425,87.9,29.425,85.043 L29.425,85.043z M93.754,3.552l17.169,0.7v23.188L93.754,16.11V3.552L93.754,3.552L93.754,3.552L93.754,3.552z\" />\r\n              </g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.LOCAL' | translate }}\r\n          </a>\r\n        </li>\r\n        <li (click)=\"onAllowanceClick()\"\r\n          [class.unavlbl_btn]=\"(posCheck && posCheck.last_action == lastActionPosted) || !canGiveAllowance\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" shape-rendering=\"geometricPrecision\"\r\n              text-rendering=\"geometricPrecision\" image-rendering=\"optimizeQuality\" fill-rule=\"evenodd\"\r\n              clip-rule=\"evenodd\" viewBox=\"0 0 512 512\">\r\n              <path fill-rule=\"nonzero\"\r\n                d=\"M256 0c70.69 0 134.7 28.66 181.02 74.98C483.34 121.31 512 185.31 512 256c0 70.69-28.66 134.7-74.98 181.02C390.7 483.34 326.69 512 256 512c-70.69 0-134.69-28.66-181.02-74.98C28.66 390.7 0 326.69 0 256c0-70.69 28.66-134.69 74.98-181.02C121.31 28.66 185.31 0 256 0zm-21.49 301.51v-2.03c.16-13.46 1.48-24.12 4.07-32.05 2.54-7.92 6.19-14.37 10.97-19.25 4.77-4.92 10.51-9.39 17.22-13.46 4.31-2.74 8.22-5.78 11.68-9.18 3.45-3.36 6.19-7.27 8.23-11.69 2.02-4.37 3.04-9.24 3.04-14.62 0-6.4-1.52-11.94-4.57-16.66-3-4.68-7.06-8.28-12.04-10.87-5.03-2.54-10.61-3.81-16.76-3.81-5.53 0-10.81 1.11-15.89 3.45-5.03 2.29-9.25 5.89-12.55 10.77-3.3 4.87-5.23 11.12-5.74 18.74h-32.91c.51-12.95 3.81-23.92 9.85-32.91 6.1-8.99 14.13-15.8 24.08-20.42 10.01-4.62 21.08-6.9 33.16-6.9 13.31 0 24.89 2.43 34.84 7.41 9.96 4.93 17.73 11.83 23.27 20.67 5.48 8.84 8.28 19.1 8.28 30.88 0 8.08-1.27 15.34-3.81 21.79-2.54 6.45-6.1 12.24-10.77 17.27-4.68 5.08-10.21 9.54-16.71 13.41-6.15 3.86-11.12 7.82-14.88 11.93-3.81 4.11-6.56 8.99-8.28 14.58-1.73 5.63-2.69 12.59-2.84 20.92v2.03h-30.94zm16.36 65.82c-5.94-.04-11.02-2.13-15.29-6.35-4.26-4.21-6.35-9.34-6.35-15.33 0-5.89 2.09-10.97 6.35-15.19 4.27-4.21 9.35-6.35 15.29-6.35 5.84 0 10.92 2.14 15.18 6.35 4.32 4.22 6.45 9.3 6.45 15.19 0 3.96-1.01 7.62-2.99 10.87-1.98 3.3-4.57 5.94-7.82 7.87-3.25 1.93-6.86 2.9-10.82 2.94zM417.71 94.29C376.33 52.92 319.15 27.32 256 27.32c-63.15 0-120.32 25.6-161.71 66.97C52.92 135.68 27.32 192.85 27.32 256c0 63.15 25.6 120.33 66.97 161.71 41.39 41.37 98.56 66.97 161.71 66.97 63.15 0 120.33-25.6 161.71-66.97 41.37-41.38 66.97-98.56 66.97-161.71 0-63.15-25.6-120.32-66.97-161.71z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.ALLOWANCE' | translate }}\r\n          </a>\r\n        </li>\r\n        <li (click)=\"onRoomPostClick()\"\r\n          [class.unavlbl_btn]=\"(posCheck && (posCheck.print_count <= 0 || posCheck.last_action != lastActionPosted))\">\r\n          <a class=\"form-control\" tabindex=\"0\"><svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 99.66 122.88\">\r\n              <defs>\r\n                <style>\r\n                  .cls-1 {\r\n                    fill-rule: evenodd;\r\n                  }\r\n                </style>\r\n              </defs>\r\n              <title>entrance-door</title>\r\n              <path class=\"cls-1\"\r\n                d=\"M0,115H99.66v7.86H0V115Zm29-7.19H20.37v-6h2.24v3.73H29v2.23Zm0-95.36H22.61V16.2H20.37v-6H29v2.23ZM70.66,105.6h6.39v-3.73h2.24v6H70.66V105.6Zm0-95.36h8.63v6H77.05V12.47H70.66V10.24ZM15,5.16H84.72V113.42h5.52V0H8.64V113.42h5.51V5.16Zm6.48,44.63,4.37-1.25V64.88L21.49,63.3V49.79Z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.ROOM_POST' | translate }}\r\n          </a>\r\n        </li>\r\n        <li data-bs-toggle=\"modal\" data-bs-target=\"#tips_modal\"\r\n          [class.unavlbl_btn]=\"posCheck && (posCheck.last_action != lastActionPosted)\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\"\r\n              y=\"0px\" viewBox=\"0 0 122.88 90.82\" style=\"enable-background:new 0 0 122.88 90.82\" xml:space=\"preserve\">\r\n              <style type=\"text/css\">\r\n                .st0 {\r\n                  fill-rule: evenodd;\r\n                  clip-rule: evenodd;\r\n                }\r\n              </style>\r\n              <g>\r\n                <path class=\"st0\"\r\n                  d=\"M121.57,40.15c0.85,1.42,1.31,2.94,1.31,4.51c0,8.34-12.9,15.1-28.8,15.1c-15.9,0-28.8-6.76-28.8-15.1 c0-1.57,0.46-3.09,1.31-4.51c3.66,6.13,14.58,10.59,27.49,10.59C106.99,50.74,117.91,46.29,121.57,40.15L121.57,40.15z M56.29,62.64c0.85,1.43,1.31,2.94,1.31,4.51c0,8.34-12.9,15.1-28.8,15.1C12.9,82.25,0,75.49,0,67.15c0-1.57,0.46-3.09,1.31-4.51 c3.66,6.13,14.59,10.59,27.49,10.59C41.71,73.23,52.63,68.78,56.29,62.64L56.29,62.64z M32.98,40.56l-0.06-3.74 c0.85-0.03,1.54-0.29,2.07-0.77c0.54-0.48,0.83-1.06,0.89-1.74c0.07-0.78-0.19-1.46-0.77-2.06c-0.58-0.59-1.52-0.95-2.79-1.06 c-1.19-0.1-2.11,0.09-2.75,0.57c-0.64,0.48-1,1.15-1.07,2.01c-0.09,1.07,0.3,2.07,1.17,3l-0.7,2.98l-9.94-2.79l0.85-9.84l3.48,0.3 l-0.61,7.02l3.25,0.87c-0.34-0.87-0.48-1.73-0.4-2.6c0.14-1.65,0.87-3,2.16-4.04c1.3-1.04,2.91-1.48,4.83-1.31 c1.6,0.14,2.98,0.72,4.15,1.76c1.6,1.41,2.31,3.24,2.11,5.48c-0.16,1.79-0.76,3.21-1.82,4.26C35.98,39.92,34.63,40.49,32.98,40.56 L32.98,40.56z M28.8,25.56c13.07,0,23.67,4.16,23.67,9.28c0,5.13-10.6,9.28-23.67,9.28S5.13,39.98,5.13,34.85 C5.13,29.72,15.73,25.56,28.8,25.56L28.8,25.56L28.8,25.56z M28.8,22.49c15.9,0,28.8,6.76,28.8,15.1c0,8.34-12.9,15.1-28.8,15.1 C12.9,52.68,0,45.92,0,37.59C0,29.25,12.9,22.49,28.8,22.49L28.8,22.49z M56.39,47.65c0.78,1.37,1.21,2.83,1.21,4.33 c0,8.34-12.9,15.1-28.8,15.1C12.9,67.08,0,60.32,0,51.99c0-1.51,0.42-2.96,1.21-4.33c3.56,6.22,14.56,10.76,27.59,10.76 C41.83,58.41,52.84,53.88,56.39,47.65L56.39,47.65L56.39,47.65z M104.48,8.95l-0.33,3.75l-14.14-1.23 c1.17,1.48,1.97,3.18,2.42,5.09l-3.4-0.3c-0.23-1-0.75-2.12-1.54-3.34c-0.8-1.23-1.77-2.1-2.93-2.63l0.27-3.04L104.48,8.95 L104.48,8.95L104.48,8.95z M94.08,3.08c13.07,0,23.67,4.16,23.67,9.28c0,5.13-10.6,9.28-23.67,9.28c-13.07,0-23.67-4.16-23.67-9.28 C70.41,7.23,81.01,3.08,94.08,3.08L94.08,3.08z M94.08,0c15.9,0,28.8,6.76,28.8,15.1c0,8.34-12.9,15.1-28.8,15.1 c-15.9,0-28.8-6.76-28.8-15.1C65.28,6.76,78.18,0,94.08,0L94.08,0z M121.67,25.16c0.78,1.37,1.21,2.83,1.21,4.33 c0,8.34-12.9,15.1-28.8,15.1c-15.9,0-28.8-6.76-28.8-15.1c0-1.51,0.42-2.96,1.21-4.33c3.55,6.22,14.56,10.76,27.59,10.76 C107.11,35.93,118.12,31.39,121.67,25.16L121.67,25.16L121.67,25.16z M121.39,70.92c0.96,1.51,1.49,3.12,1.49,4.8 c0,8.34-12.9,15.1-28.8,15.1c-15.9,0-28.8-6.76-28.8-15.1c0-1.68,0.52-3.29,1.49-4.8c3.83,5.98,14.61,10.3,27.31,10.3 C106.78,81.22,117.57,76.91,121.39,70.92L121.39,70.92z M121.53,55.39c0.88,1.45,1.35,2.98,1.35,4.58c0,8.34-12.9,15.1-28.8,15.1 c-15.9,0-28.8-6.76-28.8-15.1c0-1.6,0.48-3.14,1.35-4.58c3.7,6.1,14.59,10.51,27.45,10.51S117.82,61.49,121.53,55.39L121.53,55.39 L121.53,55.39z\" />\r\n              </g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.TIPS' | translate }}\r\n          </a>\r\n        </li>\r\n\r\n        <li data-bs-toggle=\"modal\" data-bs-target=\"#void_modal\"\r\n          [class.unavlbl_btn]=\"(posCheck && (posCheck.print_count <= 0 || posCheck.last_action != lastActionPosted)) || !canVoidBill\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\"\r\n              y=\"0px\" viewBox=\"0 0 104.69 122.88\" style=\"enable-background:new 0 0 104.69 122.88\" xml:space=\"preserve\">\r\n              <g>\r\n                <path\r\n                  d=\"M98.38,88.41l-9.79,10.48L98.38,88.41L98.38,88.41z M84.3,103.48l-9.79,10.48L84.3,103.48L84.3,103.48z M56.85,116.58 c1.74,0,3.15,1.41,3.15,3.15c0,1.74-1.41,3.15-3.15,3.15H7.33c-2.02,0-3.85-0.82-5.18-2.15C0.82,119.4,0,117.57,0,115.55V7.33 c0-2.02,0.82-3.85,2.15-5.18C3.48,0.82,5.31,0,7.33,0h90.02c2.02,0,3.85,0.82,5.18,2.15c1.33,1.33,2.15,3.16,2.15,5.18V72.6 c0,1.74-1.41,3.15-3.15,3.15c-1.74,0-3.15-1.41-3.15-3.15V7.33c0-0.28-0.12-0.54-0.3-0.73c-0.19-0.19-0.45-0.3-0.73-0.3H7.33 c-0.28,0-0.54,0.12-0.73,0.3S6.3,7.05,6.3,7.33v108.21c0,0.28,0.12,0.54,0.3,0.73c0.19,0.19,0.44,0.3,0.73,0.3H56.85L56.85,116.58z M31.54,86.95c-1.74,0-3.16-1.43-3.16-3.19c0-1.76,1.41-3.19,3.16-3.19h20.5c1.74,0,3.16,1.43,3.16,3.19 c0,1.76-1.41,3.19-3.16,3.19H31.54L31.54,86.95z M31.54,42.27c-1.74,0-3.15-1.41-3.15-3.15c0-1.74,1.41-3.15,3.15-3.15h41.61 c1.74,0,3.15,1.41,3.15,3.15c0,1.74-1.41,3.15-3.15,3.15H31.54L31.54,42.27z M31.54,64.59c-1.74,0-3.15-1.41-3.15-3.15 c0-1.74,1.41-3.15,3.15-3.15h41.61c1.74,0,3.15,1.41,3.15,3.15c0,1.74-1.41,3.15-3.15,3.15H31.54L31.54,64.59z M71.52,91.55 c-1.27-1.18-1.34-3.17-0.16-4.44c1.18-1.27,3.17-1.34,4.44-0.16l10.49,9.79l9.78-10.48c1.18-1.27,3.17-1.34,4.44-0.16 c1.27,1.18,1.34,3.17,0.16,4.44l-9.79,10.48l10.48,9.78c1.27,1.18,1.34,3.17,0.16,4.44c-1.18,1.27-3.17,1.34-4.44,0.16l-10.48-9.79 l-9.78,10.48c-1.18,1.27-3.17,1.34-4.44,0.16c-1.27-1.18-1.34-3.17-0.16-4.44L82,101.34L71.52,91.55L71.52,91.55z\" />\r\n              </g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.VOID' | translate }}\r\n          </a>\r\n        </li>\r\n\r\n\r\n        <li\r\n          (click)=\"!(posCheck && (posCheck.last_action != lastActionPosted || posCheck.print_count > 0 || !canGiveDiscount || posCheck?.pos_ang_category_id)) && onDisountClick()\"\r\n          [class.unavlbl_btn]=\"posCheck && (posCheck.last_action != lastActionPosted || posCheck.print_count > 0 || !canGiveDiscount || posCheck?.pos_ang_category_id)\">\r\n          <a class=\"form-control\" tabindex=\"0\" href=\"javascript:void(0)\">\r\n            <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.88 122.88\">\r\n              <title>offer</title>\r\n              <path\r\n                d=\"M13.7,49.54,8,33.63a3.47,3.47,0,0,1,2.1-4.44,3.93,3.93,0,0,1,.81-.18L27.3,27.3,29,10.79a3.47,3.47,0,0,1,3.81-3.1,2.9,2.9,0,0,1,.71.15l16,4.11L58.8,1.21A3.49,3.49,0,0,1,63.7.83a3.91,3.91,0,0,1,.61.68l9,12.17,15.91-5.8A3.48,3.48,0,0,1,93.69,10a3.44,3.44,0,0,1,.19.83l1.7,16.51L112.09,29a3.47,3.47,0,0,1,2.71,5.09l-7.3,13.77,14,10.83a3.46,3.46,0,0,1,.62,4.87,3.18,3.18,0,0,1-.72.7L109.2,73.33,115,89.24a3.48,3.48,0,0,1-2.08,4.45,3.44,3.44,0,0,1-.83.19l-16.51,1.7L93.88,112a3.48,3.48,0,0,1-3.81,3.1,3.61,3.61,0,0,1-1.27-.38L75,107.49l-10.85,14a3.46,3.46,0,0,1-5.57-.1l-9.08-12.25-15.91,5.74A3.47,3.47,0,0,1,29,112.05L27.3,97.29,10.53,93.82a3.46,3.46,0,0,1-2.7-4.09A2.62,2.62,0,0,1,8,89.11L13.7,73.34,1.4,64.23a3.48,3.48,0,0,1-.72-4.86,3.42,3.42,0,0,1,.77-.75L13.7,49.54Zm62.39-6.2L55.66,78.86a6.86,6.86,0,0,1-.67,1,2.76,2.76,0,0,1-.82.71,3.14,3.14,0,0,1-1.1.31,10.25,10.25,0,0,1-1.31.07H47.9a1.16,1.16,0,0,1-1.16-1.15,1.18,1.18,0,0,1,.21-.67L67.39,43.57a7.2,7.2,0,0,1,.65-1l0-.06a2.84,2.84,0,0,1,.78-.65A3.15,3.15,0,0,1,70,41.59h0a10,10,0,0,1,1.29-.07h3.85a1.16,1.16,0,0,1,1.16,1.15,1.18,1.18,0,0,1-.21.67Zm-7.4,36.07c-1.72-1.8-2.59-4.56-2.59-8.28s.87-6.48,2.59-8.28,4.52-2.7,8.4-2.7,6.68.9,8.4,2.7,2.58,4.56,2.58,8.28-.86,6.48-2.58,8.28-4.52,2.7-8.4,2.7-6.68-.9-8.4-2.7Zm6-11.44v8h1.3a16.21,16.21,0,0,0,3.27-.26c.22-.18.33-.67.33-1.46v-8h-3a3,3,0,0,0-1.58.26c-.21.18-.32.67-.32,1.46ZM37.39,60q-2.58-2.7-2.58-8.28t2.58-8.28q2.58-2.7,8.4-2.7t8.4,2.7q2.58,2.7,2.58,8.28T54.19,60q-2.58,2.7-8.4,2.7T37.39,60Zm6-11.44v8h3a2.93,2.93,0,0,0,1.57-.27c.22-.18.33-.67.33-1.46v-8H46.93a15.28,15.28,0,0,0-3.26.27c-.22.17-.33.66-.33,1.45ZM16,35.46l5,14a3.48,3.48,0,0,1-1.14,4.13L9.3,61.44,19.9,69.3a3.48,3.48,0,0,1,1.2,4L15.84,87.84,31,91a3.48,3.48,0,0,1,3,3.05l1.49,12.9,14.05-5.06A3.47,3.47,0,0,1,53.59,103l7.91,10.68,9.74-12.61A3.48,3.48,0,0,1,75.69,100l11.81,6.21L89,92.1A3.47,3.47,0,0,1,92.06,89L107,87.43,101.8,73.32a3.46,3.46,0,0,1,1.18-4l10.67-7.92-12.52-9.67A3.5,3.5,0,0,1,100,47.18l6.26-11.8L92.1,33.93A3.48,3.48,0,0,1,89,30.82L87.43,15.93,73.32,21.08a3.48,3.48,0,0,1-4-1.18L61.24,9l-7.8,9.07a3.48,3.48,0,0,1-3.5,1.1L35.5,15.5,33.92,30.78a3.47,3.47,0,0,1-3.1,3.14L16,35.46Z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.DISCOUNT' | translate }}\r\n          </a>\r\n        </li>\r\n        <li (click)=\"onANGClick()\"\r\n          [class.unavlbl_btn]=\"(!(posCheck && (posCheck.print_count <= 0 || posCheck.last_action != lastActionPosted)))\">\r\n          <a class=\"form-control\" tabindex=\"0\" href=\"javascript:void(0)\">\r\n            <svg enable-background=\"new 0 0 26 26\" version=\"1.1\" viewBox=\"0 0 26 26\" xml:space=\"preserve\"\r\n              xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\r\n              <path\r\n                d=\"M16.8035889,14.4605103c2.0820923-1.2811279,3.4776611-3.5723267,3.4776611-6.1885376  C20.28125,4.262207,17.0146484,1,13,1S5.71875,4.262207,5.71875,8.2719727c0,2.6162109,1.3955688,4.9074097,3.4776611,6.1885376  c-4.4957886,1.0071411-7.6505127,3.7583618-7.6505127,7.0878296C1.5458984,24.2729492,8.7460938,25,13,25  s11.4541016-0.7270508,11.4541016-3.4516602C24.4541016,18.2188721,21.2993774,15.4676514,16.8035889,14.4605103z   M7.21875,8.2719727C7.21875,5.0893555,9.8125,2.5,13,2.5s5.78125,2.5893555,5.78125,5.7719727S16.1875,14.043457,13,14.043457  S7.21875,11.4545898,7.21875,8.2719727z M13,23.5c-6.1149902,0-9.7753906-1.289978-9.9536743-1.9567261  C3.0509644,18.2345581,7.5145874,15.543457,13,15.543457c5.4848633,0,9.9481201,2.6906128,9.9536133,5.9988403  C22.7797852,22.2085571,19.1190186,23.5,13,23.5z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.A&G' | translate }}\r\n          </a>\r\n        </li>\r\n        <li (click)=\"onBackClick()\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\"\r\n              y=\"0px\" viewBox=\"0 0 122.88 98.86\" style=\"enable-background:new 0 0 122.88 98.86\" xml:space=\"preserve\">\r\n              <style type=\"text/css\">\r\n                .st0 {\r\n                  fill-rule: evenodd;\r\n                  clip-rule: evenodd;\r\n                }\r\n              </style>\r\n              <g>\r\n                <path class=\"st0\"\r\n                  d=\"M0,49.43l48.93,49.43V74.23c30.94-6.41,55.39,0.66,73.95,24.19c-3.22-48.4-36.29-71.76-73.95-73.31V0L0,49.43 L0,49.43L0,49.43z\" />\r\n              </g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.BACK' | translate }}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n\r\n    <!-- SOF Void reason modal -->\r\n    <div class=\"modal fade\" id=\"void_modal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ 'COMMON_LABEL.VOID_REASON' | translate }}</h5>\r\n            <button type=\"button\" #closeVRModalBtn id=\"closeVRModalBtn\" class=\"btn-close\" data-bs-dismiss=\"modal\"\r\n              aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-10 selct_ans_blk\">\r\n                <label>{{ 'COMMON_LABEL.SELECT_REASON' | translate }}</label>\r\n                <a href=\"javascript:void(0)\" *ngFor=\"let reason of voidReasonList\"\r\n                  [class.selected]=\"reason.id == selectedVoidReason\" (click)=\"onVoidReasonSelection(reason)\">\r\n                  {{ reason.description }}\r\n                </a>\r\n              </div>\r\n              <div class=\"col-md-8 generic_textarea\">\r\n                <label>{{ 'COMMON_LABEL.OTHER_REASON' | translate }}</label>\r\n                <textarea [(ngModel)]=\"voidReasonNote\" [maxlength]=\"maxChars\"></textarea>\r\n                <span>{{maxChars - voidReasonNote.length}} {{ 'COMMON_LABEL.CHARACTERS_LEFT' | translate }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <div class=\"button_blk\">\r\n              <button type=\"button\" class=\"btn gry_btn\"\r\n                [class.unavlbl_btn]=\"posCheck == null || (posCheck.print_count <= 0 || posCheck.last_action != lastActionPosted) || !canVoidBill ||(!voidReasonNote && !selectedVoidReason)\"\r\n                [disabled]=\"posCheck == null || (posCheck.print_count <= 0 || posCheck.last_action != lastActionPosted) || !canVoidBill ||(!voidReasonNote && !selectedVoidReason)\"\r\n                (click)=\"onVoidClick(false)\">\r\n                <i class=\"fas fas fa-check-circle\"></i>{{ 'ACTION_BUTTON.VOID' | translate }}\r\n              </button>\r\n\r\n              <button type=\"button\" class=\"btn gry_btn\"\r\n                [class.unavlbl_btn]=\"posCheck == null || (posCheck.print_count <= 0 || posCheck.last_action != lastActionPosted) || !canVoidBill ||(!voidReasonNote && !selectedVoidReason)\"\r\n                [disabled]=\"posCheck == null || (posCheck.print_count <= 0 || posCheck.last_action != lastActionPosted) || !canVoidBill ||(!voidReasonNote && !selectedVoidReason)\"\r\n                (click)=\"onVoidClick(true)\">\r\n                <i class=\"fas fas fa-check-circle\"></i>{{ 'ACTION_BUTTON.VOID_AND_COPY_CHECK' | translate }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- EOF Void reason modal -->\r\n\r\n    <!-- SOF Tip modal -->\r\n    <div class=\"modal fade\" id=\"tips_modal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ 'ACTION_BUTTON.TIPS' | translate }}</h5>\r\n            <button type=\"button\" #closeTipsModalBtn id=\"closeTipsModalBtn\" class=\"btn-close\" data-bs-dismiss=\"modal\"\r\n              aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-4 col-md-4 col-lg-4 mb-15\">\r\n                <div class=\"generic_inpt mb-0\">\r\n                  <label>{{ 'COMMON_LABEL.AMOUNT' | translate }}</label>\r\n                  <input type=\"number\" [(ngModel)]=\"tipsAmount\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <div class=\"button_blk\">\r\n              <button type=\"button\" class=\"btn gry_btn\" (click)=\"saveTips()\"\r\n                [class.unavlbl_btn]=\"(posCheck && (posCheck.last_action != lastActionPosted)) || tipsAmount <= 0\">\r\n                <i class=\"fas fas fa-check-circle\"></i>{{ 'ACTION_BUTTON.SAVE' | translate }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- EOF Tip modal-->\r\n  </main>\r\n</div>","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { Router, RouterLink } from '@angular/router';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { environment } from '../../environments/environment';\r\nimport { AlertService } from '../services/alert.service';\r\nimport { PointerService } from '../services/pointer.service';\r\nimport { EncryptionService } from '../services/encryption.service';\r\nimport { KitchenService } from '../services/kitchen.service';\r\ndeclare function toggleSubscriptionModal(): any;\r\ndeclare function toggleBusinessDateModal(): any;\r\n@Component({\r\n  selector: 'app-landing',\r\n  templateUrl: './landing.component.html'\r\n})\r\nexport class LandingComponent implements OnInit {\r\n  reportsUrl: string = environment.REPORTS_URL;\r\n  posKitchens: any = localStorage.getItem(\"posKitchens\");\r\n  diffDays: number = 0;\r\n  currentBusinessDate: string;\r\n  @ViewChild('closeSubscriptionModalBtn') closeTableTransferModalBtn: ElementRef;\r\n  @ViewChild('closeNightAuditModalBtn') closeNightAuditModalBtn: ElementRef;\r\n\r\n  constructor(private authService: AuthService,\r\n    private router: Router,\r\n    private alertService: AlertService,\r\n    private pointerService: PointerService,\r\n    private encryptionService: EncryptionService,\r\n    private kitchenService: KitchenService) { }\r\n\r\n  ngOnInit(): void {\r\n    let string = this.encryptionService.encryptionAES(\"MCA_MCA_AIR_2023-11-30\")\r\n    if (!(this.posKitchens?.length > 0)) {\r\n      this.kitchenService.getPosKitchens().subscribe(\r\n        (response) => {\r\n          localStorage.setItem(\"posKitchens\", JSON.stringify(response));\r\n        }, (error) => {\r\n          console.log(error);\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n  onPosSelection(): void {\r\n    this.authService.getUserOutlets(this.authService.userValue.id)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          // this.checkBusinessDate();\r\n          this.router.navigate(['/outlet']);\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        },\r\n      });\r\n  }\r\n\r\n  isValidLicence() {\r\n    //this.router.navigate(['/outlet']);\r\n    this.pointerService.getAll()\r\n      .subscribe({\r\n        next: (pointerData: any) => {\r\n          if (pointerData) {\r\n            let businessDate = pointerData.filter(t => {\r\n              return t.code.toLowerCase() == environment.POINTER_BUSINESS_DATE.toLowerCase();\r\n            });\r\n\r\n            if (businessDate && businessDate.length > 0) {\r\n              businessDate = new Date(businessDate[0].pointer_value);\r\n            }\r\n\r\n            let pointerKey = pointerData.filter(t => {\r\n              return t.code.toLowerCase() == environment.POINTER_LICENCE_KEY.toLowerCase();\r\n            });\r\n            if (pointerKey && pointerKey.length > 0) {\r\n              pointerKey = pointerKey[0].pointer_value;\r\n            }\r\n\r\n            let licenceKey = this.encryptionService.decryptionAES(pointerKey);\r\n\r\n            let saasCompanyCode = licenceKey.split(\"_\")[0];\r\n            let companyCode = licenceKey.split(\"_\")[1];\r\n            let branchCode = licenceKey.split(\"_\")[2];\r\n            let validDate: Date;\r\n\r\n            if (!isNaN(licenceKey.split(\"_\")[3])) {\r\n              validDate = new Date(parseFloat(licenceKey.split(\"_\")[3]))\r\n            } else {\r\n              this.alertService.error(environment.INVALID_LICENCE_KEY);\r\n              return;\r\n            }\r\n\r\n            if (this.authService.userValue.saas_company_code.toUpperCase() == saasCompanyCode.toUpperCase()\r\n              && this.authService.userValue.company_code.toUpperCase() == companyCode.toUpperCase()\r\n              && this.authService.userValue.branch_code.toUpperCase() == branchCode.toUpperCase()) {\r\n\r\n              if (validDate > businessDate) {\r\n                let diff = Math.abs(validDate.getTime() - businessDate.getTime());\r\n                this.diffDays = Math.ceil(diff / (1000 * 3600 * 24));\r\n                console.log(\"Diff in Days: \" + this.diffDays);\r\n\r\n                if (this.diffDays <= +environment.SUBSCRIPTION_ALERT_DAYS_COUNT) {\r\n                  toggleSubscriptionModal();\r\n                  //this.alertService.error(environment.SUBSCRIPTION_ALERT + this.diffDays + \" days\");\r\n                } else {\r\n                  this.router.navigate(['/outlet']);\r\n                }\r\n              } else {\r\n                this.alertService.error(environment.SUBSCRIPTION_EXPIRE_MESSAGE);\r\n              }\r\n            } else {\r\n              this.alertService.error(environment.INVALID_COMPANY_INFO);\r\n            }\r\n          }\r\n          else {\r\n            this.alertService.error(environment.INVALID_LICENCE_KEY);\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      })\r\n  }\r\n\r\n  getTargetUrl() {\r\n    let userData: any = JSON.parse(localStorage.getItem(\"userData\"));\r\n    let authToken: any = userData?.token;\r\n    let targetUrl = `${document.location.protocol}//${document.location.hostname}:${environment.INNDCSURLPORT}/auth?key_auth=${authToken}`;\r\n    return targetUrl;\r\n  }\r\n\r\n  getTargetUrlForKOTDisplay() {\r\n    let userData: any = JSON.parse(localStorage.getItem(\"userData\"));\r\n    let authToken: any = userData?.token;\r\n    let targetUrl = `${document.location.protocol}//${document.location.hostname}:${environment.KOTDISPLAY}/auth?key_auth=${authToken}`;\r\n    return targetUrl;\r\n  }\r\n\r\n  redirectToOutletSelection(): void {\r\n    this.closeTableTransferModalBtn.nativeElement.click();\r\n    this.router.navigate(['/outlet']);\r\n  }\r\n\r\n  checkBusinessDate(): void {\r\n    this.pointerService.getByCode(environment.POINTER_BUSINESS_DATE)\r\n      .subscribe({\r\n        next: (pointerData: any) => {\r\n          if (pointerData && pointerData != null && pointerData.pointer_value != \"\") {\r\n            this.currentBusinessDate = pointerData.pointer_value;\r\n            let systemDate = new Date();\r\n            if (systemDate > new Date(this.currentBusinessDate)) {\r\n              toggleBusinessDateModal();\r\n            } else {\r\n              this.isValidLicence();\r\n            }\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if (error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      })\r\n  }\r\n\r\n  cancelNightAudit(): void {\r\n    this.isValidLicence();\r\n    this.closeNightAuditModalBtn.nativeElement.click();\r\n  }\r\n\r\n  changeBusinessDate(): void {\r\n    this.pointerService.changeBusinessDate(this.currentBusinessDate, this.authService.userValue.saas_company_id, this.authService.userValue.company_id, this.authService.userValue.branch_id).subscribe({\r\n      next: (data: any) => {\r\n        this.checkBusinessDate(); //keep checking business date till today's date\r\n      }, error: (error: any) => {\r\n        this.closeNightAuditModalBtn.nativeElement.click();\r\n        let errorMsg: string[] = Object.values(error);\r\n\r\n        errorMsg.forEach(msg => {\r\n          this.alertService.error(msg);\r\n        });\r\n      }\r\n    })\r\n  }\r\n\r\n  // onPosSelection(): void {\r\n  //   this.authService.getUserOutlets(this.authService.userValue.id).subscribe(\r\n  //     data => {\r\n  //       if (data && data.length == 1) {\r\n  //         //this.posRestaurantId = data[0].pos_restaurant_id;\r\n  //         //this.outletService.clearOutletData();\r\n\r\n  //         // this.outletService.getLayout(this.posRestaurantId.toString()).subscribe((tableData) => {\r\n  //         //   if (tableData && tableData.length > 0) {\r\n  //         //     if(environment.REDIRECT_TO_DEFAULT_LAYOUT === \"1\") {\r\n  //         //       this.selectedTable = tableData[0];\r\n  //         //       this.redirectToBilling();\r\n  //         //     }\r\n  //         //     else {\r\n  //         //       this.showLayoutModal = true;\r\n  //         //       this.tableArray = tableData;\r\n  //         //     }                      \r\n  //         //   }\r\n  //         //   else {\r\n  //         //     this.redirectToBilling();\r\n  //         //   }\r\n  //         // });\r\n  //         this.router.navigate(['/outlet']);\r\n  //       }\r\n  //       else {\r\n  //         this.router.navigate(['/outlet']);\r\n  //       }\r\n  //     }\r\n  //   )\r\n  // }\r\n}\r\n","<div class=\"wrapg_blk\">\r\n  <app-header></app-header>\r\n  <main class=\"main_cnt_blk\">\r\n    <section class=\"select_optn_parnt\">\r\n      <div class=\"row\">\r\n        <div class=\"col-sm-4 col-md-3 col-xl-2 mb-15\">\r\n          <div class=\"select_out_blk select_optn_inr\" (click)=\"onPosSelection()\">\r\n            <a class=\"form-control pos_icn\" tabindex=\"0\">Pos</a>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-4 col-md-3 col-xl-2 mb-15\">\r\n          <div class=\"select_out_blk select_optn_inr\">\r\n            <a target=\"_blank\" class=\"form-control users_icn\" tabindex=\"0\"\r\n              href=\"{{reportsUrl + '/presets/user'}}\">User</a>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-4 col-md-3 col-xl-2 mb-15\">\r\n          <div class=\"select_out_blk select_optn_inr\">\r\n            <a target=\"_blank\" class=\"form-control preset_icn\" tabindex=\"0\"\r\n              href=\"{{reportsUrl + '/dashboard'}}\">Presets</a>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-4 col-md-3 col-xl-2 mb-15\">\r\n          <div class=\"select_out_blk select_optn_inr\">\r\n            <a target=\"_blank\" class=\"form-control report_icn\" tabindex=\"0\"\r\n              href=\"{{reportsUrl + '/reports/cashiers-scroll'}}\">Reports</a>\r\n          </div>\r\n        </div>\r\n        <!-- <div class=\"col-sm-4 col-md-3 col-xl-2 mb-15\">\r\n          <div class=\"select_out_blk select_optn_inr\">\r\n            <a target=\"_blank\" class=\"form-control report_icn\" tabindex=\"0\" [href]=\"getTargetUrl()\"\r\n              rel=\"noopener noreferrer\">InnDCS</a>\r\n          </div>\r\n        </div> -->\r\n        <!-- <div class=\"col-sm-4 col-md-3 col-xl-2 mb-15\">\r\n          <div class=\"select_out_blk select_optn_inr\">\r\n            <a target=\"_blank\" class=\"form-control report_icn\" tabindex=\"0\" [href]=\"getTargetUrlForKOTDisplay()\"\r\n              rel=\"noopener noreferrer\">KOT display</a>\r\n          </div>\r\n        </div> -->\r\n      </div>\r\n    </section>\r\n  </main>\r\n</div>\r\n\r\n<!-- SOF Table Transfer modal -->\r\n<div class=\"modal fade\" id=\"nightAuditModal\" tabindex=\"-1\" aria-labelledby=\"exampleNAModalLabel\" aria-modal=\"true\">\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"exampleNAModalLabel\">Night audit</h5>\r\n        <button type=\"button\" #closeNightAuditModalBtn id=\"closeNightAuditModalBtn\" class=\"btn-close\"\r\n          data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <h2 class=\"title_cls\">Business date is less than the system date.</h2>\r\n        <h2 class=\"title_cls\">Current business date is : {{ currentBusinessDate }}</h2>\r\n        <h2 class=\"title_cls\">Do you want to change business date now?</h2>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <div class=\"button_blk\">\r\n          <button type=\"button\" class=\"btn lg_gry_btn\" (click)=\"changeBusinessDate()\">\r\n            <i class=\"fas fa-check-circle\"></i>Yes\r\n          </button>\r\n          <button type=\"button\" class=\"btn lg_gry_btn\" (click)=\"cancelNightAudit()\"><i\r\n              class=\"fas fa-times-circle\"></i>No</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- EOF Table Transfer modal -->\r\n\r\n<div class=\"modal fade\" id=\"subscriptionModal\" tabindex=\"-1\" aria-labelledby=\"exampleSubsModalLabel\" aria-modal=\"true\">\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"exampleSubsModalLabel\">Subscription alert</h5>\r\n        <button type=\"button\" #closeSubscriptionModalBtn id=\"closeSubscriptionModalBtn\" class=\"btn-close\"\r\n          data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <h2 class=\"title_cls\">Your subscription expires in {{ diffDays }} days.</h2>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <div class=\"button_blk\">\r\n          <button type=\"button\" class=\"btn gry_btn\" (click)=\"redirectToOutletSelection()\">\r\n            <i class=\"fas fa-check-circle\"></i>Ok\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { User } from \"./user.model\";\r\n\r\nexport class AccountAddress {\r\n\tconstructor() { }\r\n\r\n  private _id: number;\r\n\tprivate _saas_company_id: number;\r\n  private _company_id: number;\r\n  private _branch_id: number;\r\n\tprivate _address_type_id: number;\r\n\tprivate _address1: string;\r\n  private _address2: string;\r\n  private _address3: string;\r\n  private _city_id: number;\r\n  private _state_id: number;\r\n\tprivate _country_id: number;\r\n  private _zip: string;\r\n\r\n  private _city_name: string;\r\n  private _state_name: string;\r\n  private _country_name: string;\r\n\r\n  public get id(): number {\r\n    return this._id;\r\n  }\r\n  public set id(value: number) {\r\n    this._id = value;\r\n  }\r\n  \r\n\tpublic get saas_company_id(): number {\r\n    return this._saas_company_id;\r\n  }\r\n  public set saas_company_id(value: number) {\r\n    this._saas_company_id = value;\r\n  }\r\n\r\n  public get company_id(): number {\r\n    return this._company_id;\r\n  }\r\n  public set company_id(value: number) {\r\n    this._company_id = value;\r\n  }\r\n  \r\n  public get branch_id(): number {\r\n    return this._branch_id;\r\n  }\r\n  public set branch_id(value: number) {\r\n    this._branch_id = value;\r\n  }\r\n\r\n\tpublic get address_type_id(): number {\r\n\t\treturn this._address_type_id;\r\n\t}\r\n\tpublic set address_type_id(value: number) {\r\n\t\tthis._address_type_id = value;\r\n\t}\r\n\r\n\tpublic get address1(): string {\r\n    return this._address1;\r\n  }\r\n  public set address1(value: string) {\r\n    this._address1 = value;\r\n  }\r\n  \r\n  public get address2(): string {\r\n    return this._address2;\r\n  }\r\n  public set address2(value: string) {\r\n    this._address2 = value;\r\n  }\r\n\r\n  public get address3(): string {\r\n    return this._address3;\r\n  }\r\n  public set address3(value: string) {\r\n    this._address3 = value;\r\n  }\r\n  \r\n  public get state_id(): number {\r\n    return this._state_id;\r\n  }\r\n  public set state_id(value: number) {\r\n    this._state_id = value;\r\n  }\r\n\r\n\tpublic get city_id(): number {\r\n\t\treturn this._city_id;\r\n\t}\r\n\tpublic set city_id(value: number) {\r\n\t\tthis._city_id = value;\r\n\t}\r\n\tpublic get country_id(): number {\r\n\t\treturn this._country_id;\r\n\t}\r\n\tpublic set country_id(value: number) {\r\n\t\tthis._country_id = value;\r\n\t}\r\n\tpublic get zip(): string {\r\n\t\treturn this._zip;\r\n\t}\r\n\tpublic set zip(value: string) {\r\n\t\tthis._zip = value;\r\n\t}\r\n\r\n\r\n  public get city_name(): string {\r\n    return this._city_name;\r\n  }\r\n  public set city_name(value: string) {\r\n    this._city_name = value;\r\n  }\r\n  \r\n  public get state_name(): string {\r\n    return this._state_name;\r\n  }\r\n  public set state_name(value: string) {\r\n    this._state_name = value;\r\n  }\r\n  \r\n  public get country_name(): string {\r\n    return this._country_name;\r\n  }\r\n  public set country_name(value: string) {\r\n    this._country_name = value;\r\n  }\r\n  \r\n\tpublic assignUserProperties(user: User) {\r\n    this._saas_company_id = user.saas_company_id;\r\n    this._company_id = user.company_id;\r\n    this._branch_id = user.branch_id;\r\n  }\r\n}","import { User } from \"./user.model\";\r\n\r\nexport class AccountContactNumber {\r\n\tconstructor() { }\r\n\r\n\tprivate _saas_company_id: number;\r\n\tprivate _company_id: number;\r\n\tprivate _branch_id: number;\r\n\tprivate _contact_number_type_id: number;\r\n\tprivate _contact_number_value: string;\r\n\r\n\tpublic get saas_company_id(): number {\r\n    return this._saas_company_id;\r\n  }\r\n  public set saas_company_id(value: number) {\r\n    this._saas_company_id = value;\r\n  }\r\n\r\n  public get company_id(): number {\r\n    return this._company_id;\r\n  }\r\n  public set company_id(value: number) {\r\n    this._company_id = value;\r\n  }\r\n  \r\n  public get branch_id(): number {\r\n    return this._branch_id;\r\n  }\r\n  public set branch_id(value: number) {\r\n    this._branch_id = value;\r\n  }\r\n\r\n\tpublic get contact_number_type_id(): number {\r\n\t\treturn this._contact_number_type_id;\r\n\t}\r\n\tpublic set contact_number_type_id(value: number) {\r\n\t\tthis._contact_number_type_id = value;\r\n\t}\r\n\t\r\n\tpublic get contact_number_value(): string {\r\n\t\treturn this._contact_number_value;\r\n\t}\r\n\tpublic set contact_number_value(value: string) {\r\n\t\tthis._contact_number_value = value;\r\n\t}\r\n\r\n\tpublic assignUserProperties(user: User) {\r\n    this._saas_company_id = user.saas_company_id;\r\n    this._company_id = user.company_id;\r\n    this._branch_id = user.branch_id;\r\n  }\r\n\r\n}","import { environment } from \"../../environments/environment\";\r\nimport { AccountAddress } from './account-address.model';\r\nimport { AccountContactNumber } from './account-contact-number.model';\r\nimport { User } from \"./user.model\";\r\n\r\nexport class Account {\r\n  constructor() {\r\n    this._pos_ind = true;\r\n    this._account_type = environment.ACCOUNT_PROCESSING_TYPE_INDIVIDUAL;\r\n    this._processing_type = environment.ACCOUNT_PROCESSING_TYPE_INDIVIDUAL;\r\n    this._account_contact_number = [];\r\n    this._account_address = [];\r\n  }\r\n\r\n  private _id: number;\r\n  private _saas_company_id: number;\r\n  private _company_id: number;\r\n  private _branch_id: number;\r\n  \r\n  private _title: string;\r\n  private _first_name: string;\r\n  private _last_name: string;\r\n  private _pos_ind: boolean;\r\n  private _account_type: string;\r\n  private _processing_type: string;\r\n  private _account_address: AccountAddress[];\r\n  private _account_contact_number: AccountContactNumber[];\r\n\r\n  public get saas_company_id(): number {\r\n    return this._saas_company_id;\r\n  }\r\n  public set saas_company_id(value: number) {\r\n    this._saas_company_id = value;\r\n  }\r\n\r\n  public get company_id(): number {\r\n    return this._company_id;\r\n  }\r\n  public set company_id(value: number) {\r\n    this._company_id = value;\r\n  }\r\n  \r\n  public get branch_id(): number {\r\n    return this._branch_id;\r\n  }\r\n  public set branch_id(value: number) {\r\n    this._branch_id = value;\r\n  }\r\n\r\n  public get id(): number {\r\n    return this._id;\r\n  }\r\n  public set id(value: number) {\r\n    this._id = value;\r\n  }\r\n\r\n  public get title(): string {\r\n    return this._title;\r\n  }\r\n  public set title(value: string) {\r\n    this._title = value;\r\n  }\r\n  \r\n  public get first_name(): string {\r\n    return this._first_name;\r\n  }\r\n  public set first_name(value: string) {\r\n    this._first_name = value;\r\n  }\r\n  \r\n  public get last_name(): string {\r\n    return this._last_name;\r\n  }\r\n  public set last_name(value: string) {\r\n    this._last_name = value;\r\n  }\r\n\r\n  public get pos_ind(): boolean {\r\n    return this._pos_ind;\r\n  }\r\n  public set pos_ind(value: boolean) {\r\n    this._pos_ind = value;\r\n  }\r\n\r\n  public get processing_type(): string {\r\n    return this._processing_type;\r\n  }\r\n  public set processing_type(value: string) {\r\n    this._processing_type = value;\r\n  }\r\n\r\n  public get account_type(): string {\r\n    return this._account_type;\r\n  }\r\n  public set account_type(value: string) {\r\n    this._account_type = value;\r\n  }\r\n\r\n  public get account_contact_number(): AccountContactNumber[] {\r\n    return this._account_contact_number;\r\n  }\r\n  public set account_contact_number(value: AccountContactNumber[]) {\r\n    this._account_contact_number = value;\r\n  }\r\n  \r\n  public get account_address(): AccountAddress[] {\r\n    return this._account_address;\r\n  }\r\n  public set account_address(value: AccountAddress[]) {\r\n    this._account_address = value;\r\n  }\r\n  \r\n  public assignUserProperties(user: User) {\r\n    this._saas_company_id = user.saas_company_id;\r\n    this._company_id = user.company_id;\r\n    this._branch_id = user.branch_id;\r\n  }\r\n\r\n  public static createJson(account: Account) {\r\n    const addresses = [];\r\n    const contactNumbers = [];\r\n\r\n    if(account.account_contact_number && account.account_contact_number.length > 0) {\r\n      account.account_contact_number.forEach(element => {\r\n        let objContact = {\r\n          \"saas_company_id\": element.saas_company_id,\r\n          \"company_id\": element.company_id, \r\n          \"branch_id\": element.branch_id, \r\n          \"contact_number_type_id\": element.contact_number_type_id,\r\n          \"contact_number_value\": element.contact_number_value\r\n        }\r\n        contactNumbers.push(objContact);\r\n      });\r\n    }\r\n\r\n    if(account.account_address && account.account_address.length > 0) {\r\n      account.account_address.forEach(element => {\r\n        let objAddress = {\r\n          \"saas_company_id\": element.saas_company_id,\r\n          \"company_id\": element.company_id, \r\n          \"branch_id\": element.branch_id, \r\n          \"address_type_id\": element.address_type_id,\r\n          \"address1\": element.address1,\r\n          \"address2\": element.address2,\r\n          \"address3\": element.address3,\r\n          \"city_id\": element.city_id,\r\n          \"state_id\": element.state_id,\r\n          \"country_id\": element.country_id,\r\n          \"zip\": element.zip\r\n        }\r\n        addresses.push(objAddress);\r\n      });\r\n    }\r\n    \r\n    const objAccount = {\r\n      \"saas_company_id\": account.saas_company_id,\r\n      \"company_id\": account.company_id,\r\n      \"branch_id\": account.branch_id,\r\n      \"title\": account.title,\r\n      \"first_name\": account.first_name,\r\n      \"last_name\": account.last_name,\r\n      \"pos_ind\": account.pos_ind,\r\n      \"account_type\": account.account_type,\r\n      \"processing_type\": account.processing_type,\r\n      \"account_addresses_attributes\": addresses,\r\n      \"account_contact_numbers_attributes\": contactNumbers\r\n    }\r\n    return objAccount;\r\n  }\r\n}","export class AddressType {\r\n  constructor(\r\n    public id: number,\r\n    public description: string\r\n  ) { }\r\n}","export class Alert {\r\n\tid: string;\r\n\ttype: AlertType;\r\n\tmessage: string;\r\n\tautoClose: boolean;\r\n\tkeepAfterRouteChange: boolean;\r\n\tfade: boolean;\r\n\r\n\tconstructor(init?: Partial<Alert>) {\r\n\t\tObject.assign(this, init);\r\n\t}\r\n}\r\n\r\nexport enum AlertType {\r\n\tSuccess,\r\n\tError,\r\n\tInfo,\r\n\tWarning\r\n}","import { PosDiscount } from './pos-discount.model';\r\n\r\nexport class ANG {\r\n  constructor(\r\n    public id: number,\r\n    public code: string,\r\n    public pos_discount_id: number,\r\n    public description: string,\r\n    public pos_discount: PosDiscount\r\n  ) {}\r\n}\r\n","import { Tax } from \"./tax.model\";\r\n\r\nexport class Charge {\r\n  constructor(\r\n    public id: number,\r\n    public code: string,\r\n    public payment_ind: boolean,\r\n    public account_code: string,\r\n    public tax_ind: boolean,\r\n    public dr_cr: string,\r\n    public settlement_process_code: string,\r\n    public print_chage_group_code: string,\r\n    public department_code: string,\r\n    public allowance_allowed_ind: boolean,\r\n    public hsn_sac_code: string,\r\n    public inclusive_of_tax_ind: boolean,\r\n    public description: string,\r\n    public tax_charge_tax_links: Tax[]\r\n  ){}\r\n}","export class City {\r\n  constructor(\r\n    public id: number,\r\n    public code: string,\r\n    public description: string,\r\n    public state_id: number,\r\n    public state_name: string,\r\n    public country_id: number,\r\n    public country_name: string\r\n  ) { }\r\n}","export class OutletBilling {\r\n  constructor(\r\n    public id: number,\r\n    public saas_company_id: number,\r\n    public company_id: number,\r\n    public branch_id: number,\r\n    public pos_restaurant_id: number,\r\n    public restaurant_name_on_check: number,\r\n    public gst_number: string,\r\n    public pan_number: string,\r\n    public hsn_number: string,\r\n    public tin_number: string,\r\n    public cin_number: string,\r\n    public fssai_number: string,\r\n    public place_of_supply: string,\r\n    public state_code: number,\r\n    public check_header_line1: string,\r\n    public check_header_line2: string,\r\n    public address1: string,\r\n    public address2: string,\r\n    public address3: string,\r\n    public zip: string,\r\n    public restaurant_contact: string,\r\n    public restaurant_email: string,\r\n    public gst_declaration: string,\r\n    public declaration: string,\r\n    public upi_url: string,\r\n    public remarks: string,\r\n    public notes: string\r\n  ) { }\r\n}","export class OutletSetting {\r\n  constructor(\r\n    public id: number,\r\n    public pos_restaurant_id: number,\r\n    public default_menu_id: number,\r\n    public card_details_mandetory: boolean,\r\n    public has_multiple_shifts_ind: boolean,\r\n    public allow_item_rate_change_ind: boolean,\r\n    public debit_card_ind: boolean,\r\n    public call_local_after_print_ind: boolean,\r\n    public call_print_after_settle_ind: boolean,\r\n    public prompt_kot_print_on_copy_check_ind: boolean,\r\n    public refresh_interval: number,\r\n    public print_check_by_account_ind: boolean,\r\n    public print_check_default_count: number,\r\n    public print_guest_name_ind: boolean,\r\n    public print_member_id_ind: boolean,\r\n    public guest_name_mandetory_ind: boolean,\r\n    public covers_mandetory_ind: boolean,\r\n    public print_kot_ind: boolean,\r\n    public hsn_sac_number: number,\r\n    public debit_card_in_use_ind: boolean,\r\n    public debit_card_no_start_position: number,\r\n    public debit_card_no_length: number,\r\n    public void_backdated_check_ind: boolean,\r\n    public print_round_off_ind: boolean,\r\n    public thermal_printer_ind: boolean,\r\n    public happy_hour_ind: boolean,\r\n    public allow_excess_amount_ind: boolean,\r\n    public check_server_side_print_ind: boolean,\r\n    public qsr_in_use_ind: boolean,\r\n    public inhouse_delivery_ind: boolean,\r\n    public self_service_ind: boolean,\r\n    public print_kot_after_settlement_ind: boolean,\r\n    public qr_view_menu_ind: boolean,\r\n    public qr_place_order_ind: boolean,\r\n    public kot_client_side_ind: boolean,\r\n    public allowance_backdated_check_ind: boolean,\r\n    public broadcast_kot_status_ind: boolean,\r\n    public broadcast_table_status_ind: boolean,\r\n    public check_print_required_ind: boolean,\r\n    public gst_number: string,\r\n    public pan_number: string,\r\n    public inclusive_of_tax_ind: boolean\r\n  ) {}\r\n}","export class Payment {\r\n  constructor(\r\n    public id: number,\r\n    public code: string,\r\n    public payment_ind: boolean,\r\n    public account_code: string,\r\n    public tax_ind: boolean,\r\n    public dr_cr: string,\r\n    public settlement_process_code: string,\r\n    public gl_code: string,\r\n    public print_charge_group_code: string,\r\n    public department_code: string,\r\n    public allowance_allowed_ind: boolean,\r\n    public hsn_sac_code: string,\r\n    public inclusive_of_tax_ind: boolean,\r\n    public description: string\r\n  ) {}\r\n}","export class Pointer {\r\n  constructor(\r\n    public id: number,\r\n    public code: string,\r\n    public description: string,\r\n    public pointer_value: string\r\n  ) {}\r\n}","import { PointerService } from \"../services/pointer.service\";\r\n\r\nexport class PosCheckChargeDiscount {\r\n  private _id: number;\r\n  private _destroy: number;\r\n  private _pos_check_charge_id: number;\r\n  private _charge_id: number;\r\n  private _currency_id: number;\r\n  private _pos_discount_id: number;\r\n  private _dr_cr: string;\r\n  private _description: string;\r\n  private _serial_number: number;\r\n  private _amount: number;\r\n  private _discount_percentage: number;\r\n\r\n  public get id(): number {\r\n    return this._id;\r\n  }\r\n  public set id(value: number) {\r\n    this._id = value;\r\n  }\r\n\r\n  public get destroy(): number {\r\n    return this._destroy;\r\n  }\r\n  public set destroy(value: number) {\r\n    this._destroy = value;\r\n  }\r\n\r\n  public get pos_check_charge_id(): number {\r\n    return this._pos_check_charge_id;\r\n  }\r\n  public set pos_check_charge_id(value: number) {\r\n    this._pos_check_charge_id = value;\r\n  }\r\n\r\n  public get charge_id(): number {\r\n    return this._charge_id;\r\n  }\r\n  public set charge_id(value: number) {\r\n    this._charge_id = value;\r\n  }\r\n  \r\n  public get currency_id(): number {\r\n    return this._currency_id;\r\n  }\r\n  public set currency_id(value: number) {\r\n    this._currency_id = PointerService.getLocalCurrencyId();\r\n  }\r\n  \r\n  public get pos_discount_id(): number {\r\n    return this._pos_discount_id;\r\n  }\r\n  public set pos_discount_id(value: number) {\r\n    this._pos_discount_id = value;\r\n  }\r\n  \r\n  public get description(): string {\r\n    return this._description;\r\n  }\r\n  public set description(value: string) {\r\n    this._description = value;\r\n  }\r\n\r\n  public get dr_cr(): string {\r\n    return this._dr_cr;\r\n  }\r\n  public set dr_cr(value: string) {\r\n    this._dr_cr = value;\r\n  }\r\n  \r\n  public get serial_number(): number {\r\n    return this._serial_number;\r\n  }\r\n  public set serial_number(value: number) {\r\n    this._serial_number = value;\r\n  }\r\n  \r\n  public get amount(): number {\r\n    return this._amount;\r\n  }\r\n  public set amount(value: number) {\r\n    this._amount = value;\r\n  }\r\n\r\n  public get discount_percentage(): number {\r\n    return this._discount_percentage;\r\n  }\r\n  public set discount_percentage(value: number) {\r\n    this._discount_percentage = value;\r\n  }\r\n}","import { PointerService } from \"../services/pointer.service\";\r\n\r\nexport class PosCheckChargeTax {\r\n  private _id: number;\r\n  private _is_new: boolean;\r\n  private _is_dirty: boolean;\r\n  private _pos_check_charge_id: number;\r\n  private _destroy: number;\r\n  private _charge_id: number;\r\n  private _currency_id: number;\r\n  private _tax_id: number;\r\n  private _tax_percentage: number;\r\n  private _dr_cr: string;\r\n  private _serial_number: number;\r\n  private _amount: number;\r\n  private _description: string;\r\n  private _freeze_ind: boolean;\r\n  private _freeze_at: Date;\r\n  \r\n  constructor() {\r\n    this.is_new = true;\r\n    this.is_dirty = false;\r\n  }\r\n\r\n  public get id(): number {\r\n    return this._id;\r\n  }\r\n  public set id(value: number) {\r\n    this._id = value;\r\n  }\r\n  \r\n  public get destroy(): number {\r\n    return this._destroy;\r\n  }\r\n  public set destroy(value: number) {\r\n    this._destroy = value;\r\n  }\r\n\r\n  public get is_new(): boolean {\r\n    return this._is_new;\r\n  }\r\n  public set is_new(value: boolean) {\r\n    this._is_new = value;\r\n  }\r\n\r\n  public get is_dirty(): boolean {\r\n    return this._is_dirty;\r\n  }\r\n  public set is_dirty(value: boolean) {\r\n    this._is_dirty = value;\r\n  }\r\n\r\n  public get pos_check_charge_id(): number {\r\n    return this._pos_check_charge_id;\r\n  }\r\n  public set pos_check_charge_id(value: number) {\r\n    this._pos_check_charge_id = value;\r\n  }\r\n\r\n  public get freeze_at(): Date {\r\n    return this._freeze_at;\r\n  }\r\n  public set freeze_at(value: Date) {\r\n    this._freeze_at = value;\r\n  }\r\n  public get freeze_ind(): boolean {\r\n    return this._freeze_ind;\r\n  }\r\n  public set freeze_ind(value: boolean) {\r\n    this._freeze_ind = value;\r\n  }\r\n  public get serial_number(): number {\r\n    return this._serial_number;\r\n  }\r\n  public set serial_number(value: number) {\r\n    this._serial_number = value;\r\n  }\r\n\r\n  public get amount(): number {\r\n    return this._amount;\r\n  }\r\n  public set amount(value: number) {\r\n    this._amount = value;\r\n  }\r\n\r\n  public get description(): string {\r\n    return this._description;\r\n  }\r\n  public set description(value: string) {\r\n    this._description = value;\r\n  }\r\n\r\n  public get dr_cr(): string {\r\n    return this._dr_cr;\r\n  }\r\n  public set dr_cr(value: string) {\r\n    this._dr_cr = value;\r\n  }\r\n  public get tax_percentage(): number {\r\n    return this._tax_percentage;\r\n  }\r\n  public set tax_percentage(value: number) {\r\n    this._tax_percentage = value;\r\n  }\r\n  public get tax_id(): number {\r\n    return this._tax_id;\r\n  }\r\n  public set tax_id(value: number) {\r\n    this._tax_id = value;\r\n  }\r\n  public get currency_id(): number {\r\n    return this._currency_id;\r\n  }\r\n  public set currency_id(value: number) {\r\n    this._currency_id = PointerService.getLocalCurrencyId();\r\n  }\r\n  public get charge_id(): number {\r\n    return this._charge_id;\r\n  }\r\n  public set charge_id(value: number) {\r\n    this._charge_id = value;\r\n  }\r\n}","import { PosCheckChargeTax } from \"./pos-check-charge-tax.model\";\r\nimport { PosCheckChargeDiscount } from './pos-check-charge-discount.model';\r\nimport { PointerService } from \"../services/pointer.service\";\r\nimport { Charge } from \"./charge.model\";\r\n\r\nexport class PosCheckCharge {\r\n  private _id: number;\r\n  private _is_new: boolean;\r\n  private _is_dirty: boolean;\r\n  private _destroy: number;\r\n  private _pos_check_id: number;\r\n  private _charge_id: number;\r\n  private _currency_id: number;\r\n  private _dr_cr: string;\r\n  private _serial_number: number;\r\n  private _amount: number;\r\n  private _description: string;\r\n  private _pos_check_charge_taxes: PosCheckChargeTax[];\r\n  private _pos_check_charge_discounts: PosCheckChargeDiscount[];\r\n  private _charge: Charge;\r\n  \r\n  constructor() {\r\n    this.is_new = true;\r\n    this.is_dirty = false;\r\n    this._pos_check_charge_taxes = [];\r\n    this._pos_check_charge_discounts = [];\r\n  }\r\n\r\n  public get pos_check_charge_taxes(): PosCheckChargeTax[] {\r\n    return this._pos_check_charge_taxes;\r\n  }\r\n  public set pos_check_charge_taxes(value: PosCheckChargeTax[]) {\r\n    this._pos_check_charge_taxes = value;\r\n  }\r\n\r\n  public get pos_check_charge_discounts(): PosCheckChargeDiscount[] {\r\n    return this._pos_check_charge_discounts;\r\n  }\r\n  public set pos_check_charge_discounts(value: PosCheckChargeDiscount[]) {\r\n    this._pos_check_charge_discounts = value;\r\n  }\r\n\r\n  public get id(): number {\r\n    return this._id;\r\n  }\r\n  public set id(value: number) {\r\n    this._id = value;\r\n  }\r\n\r\n  public get is_new(): boolean {\r\n    return this._is_new;\r\n  }\r\n  public set is_new(value: boolean) {\r\n    this._is_new = value;\r\n  }\r\n\r\n  public get is_dirty(): boolean {\r\n    return this._is_dirty;\r\n  }\r\n  public set is_dirty(value: boolean) {\r\n    this._is_dirty = value;\r\n  }\r\n\r\n  public get destroy(): number {\r\n    return this._destroy;\r\n  }\r\n  public set destroy(value: number) {\r\n    this._destroy = value;\r\n  }\r\n\r\n  public get pos_check_id(): number {\r\n    return this._pos_check_id;\r\n  }\r\n  public set pos_check_id(value: number) {\r\n    this._pos_check_id = value;\r\n  }\r\n\r\n  public get amount(): number {\r\n    return this._amount;\r\n  }\r\n  public set amount(value: number) {\r\n    this._amount = value;\r\n  }\r\n\r\n  public get description(): string {\r\n    return this._description;\r\n  }\r\n  public set description(value: string) {\r\n    this._description = value;\r\n  }\r\n\r\n  public get serial_number(): number {\r\n    return this._serial_number;\r\n  }\r\n  public set serial_number(value: number) {\r\n    this._serial_number = value;\r\n  }\r\n  public get dr_cr(): string {\r\n    return this._dr_cr;\r\n  }\r\n  public set dr_cr(value: string) {\r\n    this._dr_cr = value;\r\n  }\r\n  public get currency_id(): number {\r\n    return this._currency_id;\r\n  }\r\n  public set currency_id(value: number) {\r\n    this._currency_id = PointerService.getLocalCurrencyId();\r\n  }\r\n  public get charge_id(): number {\r\n    return this._charge_id;\r\n  }\r\n  public set charge_id(value: number) {\r\n    this._charge_id = value;\r\n  }\r\n\r\n  public get charge(): Charge {\r\n    return this._charge;\r\n  }\r\n  public set charge(value: Charge) {\r\n    this._charge = value;\r\n  }\r\n  \r\n}","export class PosCheckDelivery {\r\n\tprivate _id: number;\r\n\tprivate _account_id: number;\r\n\tprivate _account_address_id: number;\r\n\tprivate _account_address_type: string;\r\n\tprivate _first_name: string;\r\n\tprivate _last_name: string;\r\n\tprivate _address1: string;\r\n\tprivate _address2: string;\r\n\tprivate _address3: string;\r\n\tprivate _city: string;\r\n\tprivate _state: string;\r\n\tprivate _country: string;\r\n\tprivate _pincode: string;\r\n\tprivate _delivery_contact_number: string;\r\n\tprivate _delivery_email: string;\r\n\tprivate _delivery_at: Date;\r\n\tprivate _schedule_at: Date;\r\n\tprivate _schedule_ind: boolean;\r\n\tprivate _notes: string;\r\n\r\n\tpublic get id(): number {\r\n\t\treturn this._id;\r\n\t}\r\n\tpublic set id(value: number) {\r\n\t\tthis._id = value;\r\n\t}\r\n\r\n\tpublic get account_id(): number {\r\n\t\treturn this._account_id;\r\n\t}\r\n\tpublic set account_id(value: number) {\r\n\t\tthis._account_id = value;\r\n\t}\r\n\r\n\tpublic get account_address_id(): number {\r\n\t\treturn this._account_address_id;\r\n\t}\r\n\tpublic set account_address_id(value: number) {\r\n\t\tthis._account_address_id = value;\r\n\t}\r\n\r\n\tpublic get account_address_type(): string {\r\n\t\treturn this._account_address_type;\r\n\t}\r\n\tpublic set account_address_type(value: string) {\r\n\t\tthis._account_address_type = value;\r\n\t}\r\n\r\n\tpublic get first_name(): string {\r\n\t\treturn this._first_name;\r\n\t}\r\n\tpublic set first_name(value: string) {\r\n\t\tthis._first_name = value;\r\n\t}\r\n\r\n\tpublic get last_name(): string {\r\n\t\treturn this._last_name;\r\n\t}\r\n\tpublic set last_name(value: string) {\r\n\t\tthis._last_name = value;\r\n\t}\r\n\r\n\tpublic get address1(): string {\r\n\t\treturn this._address1;\r\n\t}\r\n\tpublic set address1(value: string) {\r\n\t\tthis._address1 = value;\r\n\t}\r\n\r\n\tpublic get address2(): string {\r\n\t\treturn this._address2;\r\n\t}\r\n\tpublic set address2(value: string) {\r\n\t\tthis._address2 = value;\r\n\t}\r\n\r\n\tpublic get address3(): string {\r\n\t\treturn this._address3;\r\n\t}\r\n\tpublic set address3(value: string) {\r\n\t\tthis._address3 = value;\r\n\t}\r\n\r\n\tpublic get city(): string {\r\n\t\treturn this._city;\r\n\t}\r\n\tpublic set city(value: string) {\r\n\t\tthis._city = value;\r\n\t}\r\n\r\n\tpublic get state(): string {\r\n\t\treturn this._state;\r\n\t}\r\n\tpublic set state(value: string) {\r\n\t\tthis._state = value;\r\n\t}\r\n\r\n\tpublic get country(): string {\r\n\t\treturn this._country;\r\n\t}\r\n\tpublic set country(value: string) {\r\n\t\tthis._country = value;\r\n\t}\r\n\r\n\tpublic get pincode(): string {\r\n\t\treturn this._pincode;\r\n\t}\r\n\tpublic set pincode(value: string) {\r\n\t\tthis._pincode = value;\r\n\t}\r\n\r\n\tpublic get delivery_contact_number(): string {\r\n\t\treturn this._delivery_contact_number;\r\n\t}\r\n\tpublic set delivery_contact_number(value: string) {\r\n\t\tthis._delivery_contact_number = value;\r\n\t}\r\n\r\n\tpublic get delivery_email(): string {\r\n\t\treturn this._delivery_email;\r\n\t}\r\n\tpublic set delivery_email(value: string) {\r\n\t\tthis._delivery_email = value;\r\n\t}\r\n\r\n\tpublic get delivery_at(): Date {\r\n\t\treturn this._delivery_at;\r\n\t}\r\n\tpublic set delivery_at(value: Date) {\r\n\t\tthis._delivery_at = value;\r\n\t}\r\n\t\r\n\tpublic get schedule_at(): Date {\r\n\t\treturn this._schedule_at;\r\n\t}\r\n\tpublic set schedule_at(value: Date) {\r\n\t\tthis._schedule_at = value;\r\n\t}\r\n\t\r\n\tpublic get schedule_ind(): boolean {\r\n\t\treturn this._schedule_ind;\r\n\t}\r\n\tpublic set schedule_ind(value: boolean) {\r\n\t\tthis._schedule_ind = value;\r\n\t}\r\n\t\r\n\tpublic get notes(): string {\r\n\t\treturn this._notes;\r\n\t}\r\n\tpublic set notes(value: string) {\r\n\t\tthis._notes = value;\r\n\t}\r\n}","import { PosModifier } from './pos-modifier.model';\r\n\r\nexport class PosCheckDetailModifier {\r\n  private _id: number;\r\n  private _pos_check_detail_id: number;\r\n  private _pos_modifier_id: number;\r\n  private _serial_number: number;\r\n  private _charged_ind: boolean;\r\n  private _currency_id: number;\r\n  private _modifier_name_on_check: string;\r\n  private _freeze_ind: false;\r\n  private _freeze_at: Date;\r\n  private _updated_place: string;\r\n  private _pos_modifier: PosModifier;\r\n\r\n  public get id(): number {\r\n    return this._id;\r\n  }\r\n  public set id(value: number) {\r\n    this._id = value;\r\n  }\r\n  \r\n  public get pos_check_detail_id(): number {\r\n    return this._pos_check_detail_id;\r\n  }\r\n  public set pos_check_detail_id(value: number) {\r\n    this._pos_check_detail_id = value;\r\n  }\r\n  \r\n  public get pos_modifier_id(): number {\r\n    return this._pos_modifier_id;\r\n  }\r\n  public set pos_modifier_id(value: number) {\r\n    this._pos_modifier_id = value;\r\n  }\r\n  \r\n  public get serial_number(): number {\r\n    return this._serial_number;\r\n  }\r\n  public set serial_number(value: number) {\r\n    this._serial_number = value;\r\n  }\r\n  \r\n  public get charged_ind(): boolean {\r\n    return this._charged_ind;\r\n  }\r\n  public set charged_ind(value: boolean) {\r\n    this._charged_ind = value;\r\n  }\r\n  \r\n  public get currency_id(): number {\r\n    return this._currency_id;\r\n  }\r\n  public set currency_id(value: number) {\r\n    this._currency_id = value;\r\n  }\r\n  private _amount: number;\r\n  public get amount(): number {\r\n    return this._amount;\r\n  }\r\n  public set amount(value: number) {\r\n    this._amount = value;\r\n  }\r\n  \r\n  public get modifier_name_on_check(): string {\r\n    return this._modifier_name_on_check;\r\n  }\r\n  public set modifier_name_on_check(value: string) {\r\n    this._modifier_name_on_check = value;\r\n  }\r\n  \r\n  public get freeze_ind(): false {\r\n    return this._freeze_ind;\r\n  }\r\n  public set freeze_ind(value: false) {\r\n    this._freeze_ind = value;\r\n  }\r\n  \r\n  public get freeze_at(): Date {\r\n    return this._freeze_at;\r\n  }\r\n  public set freeze_at(value: Date) {\r\n    this._freeze_at = value;\r\n  }\r\n  \r\n  public get updated_place(): string {\r\n    return this._updated_place;\r\n  }\r\n  public set updated_place(value: string) {\r\n    this._updated_place = value;\r\n  }\r\n\r\n  public get pos_modifier(): PosModifier {\r\n    return this._pos_modifier;\r\n  }\r\n  public set pos_modifier(value: PosModifier) {\r\n    this._pos_modifier = value;\r\n  }\r\n}","import { environment } from \"../../environments/environment\";\r\nimport { PointerService } from \"../services/pointer.service\";\r\nimport { PosCheckDetailModifier } from '../models/pos-check-detail-modifier.model';\r\nimport { Charge } from \"./charge.model\";\r\n\r\nexport class PosCheckDetail {\r\n  private _id: number;\r\n  private _pos_check_id: number;\r\n  private _destroy: number;\r\n  private _is_new: boolean;\r\n  private _is_dirty: boolean;\r\n  private _pos_item_id: number;\r\n  private _shift: number;\r\n  private _business_date: Date;\r\n  private _system_time: Date;\r\n  private _pos_restaurant_id: number;\r\n  private _service: string;\r\n  private _charge_id: number;\r\n  private _kot_no: string;\r\n  private _kot_print_ind: boolean;\r\n  private _kot_print_count: number;\r\n  private _void_quantity: number;\r\n  private _void_no: string;\r\n  private _void_by_id: number;\r\n  private _pos_void_reason_id: number;\r\n  private _void_reason_note: string;\r\n  private _void_at: Date;\r\n  private _void_place: string;\r\n  private _last_action: string;\r\n  private _item_description: string;\r\n  private _pos_menu_id: number;\r\n  private _pos_kitchen_id: number;\r\n  private _serial_number: number;\r\n  private _remark: string;\r\n  private _quantity: number;\r\n  private _rate: number;\r\n  private _amount: number;\r\n  private _mrp: number;\r\n  private _currency_id: number;\r\n  private _pos_item_size: string;\r\n  private _pos_item_type: string;\r\n  private _check_series_no: string;\r\n  private _fnb_series_no: string;\r\n  private _pos_item_name_on_check: string;\r\n  private _do_not_print_price_ind: boolean;\r\n  private _freeze_ind: boolean;\r\n  private _freeze_at: Date;\r\n  private _updated_place: string;\r\n  private _lock_version: number;\r\n  private _pos_check_detail_modifiers: PosCheckDetailModifier[];\r\n  private _item_status: string;\r\n  private _charge: Charge;\r\n  private _markedVoid: boolean;\r\n  private _order_status: string;\r\n  private _order_status_code: string;\r\n  private _pos_order_status_id: number;\r\n  private _order_type: any;\r\n\r\n\r\n\r\n\r\n\r\n  constructor() {\r\n    this._business_date = PointerService.getBusinessDate();\r\n    this._system_time = new Date();\r\n    this._last_action = environment.LAST_ACTION_POSTED;\r\n    this._pos_check_detail_modifiers = [];\r\n  }\r\n\r\n  get amount(): number {\r\n    let sum = 0;\r\n\r\n    if (this.pos_check_detail_modifiers.length > 0) {\r\n      this.pos_check_detail_modifiers.forEach(modifier => {\r\n        if (this.void_quantity) {\r\n          sum += (this.quantity - this.void_quantity) * modifier.amount;\r\n        } else {\r\n          sum += this.quantity * modifier.amount;\r\n        }\r\n      });\r\n    }\r\n\r\n    if (this.void_quantity && this.void_quantity != this.quantity) {\r\n      sum += (this.quantity - this.void_quantity) * this.rate;\r\n    } else {\r\n      sum += this.quantity * this.rate;\r\n    }\r\n\r\n    return sum;\r\n  }\r\n  set amount(value: number) {\r\n    this._amount = value;\r\n  }\r\n\r\n  public get order_type(): any {\r\n    return this._order_type;\r\n  }\r\n  public set order_type(value: any) {\r\n    this._order_type = value;\r\n  }\r\n\r\n  public get id(): number {\r\n    return this._id;\r\n  }\r\n  public set id(value: number) {\r\n    this._id = value;\r\n  }\r\n\r\n  public get pos_check_id(): number {\r\n    return this._pos_check_id;\r\n  }\r\n  public set pos_check_id(value: number) {\r\n    this._pos_check_id = value;\r\n  }\r\n\r\n  public get is_new(): boolean {\r\n    return this._is_new;\r\n  }\r\n  public set is_new(value: boolean) {\r\n    this._is_new = value;\r\n  }\r\n\r\n  public get is_dirty(): boolean {\r\n    return this._is_dirty;\r\n  }\r\n  public set is_dirty(value: boolean) {\r\n    this._is_dirty = value;\r\n  }\r\n\r\n  public get destroy(): number {\r\n    return this._destroy;\r\n  }\r\n  public set destroy(value: number) {\r\n    this._destroy = value;\r\n  }\r\n\r\n  public get freeze_at(): Date {\r\n    return this._freeze_at;\r\n  }\r\n  public set freeze_at(value: Date) {\r\n    this._freeze_at = value;\r\n  }\r\n\r\n  public get freeze_ind(): boolean {\r\n    return this._freeze_ind;\r\n  }\r\n  public set freeze_ind(value: boolean) {\r\n    this._freeze_ind = value;\r\n  }\r\n\r\n  public get pos_item_name_on_check(): string {\r\n    return this._pos_item_name_on_check;\r\n  }\r\n  public set pos_item_name_on_check(value: string) {\r\n    this._pos_item_name_on_check = value;\r\n  }\r\n\r\n  public get currency_id(): number {\r\n    return this._currency_id;\r\n  }\r\n  public set currency_id(value: number) {\r\n    this._currency_id = PointerService.getLocalCurrencyId();\r\n  }\r\n\r\n  public get mrp(): number {\r\n    return this._mrp;\r\n  }\r\n  public set mrp(value: number) {\r\n    this._mrp = value;\r\n  }\r\n\r\n  public get rate(): number {\r\n    return this._rate;\r\n  }\r\n  public set rate(value: number) {\r\n    this._rate = value;\r\n  }\r\n\r\n  public get quantity(): number {\r\n    return this._quantity;\r\n  }\r\n  public set quantity(value: number) {\r\n    this._quantity = value;\r\n  }\r\n\r\n  public get void_quantity(): number {\r\n    return this._void_quantity;\r\n  }\r\n  public set void_quantity(value: number) {\r\n    this._void_quantity = value;\r\n  }\r\n\r\n  public get void_no(): string {\r\n    return this._void_no;\r\n  }\r\n  public set void_no(value: string) {\r\n    this._void_no = value;\r\n  }\r\n\r\n  public get void_by_id(): number {\r\n    return this._void_by_id;\r\n  }\r\n  public set void_by_id(value: number) {\r\n    this._void_by_id = value;\r\n  }\r\n\r\n  public get pos_void_reason_id(): number {\r\n    return this._pos_void_reason_id;\r\n  }\r\n  public set pos_void_reason_id(value: number) {\r\n    this._pos_void_reason_id = value;\r\n  }\r\n\r\n  public get void_reason_note(): string {\r\n    return this._void_reason_note;\r\n  }\r\n  public set void_reason_note(value: string) {\r\n    this._void_reason_note = value;\r\n  }\r\n\r\n  public get serial_number(): number {\r\n    return this._serial_number;\r\n  }\r\n  public set serial_number(value: number) {\r\n    this._serial_number = value;\r\n  }\r\n\r\n  public get pos_menu_id(): number {\r\n    return this._pos_menu_id;\r\n  }\r\n  public set pos_menu_id(value: number) {\r\n    this._pos_menu_id = value;\r\n  }\r\n\r\n  public get item_description(): string {\r\n    return this._item_description;\r\n  }\r\n  public set item_description(value: string) {\r\n    this._item_description = value;\r\n  }\r\n\r\n  public get void_at(): Date {\r\n    return this._void_at;\r\n  }\r\n  public set void_at(value: Date) {\r\n    this._void_at = value;\r\n  }\r\n\r\n  public get void_place(): string {\r\n    return this._void_place;\r\n  }\r\n  public set void_place(value: string) {\r\n    this._void_place = value;\r\n  }\r\n\r\n  public get last_action(): string {\r\n    return this._last_action;\r\n  }\r\n  public set last_action(value: string) {\r\n    this._last_action = value;\r\n  }\r\n\r\n  public get charge_id(): number {\r\n    return this._charge_id;\r\n  }\r\n  public set charge_id(value: number) {\r\n    this._charge_id = value;\r\n  }\r\n\r\n  public get kot_no(): string {\r\n    return this._kot_no;\r\n  }\r\n  public set kot_no(value: string) {\r\n    this._kot_no = value;\r\n  }\r\n\r\n  public get kot_print_ind(): boolean {\r\n    return this._kot_print_ind;\r\n  }\r\n  public set kot_print_ind(value: boolean) {\r\n    this._kot_print_ind = value;\r\n  }\r\n\r\n  public get kot_print_count(): number {\r\n    return this._kot_print_count;\r\n  }\r\n  public set kot_print_count(value: number) {\r\n    this._kot_print_count = value;\r\n  }\r\n\r\n  public get pos_restaurant_id(): number {\r\n    return this._pos_restaurant_id;\r\n  }\r\n  public set pos_restaurant_id(value: number) {\r\n    this._pos_restaurant_id = value;\r\n  }\r\n\r\n  public get service(): string {\r\n    return this._service;\r\n  }\r\n  public set service(value: string) {\r\n    this._service = value;\r\n  }\r\n\r\n  public get business_date(): Date {\r\n    return this._business_date;\r\n  }\r\n  public set business_date(value: Date) {\r\n    this._business_date = value;\r\n  }\r\n\r\n  public get system_time(): Date {\r\n    return this._system_time;\r\n  }\r\n  public set system_time(value: Date) {\r\n    this._system_time = value;\r\n  }\r\n\r\n  public get shift(): number {\r\n    return this._shift;\r\n  }\r\n  public set shift(value: number) {\r\n    this._shift = value;\r\n  }\r\n\r\n  public get pos_item_id(): number {\r\n    return this._pos_item_id;\r\n  }\r\n  public set pos_item_id(value: number) {\r\n    this._pos_item_id = value;\r\n  }\r\n\r\n  public get pos_kitchen_id(): number {\r\n    return this._pos_kitchen_id;\r\n  }\r\n  public set pos_kitchen_id(value: number) {\r\n    this._pos_kitchen_id = value;\r\n  }\r\n\r\n  public get remark(): string {\r\n    return this._remark;\r\n  }\r\n  public set remark(value: string) {\r\n    this._remark = value;\r\n  }\r\n\r\n  public get pos_item_size(): string {\r\n    return this._pos_item_size;\r\n  }\r\n  public set pos_item_size(value: string) {\r\n    this._pos_item_size = value;\r\n  }\r\n\r\n  public get pos_item_type(): string {\r\n    return this._pos_item_type;\r\n  }\r\n  public set pos_item_type(value: string) {\r\n    this._pos_item_type = value;\r\n  }\r\n\r\n  public get check_series_no(): string {\r\n    return this._check_series_no;\r\n  }\r\n  public set check_series_no(value: string) {\r\n    this._check_series_no = value;\r\n  }\r\n\r\n  public get fnb_series_no(): string {\r\n    return this._fnb_series_no;\r\n  }\r\n  public set fnb_series_no(value: string) {\r\n    this._fnb_series_no = value;\r\n  }\r\n\r\n  public get do_not_print_price_ind(): boolean {\r\n    return this._do_not_print_price_ind;\r\n  }\r\n  public set do_not_print_price_ind(value: boolean) {\r\n    this._do_not_print_price_ind = value;\r\n  }\r\n\r\n  public get updated_place(): string {\r\n    return this._updated_place;\r\n  }\r\n  public set updated_place(value: string) {\r\n    this._updated_place = value;\r\n  }\r\n\r\n  public get lock_version(): number {\r\n    return this._lock_version;\r\n  }\r\n  public set lock_version(value: number) {\r\n    this._lock_version = value;\r\n  }\r\n\r\n  public get item_status(): string {\r\n    return this._item_status;\r\n  }\r\n  public set item_status(value: string) {\r\n    this._item_status = value;\r\n  }\r\n\r\n  public get pos_check_detail_modifiers(): PosCheckDetailModifier[] {\r\n    return this._pos_check_detail_modifiers;\r\n  }\r\n  public set pos_check_detail_modifiers(value: PosCheckDetailModifier[]) {\r\n    this._pos_check_detail_modifiers = value;\r\n  }\r\n\r\n  public get charge(): Charge {\r\n    return this._charge;\r\n  }\r\n  public set charge(value: Charge) {\r\n    this._charge = value;\r\n  }\r\n\r\n  public get markedVoid(): boolean {\r\n    return this._markedVoid;\r\n  }\r\n  public set markedVoid(value: boolean) {\r\n    this._markedVoid = value;\r\n  }\r\n\r\n  public get order_status_code(): string {\r\n    return this._order_status_code;\r\n  }\r\n  public set order_status_code(value: string) {\r\n    this._order_status_code = value;\r\n  }\r\n\r\n  public get order_status(): string {\r\n    return this._order_status;\r\n  }\r\n  public set order_status(value: string) {\r\n    this._order_status = value;\r\n  }\r\n\r\n  public get pos_order_status_id(): number {\r\n    return this._pos_order_status_id;\r\n  }\r\n  public set pos_order_status_id(value: number) {\r\n    this._pos_order_status_id = value;\r\n  }\r\n\r\n\r\n\r\n}","import { PointerService } from \"../services/pointer.service\";\r\n\r\nexport class PosCheckSettlement {\r\n  private _id: number;\r\n  private _charge_id: number;\r\n  private _currency_id: number;\r\n  private _dr_cr: string;\r\n  private _business_date: Date;\r\n  private _system_time: Date;\r\n  private _system_date: Date;\r\n  private _settlement_type: string;\r\n  private _amount: number;\r\n  private _description: string;\r\n  private _card_no: string;\r\n  private _shift_no: number;\r\n  private _allowance_ind: boolean;\r\n  private _room_no: string;\r\n  private _inhouse_id: string;\r\n  private _visit_id: string;\r\n  private _freeze_ind: boolean;\r\n  private _freeze_at: Date;\r\n  private _destroy: number;\r\n  private _is_new: boolean;\r\n  private _is_dirty: boolean; \r\n\r\n  constructor() {\r\n    this._system_date = new Date();\r\n    this._system_time = new Date();\r\n    this._business_date = PointerService.getBusinessDate();\r\n  }\r\n\r\n  public get business_date(): Date {\r\n    return this._business_date;\r\n  }\r\n  public set business_date(value: Date) {\r\n    this._business_date = value;\r\n  }\r\n\r\n  public get system_date(): Date {\r\n    return this._system_date;\r\n  }\r\n  public set system_date(value: Date) {\r\n    this._system_date = value;\r\n  }\r\n\r\n  public get system_time(): Date {\r\n    return this._system_time;\r\n  }\r\n  public set system_time(value: Date) {\r\n    this._system_time = value;\r\n  }\r\n\r\n  public get id(): number {\r\n    return this._id;\r\n  }\r\n  public set id(value: number) {\r\n    this._id = value;\r\n  }\r\n\r\n  public get freeze_at(): Date {\r\n    return this._freeze_at;\r\n  }\r\n  public set freeze_at(value: Date) {\r\n    this._freeze_at = value;\r\n  }\r\n  public get freeze_ind(): boolean {\r\n    return this._freeze_ind;\r\n  }\r\n  public set freeze_ind(value: boolean) {\r\n    this._freeze_ind = value;\r\n  }\r\n\r\n  public get shift_no(): number {\r\n    return this._shift_no;\r\n  }\r\n  public set shift_no(value: number) {\r\n    this._shift_no = value;\r\n  }\r\n\r\n  public get room_no(): string {\r\n    return this._room_no;\r\n  }\r\n  public set room_no(value: string) {\r\n    this._room_no = value;\r\n  }\r\n\r\n  public get inhouse_id(): string {\r\n    return this._inhouse_id;\r\n  }\r\n  public set inhouse_id(value: string) {\r\n    this._inhouse_id = value;\r\n  }\r\n  \r\n  public get visit_id(): string {\r\n    return this._visit_id;\r\n  }\r\n  public set visit_id(value: string) {\r\n    this._visit_id = value;\r\n  }\r\n\r\n  public get allowance_ind(): boolean {\r\n    return this._allowance_ind;\r\n  }\r\n  public set allowance_ind(value: boolean) {\r\n    this._allowance_ind = value;\r\n  }\r\n  public get card_no(): string {\r\n    return this._card_no;\r\n  }\r\n  public set card_no(value: string) {\r\n    this._card_no = value;\r\n  }\r\n  public get amount(): number {\r\n    return this._amount;\r\n  }\r\n  public set amount(value: number) {\r\n    this._amount = value;\r\n  }\r\n  public get settlement_type(): string {\r\n    return this._settlement_type;\r\n  }\r\n  public set settlement_type(value: string) {\r\n    this._settlement_type = value;\r\n  }\r\n\r\n  public get description(): string {\r\n    return this._description;\r\n  }\r\n  public set description(value: string) {\r\n    this._description = value;\r\n  }\r\n\r\n  public get dr_cr(): string {\r\n    return this._dr_cr;\r\n  }\r\n  public set dr_cr(value: string) {\r\n    this._dr_cr = value;\r\n  }\r\n  public get currency_id(): number {\r\n    return this._currency_id;\r\n  }\r\n  public set currency_id(value: number) {\r\n    this._currency_id = PointerService.getLocalCurrencyId();\r\n  }\r\n  public get charge_id(): number {\r\n    return this._charge_id;\r\n  }\r\n  public set charge_id(value: number) {\r\n    this._charge_id = value;\r\n  }\r\n\r\n  public get destroy(): number {\r\n    return this._destroy;\r\n  }\r\n  public set destroy(value: number) {\r\n    this._destroy = value;\r\n  }\r\n\r\n  public get is_new(): boolean {\r\n    return this._is_new;\r\n  }\r\n  public set is_new(value: boolean) {\r\n    this._is_new = value;\r\n  }\r\n\r\n  public get is_dirty(): boolean {\r\n    return this._is_dirty;\r\n  }\r\n  public set is_dirty(value: boolean) {\r\n    this._is_dirty = value;\r\n  }\r\n}","import { PointerService } from \"../services/pointer.service\";\r\nimport { PosCheckCharge } from \"./pos-check-charge.model\";\r\nimport { PosCheckDetail } from \"./pos-check-detail.model\";\r\nimport { PosCheckSettlement } from './pos-check-settlement.model';\r\nimport { PosCheckDelivery } from './pos-check-delivery.model';\r\nimport { User } from './user.model';\r\n\r\nexport class PosCheck {\r\n  private _doc_id_rev: string;\r\n  private _is_new: boolean;\r\n  private _is_dirty: boolean;\r\n\r\n  private _id: number;\r\n  private _pos_restaurant_id: number;\r\n  private _check_no: string;\r\n  private _open_date: Date;\r\n  private _open_time: Date;\r\n  private _close_date: Date;\r\n  private _close_time: Date;\r\n\r\n  private _pos_ang_category_id: number;\r\n  private _table_code: string;\r\n  private _covers: number;\r\n  private _remarks: string;\r\n  private _dr_total: number;\r\n  private _cr_total: number;\r\n\r\n  private _tips: number;\r\n  private _round_off: number;\r\n  private _split_count: number;\r\n  private _currency_id: number;\r\n  private _take_away_ind: boolean;\r\n  private _room_settle_ind: boolean;\r\n  private _last_action: string;\r\n\r\n  private _happy_hour_ind: boolean;\r\n  private _open_shift: number;\r\n  private _close_shift: number;\r\n\r\n  private _print_count: number;\r\n  private _print_date: Date;\r\n  private _print_time: Date;\r\n  private _print_shift: number;\r\n  private _print_seq_no: number;\r\n\r\n  private _check_series_no: number;\r\n  private _guest_name: string;\r\n  private _guest_gst_number: string;\r\n\r\n  private _void_reason_note: string;\r\n  private _pos_void_reason_id: number;\r\n  private _void_date_time: Date;\r\n  private _from_void_check_no: string;\r\n  private _from_table_code: string;\r\n\r\n  private _split_check_ind: boolean;\r\n  private _server_id: number;\r\n  private _server_name: string;\r\n\r\n  private _open_cashier_id: number;\r\n  private _close_cashier_id: number;\r\n  private _print_cashier_id: number;\r\n  private _void_user_id: number;\r\n\r\n  private _membership_number: string;\r\n  private _guest_id: string;\r\n  private _freeze_ind: boolean;\r\n  private _freeze_at: Date;\r\n  private _updated_place: string;\r\n  private _saas_company_id: number;\r\n  private _company_id: number;\r\n  private _branch_id: number;\r\n  private _restaurant_name: string;\r\n  private _pos_ang_category: string;\r\n  private _print_cashier_name: string;\r\n  private _ref_check_no: string;\r\n  private _pos_check_details: PosCheckDetail[];\r\n  private _pos_check_charges: PosCheckCharge[];\r\n  private _pos_check_settlements: PosCheckSettlement[];\r\n  private _pos_check_delivery: PosCheckDelivery[];\r\n  private _debit_card_number: string;\r\n  private _debit_card_reference_id: string;\r\n  private _order_type: any;\r\n  private _visit_id: any;\r\n\r\n  constructor() {\r\n    this._is_new = true;\r\n    this._is_dirty = false;\r\n    this._open_date = PointerService.getBusinessDate();\r\n    this._open_time = new Date();\r\n    this._cr_total = 0;\r\n    this._dr_total = 0;\r\n    this._pos_check_charges = [];\r\n    this._pos_check_details = [];\r\n    this._pos_check_settlements = [];\r\n    this._pos_check_delivery = [];\r\n  }\r\n\r\n  get doc_id_rev(): string {\r\n    return this._doc_id_rev;\r\n  }\r\n  set doc_id_rev(value: string) {\r\n    this._doc_id_rev = value;\r\n  }\r\n\r\n  get is_new(): boolean {\r\n    return this._is_new;\r\n  }\r\n  set is_new(value: boolean) {\r\n    this._is_new = value;\r\n  }\r\n\r\n  get is_dirty(): boolean {\r\n    return this._is_dirty;\r\n  }\r\n  set is_dirty(value: boolean) {\r\n    this._is_dirty = value;\r\n  }\r\n\r\n  public get id(): number {\r\n    return this._id;\r\n  }\r\n  public set id(value: number) {\r\n    this._id = value;\r\n  }\r\n\r\n  public get pos_restaurant_id(): number {\r\n    return this._pos_restaurant_id;\r\n  }\r\n  public set pos_restaurant_id(value: number) {\r\n    this._pos_restaurant_id = value;\r\n  }\r\n\r\n  public get check_no(): string {\r\n    return this._check_no;\r\n  }\r\n  public set check_no(value: string) {\r\n    this._check_no = value;\r\n  }\r\n\r\n  get open_date() {\r\n    return this._open_date;\r\n  }\r\n  set open_date(value: Date) {\r\n    this._open_date = value;\r\n  }\r\n\r\n  get open_time() {\r\n    return this._open_time;\r\n  }\r\n  set open_time(value: Date) {\r\n    this._open_time = value;\r\n  }\r\n\r\n  get close_date() {\r\n    return this._close_date;\r\n  }\r\n  set close_date(value: Date) {\r\n    this._close_date = value;\r\n  }\r\n\r\n  get close_time() {\r\n    return this._close_time;\r\n  }\r\n  set close_time(value: Date) {\r\n    this._close_time = value;\r\n  }\r\n\r\n  public get pos_ang_category_id(): number {\r\n    return this._pos_ang_category_id;\r\n  }\r\n  public set pos_ang_category_id(value: number) {\r\n    this._pos_ang_category_id = value;\r\n  }\r\n\r\n  get table_code() {\r\n    return this._table_code;\r\n  }\r\n  set table_code(code: string) {\r\n    this._table_code = code;\r\n  }\r\n\r\n  public get covers(): number {\r\n    return this._covers;\r\n  }\r\n  public set covers(value: number) {\r\n    this._covers = value;\r\n  }\r\n\r\n  public get remarks(): string {\r\n    return this._remarks;\r\n  }\r\n  public set remarks(value: string) {\r\n    this._remarks = value;\r\n  }\r\n\r\n  public get dr_total(): number {\r\n    return this._dr_total;\r\n  }\r\n  public set dr_total(value: number) {\r\n    this._dr_total = value;\r\n  }\r\n\r\n  public get cr_total(): number {\r\n\r\n    let sum = 0;\r\n    this.pos_check_settlements.forEach(element => {\r\n      if (element.allowance_ind) {\r\n        sum -= +element.amount;\r\n      }\r\n      else {\r\n        sum += +element.amount;\r\n      }\r\n    });\r\n    return sum;\r\n  }\r\n\r\n  public set cr_total(value: number) {\r\n    this._cr_total = value;\r\n  }\r\n\r\n  public get tips(): number {\r\n    return this._tips;\r\n  }\r\n  public set tips(value: number) {\r\n    this._tips = value;\r\n  }\r\n\r\n  public get round_off(): number {\r\n    return this._round_off;\r\n  }\r\n  public set round_off(value: number) {\r\n    this._round_off = value;\r\n  }\r\n\r\n  public get split_count(): number {\r\n    return this._split_count;\r\n  }\r\n  public set split_count(value: number) {\r\n    this._split_count = value;\r\n  }\r\n\r\n  public get currency_id(): number {\r\n    return this._currency_id;\r\n  }\r\n  public set currency_id(value: number) {\r\n    this._currency_id = value;\r\n  }\r\n\r\n  public get take_away_ind(): boolean {\r\n    return this._take_away_ind;\r\n  }\r\n  public set take_away_ind(value: boolean) {\r\n    this._take_away_ind = value;\r\n  }\r\n\r\n  public get room_settle_ind(): boolean {\r\n    return this._room_settle_ind;\r\n  }\r\n  public set room_settle_ind(value: boolean) {\r\n    this._room_settle_ind = value;\r\n  }\r\n\r\n  public get last_action(): string {\r\n    return this._last_action;\r\n  }\r\n  public set last_action(value: string) {\r\n    this._last_action = value;\r\n  }\r\n\r\n  get happy_hour_ind() {\r\n    return this._happy_hour_ind;\r\n  }\r\n  set happy_hour_ind(value: boolean) {\r\n    this._happy_hour_ind = value;\r\n  }\r\n\r\n  get open_shift(): number {\r\n    return this._open_shift;\r\n  }\r\n  set open_shift(value: number) {\r\n    this._open_shift = value;\r\n  }\r\n\r\n  public get close_shift(): number {\r\n    return this._close_shift;\r\n  }\r\n  public set close_shift(value: number) {\r\n    this._close_shift = value;\r\n  }\r\n\r\n  public get print_count(): number {\r\n    return this._print_count;\r\n  }\r\n  public set print_count(value: number) {\r\n    this._print_count = value;\r\n  }\r\n\r\n  public get print_date(): Date {\r\n    return this._print_date;\r\n  }\r\n  public set print_date(value: Date) {\r\n    this._print_date = value;\r\n  }\r\n\r\n  public get print_time(): Date {\r\n    return this._print_time;\r\n  }\r\n  public set print_time(value: Date) {\r\n    this._print_time = value;\r\n  }\r\n\r\n  public get print_shift(): number {\r\n    return this._print_shift;\r\n  }\r\n  public set print_shift(value: number) {\r\n    this._print_shift = value;\r\n  }\r\n\r\n  public get print_seq_no(): number {\r\n    return this._print_seq_no;\r\n  }\r\n  public set print_seq_no(value: number) {\r\n    this._print_seq_no = value;\r\n  }\r\n\r\n  public get check_series_no(): number {\r\n    return this._check_series_no;\r\n  }\r\n  public set check_series_no(value: number) {\r\n    this._check_series_no = value;\r\n  }\r\n\r\n  public get guest_name(): string {\r\n    return this._guest_name;\r\n  }\r\n  public set guest_name(value: string) {\r\n    this._guest_name = value;\r\n  }\r\n\r\n  public get guest_gst_number(): string {\r\n    return this._guest_gst_number;\r\n  }\r\n  public set guest_gst_number(value: string) {\r\n    this._guest_gst_number = value;\r\n  }\r\n\r\n  public get void_reason_note(): string {\r\n    return this._void_reason_note;\r\n  }\r\n  public set void_reason_note(value: string) {\r\n    this._void_reason_note = value;\r\n  }\r\n\r\n  public get pos_void_reason_id(): number {\r\n    return this._pos_void_reason_id;\r\n  }\r\n  public set pos_void_reason_id(value: number) {\r\n    this._pos_void_reason_id = value;\r\n  }\r\n\r\n  public get void_date_time(): Date {\r\n    return this._void_date_time;\r\n  }\r\n  public set void_date_time(value: Date) {\r\n    this._void_date_time = value;\r\n  }\r\n\r\n  public get from_void_check_no(): string {\r\n    return this._from_void_check_no;\r\n  }\r\n  public set from_void_check_no(value: string) {\r\n    this._from_void_check_no = value;\r\n  }\r\n\r\n  public get from_table_code(): string {\r\n    return this._from_table_code;\r\n  }\r\n  public set from_table_code(value: string) {\r\n    this._from_table_code = value;\r\n  }\r\n\r\n  public get split_check_ind(): boolean {\r\n    return this._split_check_ind;\r\n  }\r\n  public set split_check_ind(value: boolean) {\r\n    this._split_check_ind = value;\r\n  }\r\n\r\n  public get server_id(): number {\r\n    return this._server_id;\r\n  }\r\n  public set server_id(value: number) {\r\n    this._server_id = value;\r\n  }\r\n\r\n  public get server_name(): string {\r\n    return this._server_name;\r\n  }\r\n  public set server_name(value: string) {\r\n    this._server_name = value;\r\n  }\r\n\r\n  public get open_cashier_id(): number {\r\n    return this._open_cashier_id;\r\n  }\r\n  public set open_cashier_id(value: number) {\r\n    this._open_cashier_id = value;\r\n  }\r\n\r\n  public get close_cashier_id(): number {\r\n    return this._close_cashier_id;\r\n  }\r\n  public set close_cashier_id(value: number) {\r\n    this._close_cashier_id = value;\r\n  }\r\n\r\n  public get print_cashier_id(): number {\r\n    return this._print_cashier_id;\r\n  }\r\n  public set print_cashier_id(value: number) {\r\n    this._print_cashier_id = value;\r\n  }\r\n\r\n  public get void_user_id(): number {\r\n    return this._void_user_id;\r\n  }\r\n  public set void_user_id(value: number) {\r\n    this._void_user_id = value;\r\n  }\r\n\r\n  public get visit_id(): any {\r\n    return this._visit_id;\r\n  }\r\n  public set visit_id(value: any) {\r\n    this._visit_id = value;\r\n  }\r\n\r\n  public get membership_number(): string {\r\n    return this._membership_number;\r\n  }\r\n  public set membership_number(value: string) {\r\n    this._membership_number = value;\r\n  }\r\n\r\n  public get guest_id(): string {\r\n    return this._guest_id;\r\n  }\r\n  public set guest_id(value: string) {\r\n    this._guest_id = value;\r\n  }\r\n\r\n  public get freeze_ind(): boolean {\r\n    return this._freeze_ind;\r\n  }\r\n  public set freeze_ind(value: boolean) {\r\n    this._freeze_ind = value;\r\n  }\r\n\r\n  public get freeze_at(): Date {\r\n    return this._freeze_at;\r\n  }\r\n  public set freeze_at(value: Date) {\r\n    this._freeze_at = value;\r\n  }\r\n\r\n  public get updated_place(): string {\r\n    return this._updated_place;\r\n  }\r\n  public set updated_place(value: string) {\r\n    this._updated_place = value;\r\n  }\r\n\r\n  public get saas_company_id(): number {\r\n    return this._saas_company_id;\r\n  }\r\n  public set saas_company_id(value: number) {\r\n    this._saas_company_id = value;\r\n  }\r\n\r\n  public get company_id(): number {\r\n    return this._company_id;\r\n  }\r\n  public set company_id(value: number) {\r\n    this._company_id = value;\r\n  }\r\n\r\n  public get branch_id(): number {\r\n    return this._branch_id;\r\n  }\r\n  public set branch_id(value: number) {\r\n    this._branch_id = value;\r\n  }\r\n\r\n  public get restaurant_name(): string {\r\n    return this._restaurant_name;\r\n  }\r\n  public set restaurant_name(value: string) {\r\n    this._restaurant_name = value;\r\n  }\r\n\r\n  public get pos_ang_category(): string {\r\n    return this._pos_ang_category;\r\n  }\r\n  public set pos_ang_category(value: string) {\r\n    this._pos_ang_category = value;\r\n  }\r\n\r\n  public get print_cashier_name(): string {\r\n    return this._print_cashier_name;\r\n  }\r\n  public set print_cashier_name(value: string) {\r\n    this._print_cashier_name = value;\r\n  }\r\n\r\n  public get ref_check_no(): string {\r\n    return this._ref_check_no;\r\n  }\r\n  public set ref_check_no(value: string) {\r\n    this._ref_check_no = value;\r\n  }\r\n\r\n  public get pos_check_details(): PosCheckDetail[] {\r\n    return this._pos_check_details;\r\n  }\r\n  public set pos_check_details(value: PosCheckDetail[]) {\r\n    this._pos_check_details = value;\r\n  }\r\n\r\n  public get pos_check_charges(): PosCheckCharge[] {\r\n    return this._pos_check_charges;\r\n  }\r\n  public set pos_check_charges(value: PosCheckCharge[]) {\r\n    this._pos_check_charges = value;\r\n  }\r\n\r\n  public get pos_check_settlements(): PosCheckSettlement[] {\r\n    return this._pos_check_settlements;\r\n  }\r\n  public set pos_check_settlements(value: PosCheckSettlement[]) {\r\n    this._pos_check_settlements = value;\r\n  }\r\n\r\n  public get pos_check_delivery(): PosCheckDelivery[] {\r\n    return this._pos_check_delivery;\r\n  }\r\n  public set pos_check_delivery(value: PosCheckDelivery[]) {\r\n    this._pos_check_delivery = value;\r\n  }\r\n\r\n  public get debit_card_number(): string {\r\n    return this._debit_card_number;\r\n  }\r\n  public set debit_card_number(value: string) {\r\n    this._debit_card_number = value;\r\n  }\r\n\r\n  public get debit_card_reference_id(): string {\r\n    return this._debit_card_reference_id;\r\n  }\r\n  public set debit_card_reference_id(value: string) {\r\n    this._debit_card_reference_id = value;\r\n  }\r\n\r\n  public get order_type(): string {\r\n    return this._order_type;\r\n  }\r\n  public set order_type(value: string) {\r\n    this._order_type = value;\r\n  }\r\n\r\n  public assignUserProperties(user: User) {\r\n    this._saas_company_id = user.saas_company_id;\r\n    this._company_id = user.company_id;\r\n    this._branch_id = user.branch_id;\r\n  }\r\n\r\n  public static createJson(posCheck: PosCheck) {\r\n    const checkCharge = [], checkDetail = [], checkSettlement = [], checkDelivery = [];\r\n\r\n    if (!posCheck.ref_check_no) {\r\n      //posCheck.ref_check_no = this.generateNextRefCheckNo();\r\n    }\r\n\r\n    if (posCheck._pos_check_details && posCheck._pos_check_details.length > 0) {\r\n      posCheck._pos_check_details.forEach(item => {\r\n        let checkDetailModifier = [];\r\n        item.pos_check_detail_modifiers.forEach(modifier => {\r\n          let objModifier = {\r\n            \"id\": modifier.id,\r\n            \"pos_modifier_id\": modifier.pos_modifier_id,\r\n            \"serial_number\": modifier.serial_number,\r\n            \"currency_id\": modifier.currency_id,\r\n            \"amount\": modifier.amount,\r\n            \"modifier_name_on_check\": modifier.modifier_name_on_check\r\n          }\r\n          checkDetailModifier.push(objModifier);\r\n        })\r\n\r\n        let objDetail = {\r\n          \"id\": item.id,\r\n          \"_destroy\": item.destroy,\r\n          \"pos_item_id\": item.pos_item_id,\r\n          \"shift\": item.shift,\r\n          \"business_date\": item.business_date,\r\n          \"system_time\": item.system_time,\r\n          \"pos_restaurant_id\": item.pos_restaurant_id,\r\n          \"service\": item.service,\r\n          \"charge_id\": item.charge_id,\r\n          \"void_quantity\": item.void_quantity,\r\n          \"void_by_id\": item.void_by_id,\r\n          \"pos_void_reason_id\": item.pos_void_reason_id,\r\n          \"void_reason_note\": item.void_reason_note,\r\n          \"void_at\": item.void_at,\r\n          \"void_place\": item.void_place,\r\n          \"last_action\": item.last_action,\r\n          \"item_description\": item.item_description,\r\n          \"pos_menu_id\": item.pos_menu_id,\r\n          \"pos_kitchen_id\": item.pos_kitchen_id,\r\n          \"serial_number\": item.serial_number,\r\n          \"quantity\": item.quantity,\r\n          \"rate\": item.rate,\r\n          \"amount\": item.amount,\r\n          \"currency_id\": item.currency_id,\r\n          \"pos_item_name_on_check\": item.pos_item_name_on_check,\r\n          \"freeze_ind\": item.freeze_ind,\r\n          \"freeze_at\": item.freeze_at,\r\n          \"pos_check_detail_modifiers_attributes\": checkDetailModifier,\r\n          \"pos_order_status_id\": item.pos_order_status_id\r\n        }\r\n        checkDetail.push(objDetail);\r\n      });\r\n    }\r\n\r\n    if (posCheck.pos_check_charges && posCheck.pos_check_charges.length > 0) {\r\n      posCheck.pos_check_charges.forEach(charge => {\r\n        let charge_taxes = [], charge_discounts = [];\r\n\r\n        if (charge.pos_check_charge_taxes && charge.pos_check_charge_taxes.length > 0) {\r\n          charge.pos_check_charge_taxes.forEach(tax => {\r\n            let objTax = {\r\n              \"id\": tax.id,\r\n              \"_destroy\": tax.destroy,\r\n              \"charge_id\": charge.charge_id,\r\n              \"currency_id\": tax.currency_id,\r\n              \"tax_id\": tax.tax_id,\r\n              \"tax_percentage\": tax.tax_percentage,\r\n              \"dr_cr\": tax.dr_cr,\r\n              \"serial_number\": tax.serial_number,\r\n              \"amount\": tax.amount,\r\n              \"freeze_ind\": tax.freeze_ind,\r\n              \"freeze_at\": tax.freeze_at,\r\n              \"description\": tax.description\r\n            }\r\n            charge_taxes.push(objTax);\r\n          });\r\n        }\r\n\r\n        if (charge.pos_check_charge_discounts && charge.pos_check_charge_discounts.length > 0) {\r\n          charge.pos_check_charge_discounts.forEach(discount => {\r\n            let objDiscount = {\r\n              \"id\": discount.id,\r\n              \"_destroy\": discount.destroy,\r\n              \"pos_check_charge_id\": discount.pos_check_charge_id,\r\n              \"charge_id\": discount.charge_id,\r\n              \"currency_id\": discount.currency_id,\r\n              \"pos_discount_id\": discount.pos_discount_id,\r\n              \"dr_cr\": discount.dr_cr,\r\n              \"serial_number\": discount.serial_number,\r\n              \"amount\": discount.amount,\r\n              \"description\": discount.description,\r\n              \"discount_percentage\": discount.discount_percentage\r\n            }\r\n            charge_discounts.push(objDiscount);\r\n          })\r\n        }\r\n\r\n        let objCharge = {\r\n          \"id\": charge.id,\r\n          \"_destroy\": charge.destroy,\r\n          \"charge_id\": charge.charge_id,\r\n          \"currency_id\": charge.currency_id,\r\n          \"dr_cr\": charge.dr_cr,\r\n          \"serial_number\": charge.serial_number,\r\n          \"amount\": charge.amount,\r\n          \"description\": charge.description,\r\n          \"pos_check_charge_discounts_attributes\": charge_discounts,\r\n          \"pos_check_charge_taxes_attributes\": charge_taxes\r\n        }\r\n\r\n        checkCharge.push(objCharge);\r\n      });\r\n    }\r\n\r\n    if (posCheck.pos_check_settlements && posCheck.pos_check_settlements.length > 0) {\r\n      posCheck.pos_check_settlements.forEach(payment => {\r\n        let objSettlement = {\r\n          \"id\": payment.id,\r\n          \"_destroy\": payment.destroy,\r\n          \"charge_id\": payment.charge_id,\r\n          \"currency_id\": payment.currency_id,\r\n          \"dr_cr\": payment.dr_cr,\r\n          \"settlement_type\": payment.settlement_type,\r\n          \"description\": payment.description,\r\n          \"amount\": payment.amount,\r\n          \"card_no\": payment.card_no,\r\n          \"allowance_ind\": payment.allowance_ind,\r\n          \"freeze_ind\": payment.freeze_ind,\r\n          \"freeze_at\": payment.freeze_at\r\n        }\r\n        checkSettlement.push(objSettlement);\r\n      });\r\n    }\r\n\r\n    if (posCheck.pos_check_delivery && posCheck.pos_check_delivery.length > 0) {\r\n      posCheck.pos_check_delivery.forEach(delivery => {\r\n        let objDelivery = {\r\n          \"id\": delivery.id,\r\n          \"account_id\": delivery.account_id,\r\n          \"account_address_id\": delivery.account_address_id,\r\n          \"address1\": delivery.address1,\r\n          \"address2\": delivery.address2,\r\n          \"address3\": delivery.address3,\r\n          \"city\": delivery.city,\r\n          \"state\": delivery.state,\r\n          \"country\": delivery.country,\r\n          \"delivery_contact_number\": delivery.delivery_contact_number,\r\n          \"delivery_email\": delivery.delivery_email,\r\n          \"delivery_at\": delivery.delivery_at,\r\n          \"schedule_at\": delivery.schedule_at,\r\n          \"schedule_ind\": delivery.schedule_ind,\r\n          \"notes\": delivery.notes\r\n        }\r\n        checkDelivery.push(objDelivery);\r\n      });\r\n    }\r\n\r\n    const objCheck = {\r\n      \"id\": posCheck.id,\r\n      \"pos_restaurant_id\": posCheck.pos_restaurant_id,\r\n      //\"restaurant_name\": posCheck.restaurant_name,\r\n      //\"ref_check_no\": posCheck.ref_check_no,\r\n      \"check_no\": posCheck.check_no,\r\n      \"open_date\": posCheck.open_date,\r\n      \"open_time\": posCheck.open_time,\r\n      \"close_date\": posCheck.close_date,\r\n      \"close_time\": posCheck.close_time,\r\n      \"pos_ang_category_id\": posCheck.pos_ang_category_id,\r\n      \"table_code\": posCheck.table_code,\r\n      \"covers\": posCheck.covers,\r\n      \"dr_total\": posCheck.dr_total,\r\n      \"cr_total\": posCheck.cr_total,\r\n      \"round_off\": posCheck.round_off,\r\n      \"split_count\": posCheck.split_count,\r\n      \"currency_id\": posCheck.currency_id,\r\n      \"take_away_ind\": posCheck.take_away_ind,\r\n      \"last_action\": posCheck.last_action,\r\n      \"happy_hour_ind\": posCheck.happy_hour_ind,\r\n      \"shift_no\": posCheck.open_shift,\r\n      \"close_shift\": posCheck.close_shift,\r\n      \"print_count\": posCheck.print_count,\r\n      \"print_date\": posCheck.print_date,\r\n      \"print_time\": posCheck.print_time,\r\n      \"print_shift\": posCheck.print_shift,\r\n      \"guest_name\": posCheck.guest_name,\r\n      \"guest_gst_number\": posCheck.guest_gst_number,\r\n      \"guest_id\": posCheck.guest_id,\r\n      \"void_reason_note\": posCheck.void_reason_note,\r\n      \"pos_void_reason_id\": posCheck.pos_void_reason_id,\r\n      \"void_date_time\": posCheck.void_date_time,\r\n      \"from_void_check_no\": posCheck.from_void_check_no,\r\n      \"from_table_code\": posCheck.from_table_code,\r\n      \"split_check_ind\": posCheck.split_check_ind,\r\n      \"server_id\": posCheck.server_id,\r\n      \"open_cashier_id\": posCheck.open_cashier_id,\r\n      \"close_cashier_id\": posCheck.close_cashier_id,\r\n      \"print_cashier_id\": posCheck.print_cashier_id,\r\n      \"void_user_id\": posCheck.void_user_id,\r\n      \"membership_number\": posCheck.membership_number,\r\n      \"freeze_ind\": posCheck.freeze_ind,\r\n      \"freeze_at\": posCheck.freeze_at,\r\n      \"updated_place\": posCheck.updated_place,\r\n      \"saas_company_id\": posCheck.saas_company_id,\r\n      \"company_id\": posCheck.company_id,\r\n      \"branch_id\": posCheck.branch_id,\r\n      \"order_type\": posCheck.order_type,\r\n      \"pos_check_details_attributes\": checkDetail,\r\n      \"pos_check_charges_attributes\": checkCharge,\r\n      \"pos_check_settlements_attributes\": checkSettlement,\r\n      \"pos_check_delivery_details_attributes\": checkDelivery,\r\n      \"debit_card_number\": posCheck.debit_card_number,\r\n      \"debit_card_reference_id\": posCheck.debit_card_reference_id\r\n\r\n    }\r\n    return objCheck;\r\n  }\r\n\r\n  public static createSettleCheckJson(posCheck: PosCheck) {\r\n    const checkSettlement = [];\r\n    if (posCheck.pos_check_settlements && posCheck.pos_check_settlements.length > 0) {\r\n      posCheck.pos_check_settlements.forEach(payment => {\r\n        let objSettlement = {\r\n          \"id\": payment.is_dirty ? payment.id : '',\r\n          \"_destroy\": payment.destroy,\r\n          \"charge_id\": payment.charge_id,\r\n          \"currency_id\": payment.currency_id,\r\n          \"dr_cr\": payment.dr_cr,\r\n          \"settlement_type\": payment.settlement_type,\r\n          \"description\": payment.description,\r\n          \"amount\": payment.amount,\r\n          \"card_no\": payment.card_no,\r\n          \"allowance_ind\": payment.allowance_ind,\r\n          \"room_no\": payment.room_no,\r\n          \"inhouse_id\": payment.inhouse_id,\r\n          \"visit_id\": payment.visit_id,\r\n          \"business_date\": PointerService.getBusinessDate(),\r\n          \"system_date\": new Date(),\r\n          \"system_time\": new Date(),\r\n          \"shift_no\": posCheck.close_shift,\r\n          \"freeze_ind\": payment.freeze_ind,\r\n          \"freeze_at\": payment.freeze_at\r\n        }\r\n        checkSettlement.push(objSettlement);\r\n      });\r\n    }\r\n\r\n    const objCheck = {\r\n      \"id\": posCheck.id,\r\n      \"pos_restaurant_id\": posCheck.pos_restaurant_id,\r\n      \"check_no\": posCheck.check_no,\r\n      \"pos_ang_category_id\": posCheck.pos_ang_category_id,\r\n      \"table_code\": posCheck.table_code,\r\n      \"covers\": posCheck.covers,\r\n      \"dr_total\": posCheck.dr_total,\r\n      \"cr_total\": posCheck.cr_total == 0 ? posCheck.cr_total : posCheck.cr_total - posCheck.tips,\r\n      \"round_off\": posCheck.round_off,\r\n      \"close_shift\": posCheck.close_shift,\r\n      // \"print_ind\": true,\r\n      \"room_settle_ind\": posCheck.room_settle_ind,\r\n      \"updated_place\": posCheck.updated_place,\r\n      \"saas_company_id\": posCheck.saas_company_id,\r\n      \"company_id\": posCheck.company_id,\r\n      \"branch_id\": posCheck.branch_id,\r\n      \"pos_check_settlements_attributes\": checkSettlement\r\n    }\r\n    return objCheck;\r\n  }\r\n\r\n  public static createPrintCheckJson(posCheck: PosCheck) {\r\n    const checkCharge = [], checkDetail = [], checkSettlement = [];\r\n\r\n    if (posCheck._pos_check_details && posCheck._pos_check_details.length > 0) {\r\n      posCheck._pos_check_details.forEach(item => {\r\n        let objDetail = {\r\n          \"id\": item.id,\r\n          \"pos_item_id\": item.pos_item_id,\r\n          \"shift\": item.shift,\r\n          \"business_date\": item.business_date,\r\n          \"system_time\": item.system_time,\r\n          \"pos_restaurant_id\": item.pos_restaurant_id,\r\n          \"service\": item.service,\r\n          \"charge_id\": item.charge_id,\r\n          \"void_quantity\": item.void_quantity,\r\n          \"void_by_id\": item.void_by_id,\r\n          \"pos_void_reason_id\": item.pos_void_reason_id,\r\n          \"void_reason_note\": item.void_reason_note,\r\n          \"void_at\": item.void_at,\r\n          \"void_place\": item.void_place,\r\n          \"last_action\": item.last_action,\r\n          \"item_description\": item.item_description,\r\n          \"pos_menu_id\": item.pos_menu_id,\r\n          \"pos_kitchen_id\": item.pos_kitchen_id,\r\n          \"serial_number\": item.serial_number,\r\n          \"quantity\": item.quantity,\r\n          \"rate\": item.rate,\r\n          \"amount\": item.amount,\r\n          \"currency_id\": item.currency_id,\r\n          \"pos_item_name_on_check\": item.pos_item_name_on_check,\r\n          \"print_charge_group_code\": item.charge ? item.charge.print_chage_group_code : \"\"\r\n        }\r\n        checkDetail.push(objDetail);\r\n      });\r\n    }\r\n\r\n    if (posCheck.pos_check_charges && posCheck.pos_check_charges.length > 0) {\r\n      posCheck.pos_check_charges.forEach(charge => {\r\n        let charge_taxes = [], charge_discounts = [];\r\n\r\n        let print_charge_group_code: string = charge.charge ? charge.charge.print_chage_group_code : \"\";\r\n\r\n        if (charge.pos_check_charge_taxes && charge.pos_check_charge_taxes.length > 0) {\r\n          charge.pos_check_charge_taxes.forEach(tax => {\r\n            let objTax = {\r\n              \"id\": tax.id,\r\n              \"charge_id\": charge.charge_id,\r\n              \"currency_id\": tax.currency_id,\r\n              \"tax_id\": tax.tax_id,\r\n              \"tax_percentage\": tax.tax_percentage,\r\n              \"dr_cr\": tax.dr_cr,\r\n              \"serial_number\": tax.serial_number,\r\n              \"amount\": tax.amount,\r\n              \"description\": tax.description,\r\n              \"print_charge_group_code\": print_charge_group_code\r\n            }\r\n            charge_taxes.push(objTax);\r\n          });\r\n        }\r\n\r\n        if (charge.pos_check_charge_discounts && charge.pos_check_charge_discounts.length > 0) {\r\n          charge.pos_check_charge_discounts.forEach(discount => {\r\n            let objDiscount = {\r\n              \"id\": discount.id,\r\n              \"pos_check_charge_id\": discount.pos_check_charge_id,\r\n              \"charge_id\": discount.charge_id,\r\n              \"currency_id\": discount.currency_id,\r\n              \"pos_discount_id\": discount.pos_discount_id,\r\n              \"dr_cr\": discount.dr_cr,\r\n              \"serial_number\": discount.serial_number,\r\n              \"amount\": discount.amount,\r\n              \"description\": discount.description,\r\n              \"discount_percentage\": discount.discount_percentage,\r\n              \"print_charge_group_code\": print_charge_group_code\r\n            }\r\n            charge_discounts.push(objDiscount);\r\n          })\r\n        }\r\n\r\n        let objCharge = {\r\n          \"id\": charge.id,\r\n          \"charge_id\": charge.charge_id,\r\n          \"print_charge_group_code\": print_charge_group_code,\r\n          \"currency_id\": charge.currency_id,\r\n          \"dr_cr\": charge.dr_cr,\r\n          \"serial_number\": charge.serial_number,\r\n          \"amount\": charge.amount,\r\n          \"description\": charge.description,\r\n          \"pos_check_charge_discounts_attributes\": charge_discounts,\r\n          \"pos_check_charge_taxes_attributes\": charge_taxes\r\n        }\r\n\r\n        checkCharge.push(objCharge);\r\n      });\r\n    }\r\n\r\n    if (posCheck.pos_check_settlements && posCheck.pos_check_settlements.length > 0) {\r\n      posCheck.pos_check_settlements.forEach(payment => {\r\n        let objSettlement = {\r\n          \"id\": payment.id,\r\n          \"charge_id\": payment.charge_id,\r\n          \"currency_id\": payment.currency_id,\r\n          \"dr_cr\": payment.dr_cr,\r\n          \"settlement_type\": payment.settlement_type,\r\n          \"description\": payment.description,\r\n          \"amount\": payment.amount,\r\n          \"card_no\": payment.card_no,\r\n          \"allowance_ind\": payment.allowance_ind\r\n        }\r\n        checkSettlement.push(objSettlement);\r\n      });\r\n    }\r\n\r\n    const objCheck = {\r\n      \"id\": posCheck.id,\r\n      \"pos_restaurant_id\": posCheck.pos_restaurant_id,\r\n      \"restaurant_name\": posCheck.restaurant_name,\r\n      //\"ref_check_no\": posCheck.ref_check_no,\r\n      \"check_no\": posCheck.check_no,\r\n      \"open_date\": posCheck.open_date,\r\n      \"open_time\": posCheck.open_time,\r\n      \"close_date\": posCheck.close_date,\r\n      \"close_time\": posCheck.close_time,\r\n      \"pos_ang_category_id\": posCheck.pos_ang_category_id,\r\n      \"table_code\": posCheck.table_code,\r\n      \"covers\": posCheck.covers,\r\n      \"dr_total\": posCheck.dr_total,\r\n      \"cr_total\": posCheck.cr_total,\r\n      \"round_off\": posCheck.round_off,\r\n      \"split_count\": posCheck.split_count,\r\n      \"currency_id\": posCheck.currency_id,\r\n      \"take_away_ind\": posCheck.take_away_ind,\r\n      \"last_action\": posCheck.last_action,\r\n      \"happy_hour_ind\": posCheck.happy_hour_ind,\r\n      \"open_shift\": posCheck.open_shift,\r\n      \"close_shift\": posCheck.close_shift,\r\n      \"print_count\": posCheck.print_count,\r\n      \"print_date\": posCheck.print_date,\r\n      \"print_time\": posCheck.print_time,\r\n      \"print_shift\": posCheck.print_shift,\r\n      \"pos_ang_category\": posCheck.pos_ang_category,\r\n      \"guest_name\": posCheck.guest_name,\r\n      \"guest_gst_number\": posCheck.guest_gst_number,\r\n      \"guest_id\": posCheck.guest_id,\r\n      \"void_reason_note\": posCheck.void_reason_note,\r\n      \"pos_void_reason_id\": posCheck.pos_void_reason_id,\r\n      \"void_date_time\": posCheck.void_date_time,\r\n      \"from_void_check_no\": posCheck.from_void_check_no,\r\n      \"from_table_code\": posCheck.from_table_code,\r\n      \"split_check_ind\": posCheck.split_check_ind,\r\n      \"server_id\": posCheck.server_id,\r\n      \"open_cashier_id\": posCheck.open_cashier_id,\r\n      \"close_cashier_id\": posCheck.close_cashier_id,\r\n      \"print_cashier_id\": posCheck.print_cashier_id,\r\n      \"print_cashier_name\": posCheck.print_cashier_name,\r\n      \"void_user_id\": posCheck.void_user_id,\r\n      \"membership_number\": posCheck.membership_number,\r\n      \"freeze_ind\": posCheck.freeze_ind,\r\n      \"freeze_at\": posCheck.freeze_at,\r\n      \"updated_place\": posCheck.updated_place,\r\n      \"saas_company_id\": posCheck.saas_company_id,\r\n      \"company_id\": posCheck.company_id,\r\n      \"branch_id\": posCheck.branch_id,\r\n      \"pos_check_details_attributes\": checkDetail,\r\n      \"pos_check_charges_attributes\": checkCharge,\r\n      \"pos_check_settlements_attributes\": checkSettlement,\r\n      \"debit_card_number\": posCheck.debit_card_number,\r\n      \"debit_card_reference_id\": posCheck.debit_card_reference_id,\r\n      \"visit_id\": posCheck.visit_id,\r\n    }\r\n    return objCheck;\r\n  }\r\n}","import { Charge } from \"./charge.model\";\r\n\r\nexport class PosDiscount {\r\n  constructor(\r\n    public id: number,\r\n    public code: string,  \r\n    public display_in_lookup_ind: boolean,\r\n    public description: string,\r\n    public pos_discount_details?: PosDiscountDetails[]\r\n  ){}\r\n}\r\n\r\nexport class PosDiscountDetails {\r\n  constructor(\r\n    public id: number,\r\n    public pos_discount_id: number,  \r\n    public charge_id: number,\r\n    public charge_group_id: number,\r\n    public currency_id: number,  \r\n    public discount_percent: number,\r\n    public discount_amount: number,\r\n    public valid_from_date: Date,\r\n    public valid_to_date: Date,\r\n    public valid_from_time: Date,\r\n    public valid_to_time: Date,\r\n    public valid_on_days: Date,\r\n    public charge: Charge\r\n  ) {}\r\n}","import { PosMenuHeader } from './pos-menu-header.model';\r\nimport { PosMenuSubHeader } from './pos-menu-subheader.model';\r\nimport { PosItem } from './pos-item.model';\r\n\r\nexport class PosItemMenu {\r\n  constructor(\r\n    public id: number,\r\n    public saas_company_id: number,\r\n    public company_id: number,\r\n    public branch_id: number,\r\n    public pos_menu_id: number,\r\n    public pos_item_id: number,\r\n    public pos_item_image: string,\r\n    public pos_menu_header_id: number,\r\n    public pos_menu_subheader_id: number,\r\n    public pos_item_price: number,\r\n    public happy_hour_price: number,\r\n    public currency_id: number,\r\n    public pos_kitchen_id: number,\r\n    public pos_item_charge_id: number,\r\n    public happy_hour_charge_id: number,\r\n    public serial_number: number,\r\n    public cmp_mod: boolean,\r\n    public do_not_print_price_on_check_ind: boolean,\r\n    public price_inclusive_tax_ind: boolean,\r\n    public description: string,\r\n    public happy_hour_description: string,\r\n    public name_on_check: string,\r\n    public menu_header: PosMenuHeader,\r\n    public menu_sub_header: PosMenuSubHeader,\r\n    public pos_item: PosItem\r\n  ) { }\r\n}","import { PosItem } from './pos-item.model';\r\nimport { PosModifier } from './pos-modifier.model';\r\n\r\nexport class PosItemModifier {\r\n  constructor(\r\n    public id: number,\r\n    public pos_item_id: number,\r\n    public pos_modifier_id: number,\r\n    public pos_item: PosItem,\r\n    public pos_modifier: PosModifier\r\n  ) {}\r\n}","export class PosItem {\r\n  constructor(\r\n    public id: number,\r\n    public code: string,\r\n    public account_code: string,\r\n    public item_class: string,\r\n    public hsn_sac_code: string,\r\n    public shortName: string,\r\n    public longName: string,\r\n    public description: string\r\n  ) {}\r\n}","export class PosMenuHeader {\r\n  constructor(\r\n    public id: number,\r\n    public code: string,\r\n    public serialNumber: number,\r\n    public imagePath: string,\r\n    public description: string,\r\n  ) {}\r\n}","export class PosMenuRestaurant {\r\n  constructor(\r\n    public id: number,\r\n    public code: string,\r\n    public pos_menu_id: number,\r\n    public pos_restaurant_id: number,\r\n    public description: string,\r\n\r\n    public happy_hour_dow: string,\r\n    public happy_hour_from_date: Date,\r\n    public happy_hour_from_time: Date,\r\n    public happy_hour_to_date: Date,\r\n    public happy_hour_to_time: Date,\r\n    \r\n    public valid_dow: string,\r\n    public valid_from_date: Date,\r\n    public valid_from_time: Date,\r\n    public valid_to_date: Date,\r\n    public valid_to_time: Date\r\n  ) {}\r\n}","export class PosMenuSubHeader {\r\n  constructor(\r\n    public id: number,\r\n    public code: string,\r\n    public serialNumber: number,\r\n    public imagePath: string,\r\n    public description: string,\r\n  ) {}\r\n}","export class PosModifier {\r\n  constructor(\r\n    public id: number,\r\n    public code: string,\r\n    public pos_modifier_group_id: number,\r\n    public modifier_price: number,\r\n    public modifier_image: string,\r\n    public currency_id: number,\r\n    public modifier_name: string\r\n  ) {}\r\n}","export class PosOrderStatus {\r\n  constructor(\r\n    public id: number,\r\n    public code: string,\r\n    public description: string\r\n  ) {}\r\n}","import { Payment } from \"./payment.model\";\r\n\r\nexport class PosPaymentRestaurant {\r\n  constructor(\r\n    public id: number,\r\n    public pos_restaurant_id: number,\r\n    public payment_id: number,\r\n    public active_ind: boolean,\r\n    public freeze_ind: boolean,\r\n    public payment: Payment\r\n  ) {}\r\n}","import { PosPaymentRestaurant } from \"./pos-payment-restaurant.model\";\r\nimport { PosMenuRestaurant } from './pos-menu-restaurant.model';\r\n\r\nexport class PosRestaurant {\r\n  constructor(\r\n    public id: number,\r\n    public code: string,\r\n    public department_code: string,\r\n    public serial_number: number,\r\n    public gst_number: string,\r\n    public restaurant_name: string,\r\n    public pos_payment_restaurants: PosPaymentRestaurant[],\r\n    public pos_menu_restaurants: PosMenuRestaurant[]\r\n  ) {}\r\n}","export class Room {\r\n  constructor(\r\n    public id: number,\r\n    public room_display_number: string,\r\n    public room_type: string,\r\n    public floor_number: number,\r\n    public occupancy_status: string,\r\n    public cleaning_status: number\r\n  ) { }\r\n}","export class Shift {\r\n  constructor(\r\n    public id: number, \r\n    public pos_restaurant_id: number,\r\n    public shift_no: number,\r\n    public business_date: Date,\r\n    public currency_id: number,\r\n    public opening_balance: number, \r\n    public paid_in_amount: number,\r\n    public paid_out_amount: number,\r\n    public closing_balance: number,\r\n    public shift_closed_ind: boolean, \r\n    public shift_user_id: number,\r\n    public freeze_ind: boolean,\r\n    public freeze_at: Date,\r\n    public updated_place: string,\r\n    public saas_company_id: number,\r\n    public company_id: number,\r\n    public branch_id: number,\r\n  ) {}\r\n\r\n  public static createJson(shift: Shift) {\r\n    let objShift = {\r\n      \"id\": shift.id,\r\n      \"pos_restaurant_id\": shift.pos_restaurant_id,\r\n      \"shift_no\": shift.shift_no,\r\n      \"business_date\": new Date(shift.business_date).toISOString().slice(0, 10), \r\n      \"currency_id\": shift.currency_id,\r\n\t\t\t\"opening_balance\": shift.opening_balance,\r\n      \"paid_in_amount\": shift.paid_in_amount,\r\n      \"paid_out_amount\": shift.paid_out_amount,\r\n      \"closing_balance\": shift.closing_balance,\r\n      \"shift_closed_ind\": shift.shift_closed_ind,\r\n\t\t\t\"shft_user_id\": shift.shift_user_id,\r\n      \"freeze_ind\": shift.freeze_ind,\r\n      \"freeze_at\": shift.freeze_at,\r\n      \"updated_place\": shift.updated_place,\r\n      \"saas_company_id\": shift.saas_company_id,\r\n      \"company_id\": shift.company_id,\r\n      \"branch_id\": shift.branch_id\r\n    }\r\n    return objShift;\r\n  }\r\n} ","export class TableLayout {\r\n  constructor(\r\n    public id: number,\r\n    public table_code: string,\r\n    public table_group: string,\r\n    public table_image: string,\r\n    public serial_number: number,\r\n    public table_seats: number,\r\n    public default_take_away_ind: boolean,\r\n    public for_pending_check_ind: boolean,\r\n    public pos_restaurant_id: number,\r\n    public table_status: string,\r\n    public table_display_code: string,\r\n    public description: string,\r\n    public pos_check_id?: number\r\n  ) {}\r\n}","export class Tax {\r\n  constructor(\r\n    public id: number,\r\n    public from_date: Date,\r\n    public to_date: Date,\r\n    public tax_percentage: number,\r\n    public parent_charge_id: number,\r\n    public tax_amount: number,\r\n    public tax_code: string,\r\n    public dr_cr: string,\r\n    public tax_name: string\r\n  ){}\r\n}","export class UserOutlet {\r\n  constructor(\r\n    public id: number,\r\n    public serial_number: number,\r\n    public outlet_name: string\r\n  ) {}\r\n}","import { UserOutlet } from './user-outlet.model';\r\n\r\nexport class User {\r\n  constructor(\r\n    public id: string,\r\n    public email:string,\r\n    public code: string,\r\n    public title: string,\r\n    public first_name: string,\r\n    public last_name: string,\r\n    public full_name: string,\r\n    public saas_company_id: number,\r\n    public company_id: number,\r\n    public branch_id: number,\r\n    public saas_company_name: string,\r\n    public company_name: string,\r\n    public branch_name: string,\r\n    public token: string,\r\n    public mobile_number: string,\r\n    public saas_company_code: string,\r\n    public company_code: string,\r\n    public branch_code: string,\r\n    public rights?: [],\r\n    public user_rights?: [],\r\n    public functional_rights?: [],\r\n    public user_outlets?: UserOutlet[]\r\n  ){}\r\n}","export class VoidReason {\r\n  constructor(\r\n    public id: number,\r\n    public code: string,\r\n    public description: string,\r\n    public freeze_ind: boolean,\r\n    public freeze_at: Date,\r\n  ){}\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { User } from '../models/user.model';\r\nimport { PointerService } from '../services/pointer.service';\r\nimport { ChargeService } from '../services/charge.service';\r\nimport { OutletService } from '../services/outlet.service';\r\nimport { environment } from '.././../environments/environment';\r\nimport { AlertService } from '../services/alert.service';\r\n\r\n@Component({\r\n  selector: 'app-outlet',\r\n  templateUrl: './outlet.component.html'\r\n})\r\nexport class OutletComponent implements OnInit {\r\n  userOutlets: any[];\r\n  businessDate: string;\r\n\r\n  constructor(private router: Router,\r\n              private pointerService: PointerService,\r\n              private chargeService: ChargeService,\r\n              private outletService: OutletService,\r\n              private alertService: AlertService\r\n             ) { }\r\n\r\n  ngOnInit(): void {\r\n    const loadedUser: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    if(!loadedUser) {\r\n      return;\r\n    }\r\n\r\n    this.userOutlets = loadedUser.user_outlets;\r\n\r\n    const pointerData = JSON.parse(localStorage.getItem(\"pointerData\"));\r\n    const chargeData = JSON.parse(localStorage.getItem(\"chargeData\"));\r\n    \r\n    if (!chargeData) {\r\n      this.chargeService.getAll()\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          //do nothing\r\n        },\r\n        error: (error: any) => {\r\n          if(error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    if (!pointerData) {\r\n      this.pointerService.getAll()\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          if (data) {\r\n            let currencyLocal = this.pointerService.filterValueByCode(environment.POINTER_CURRENCY_LOCAL1);\r\n            this.pointerService.getCurrencyByCode(currencyLocal).subscribe();\r\n          }\r\n        },\r\n        error: (error: any) => {\r\n          if(error.errors && error.errors.length > 0) {\r\n            this.alertService.error(error.errors[0]);\r\n          } else {\r\n            this.alertService.error(error);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    else {\r\n      const currencyData = JSON.parse(localStorage.getItem(\"currencyData\"));\r\n      if (!currencyData) {\r\n        let currencyLocal = this.pointerService.filterValueByCode(environment.POINTER_CURRENCY_LOCAL1);\r\n        this.pointerService.getCurrencyByCode(currencyLocal)\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            // do nothing\r\n          },\r\n          error: (error: any) => {\r\n            if(error.errors && error.errors.length > 0) {\r\n              this.alertService.error(error.errors[0]);\r\n            } else {\r\n              this.alertService.error(error);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    this.businessDate = PointerService.getISOBusinessDate();\r\n  }\r\n\r\n  onOutletSelection(outletId: string): void {\r\n    this.outletService.getOutletDetailsBy(outletId, this.businessDate)\r\n    .subscribe({\r\n      next: (data: any) => {\r\n        this.getOutletBillingInfo(outletId);\r\n      },\r\n      error: (error: any) => {\r\n        if(error.errors && error.errors.length > 0) {\r\n          this.alertService.error(error.errors[0]);\r\n        } else {\r\n          this.alertService.error(error);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  getOutletBillingInfo(outletId: string): void {\r\n    this.outletService.getOutletBillingDetails(outletId)\r\n    .subscribe({\r\n      next: (data: any) => {\r\n        this.router.navigate(['/shift/'+ outletId]);\r\n      },\r\n      error: (error: any) => {\r\n        if(error.errors && error.errors.length > 0) {\r\n          this.alertService.error(error.errors[0]);\r\n        } else {\r\n          this.alertService.error(error);\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"wrapg_blk\">\r\n  <app-header></app-header>\r\n\r\n  <!-- SOF Sub-header HTML -->\r\n  <div class=\"sub_header_parnt menu_sub_hdr\">\r\n    <div class=\"sub_header_inr only_page_name\">\r\n      <h2 class=\"page_name\">Select outlet</h2>\r\n    </div>\r\n    <app-business-date></app-business-date>\r\n  </div>\r\n  <!-- EOF Sub-header HTML -->\r\n\r\n  <main class=\"main_cnt_blk\">\r\n    <section class=\"select_out_parnt\" *ngIf=\"userOutlets && userOutlets.length > 0\">\r\n      <div class=\"row\">\r\n        <div class=\"col-6 col-sm-4 col-md-3 col-xl-2 mb-15\"\r\n          *ngFor=\"let outlet of userOutlets; odd as isOdd; even as isEven;\">\r\n          <div class=\"select_out_blk\" [ngClass]=\"{ 'blue_main_parnt': isEven, 'purple_main_parnt': isOdd }\"\r\n            (click)=\"onOutletSelection(outlet.id)\">\r\n            <a class=\"form-control select_out_icn\" tabindex=\"0\">{{ outlet.outlet_name }}</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </main>\r\n</div>","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { AuthGuard } from '../auth/auth.guard';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { OutletComponent } from './outlet.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    OutletComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      { path: '', component: OutletComponent, canActivate: [AuthGuard]}\r\n    ])\r\n  ]\r\n})\r\nexport class OutletModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { catchError, map, tap } from 'rxjs/operators';\r\nimport { Account } from '../models/account.model';\r\nimport { AddressType } from '../models/address-type.model';\r\nimport { throwError } from 'rxjs';\r\nimport { AccountContactNumber } from '../models/account-contact-number.model';\r\nimport { AccountAddress } from '../models/account-address.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class AccountService {\r\n  userValue: any;\r\n  constructor(private http: HttpClient) { }\r\n\r\n  public findAddressBy(contactValue: string) {\r\n    let accountArray: Account[] = [];\r\n    return this.http.get(environment.APIENDPOINT + environment.ACCOUNT,\r\n      { params: new HttpParams().append(\"key_contact_number\", contactValue).append(\"per_page\", \"100\") })\r\n      .pipe(\r\n        map(data => {\r\n          if (data && data['accounts'] && data['accounts'].length > 0) {\r\n            data['accounts'].forEach(obj => {\r\n              const account = new Account();\r\n              account.id = obj.id;\r\n              account.first_name = obj.first_name;\r\n              account.last_name = obj.last_name;\r\n              account.title = obj.title;\r\n  \r\n              if (obj.account_addresses && obj.account_addresses.length > 0) {\r\n                obj.account_addresses.forEach(element => {\r\n                  let objAddress = new AccountAddress();\r\n                  objAddress.id = element.id;\r\n                  objAddress.address1 = element.address1;\r\n                  objAddress.address2 = element.address2;\r\n                  objAddress.address3 = element.address3;\r\n                  objAddress.address_type_id = element.address_type ? element.address_type.id : \"\";\r\n                  objAddress.city_id = element.city_id;\r\n                  objAddress.state_id = element.state_id;\r\n                  objAddress.country_id = element.country_id;\r\n                  objAddress.zip = element.zip;\r\n\r\n                  if(element.city && element.city.city_translations && element.city.city_translations.length > 0) {\r\n                    objAddress.city_name = element.city.city_translations[0].description;\r\n                  } else {\r\n                    objAddress.city_name = \"\";\r\n                  }\r\n\r\n                  if(element.state && element.state.state_translations && element.state.state_translations.length > 0) {\r\n                    objAddress.state_name = element.state.state_translations[0].description;\r\n                  } else {\r\n                    objAddress.state_name = \"\";\r\n                  }\r\n\r\n                  if(element.country && element.country.country_translations && element.country.country_translations.length > 0) {\r\n                    objAddress.country_name = element.country.country_translations[0].description;\r\n                  } else {\r\n                    objAddress.country_name = \"\";\r\n                  }\r\n\r\n                  account.account_address.push(objAddress);\r\n                }); \r\n              }\r\n              else {\r\n                account.account_address = [];\r\n              }\r\n  \r\n              if(obj.account_contact_numbers && obj.account_contact_numbers.length > 0) {\r\n                obj.account_contact_numbers.forEach(element => {\r\n                  let accountContact = new AccountContactNumber();\r\n                  accountContact.contact_number_type_id = element.contact_number_type_id;\r\n                  accountContact.contact_number_value = element.contact_number_value;\r\n                  account.account_contact_number.push(accountContact);\r\n                });\r\n              }\r\n              else {\r\n                account.account_contact_number = [];\r\n              }\r\n  \r\n              accountArray.push(account);\r\n            });\r\n          }\r\n          return accountArray;\r\n        })\r\n      )\r\n  }\r\n\r\n  public getAddressType() {\r\n    let addressTypeArray: AddressType[] = [];\r\n    return this.http.get(environment.APIENDPOINT + environment.ADDRESS_TYPE)\r\n      .pipe(map(data => {\r\n        if (data[\"address_types\"] && data[\"address_types\"].length > 0) {\r\n          data[\"address_types\"].forEach(obj => {\r\n            const adType = new AddressType(\r\n              obj.id,\r\n              obj.address_type_translations && obj.address_type_translations.length > 0 ? obj.address_type_translations[0].description : \"\"\r\n            );\r\n            addressTypeArray.push(adType);\r\n          });\r\n        }\r\n        localStorage.setItem('addressTypes', JSON.stringify(addressTypeArray));\r\n        return addressTypeArray;\r\n      })\r\n    )\r\n  }\r\n\r\n  public save(account: Account) {\r\n    let json = Account.createJson(account);\r\n    \r\n    return this.http.post(environment.APIENDPOINT + environment.ACCOUNT,\r\n      { account: json }\r\n      ).pipe(catchError(errorRes => {\r\n        let errorMessage = \"An unknown error occurred!\"\r\n        if (errorRes.account && errorRes.account.errors && errorRes.account.errors.length > 0) {\r\n          errorMessage = errorRes.account.errors[0];\r\n        }\r\n        else if (errorRes.status === 0) {\r\n          errorMessage = \"Api service is down\";\r\n        }\r\n        return throwError(errorMessage);\r\n      }), tap(resData => {\r\n\r\n    }));\r\n  }\r\n\r\n}","import { Injectable, NgZone } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport * as ActionCable from 'actioncable';\r\nimport { environment } from 'projects/pos/src/environments/environment';\r\nimport { User } from '../models/user.model';\r\nimport { TableLayout } from '../models/table-layout.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ActionCableService {\r\n  private consumer: any;\r\n  private dataSubject = new BehaviorSubject<any>(null);\r\n  public data$ = this.dataSubject.asObservable();\r\n  constructor() { }\r\n\r\n  subscribeTableChannel() {\r\n    const loadedUser: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    this.consumer = ActionCable.createConsumer(environment.ACTION_CABLE_ENPOINT + loadedUser.token);\r\n    console.log(\"Trying connection\");\r\n\r\n    this.consumer.subscriptions.create(environment.TABLE_STATUS_CHANNEL, {\r\n      connected() {\r\n        console.log(\"Subscription is ready for use\");\r\n      },\r\n      disconnected() {\r\n        console.log(\"Service terminated by WB server\");\r\n      },\r\n      received: (data: any) => {\r\n        console.log(\"This is the data received: \", data);\r\n        if (data) {\r\n          let tableData: TableLayout[] = JSON.parse(localStorage.getItem('tableLayout'));\r\n          if (tableData) {\r\n            let selectedTable: TableLayout[] = tableData.filter(x => x.id == data.id && x.table_code == data.table_code);\r\n            if (selectedTable.length > 0) {\r\n              selectedTable[0].table_status = data.table_status;\r\n              selectedTable[0].pos_check_id = data.pos_check_id;\r\n              localStorage.setItem('tableLayout', JSON.stringify(tableData));\r\n              this.dataSubject.next(data);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  subscribeKotChannel(outletId: string) {\r\n    const loadedUser: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    this.consumer = ActionCable.createConsumer(environment.ACTION_CABLE_ENPOINT + loadedUser.token);\r\n    console.log(\"Trying KOT connection\");\r\n\r\n    this.consumer.subscriptions.create(environment.KOT_SCREEN_CHANNEL + \"_\" + outletId, {\r\n      connected() {\r\n        console.log(\"KOT Subscription is ready for use\");\r\n      },\r\n      disconnected() {\r\n        console.log(\"KOT Service terminated by WB server\");\r\n      },\r\n      received(data) {\r\n        return data;\r\n      }\r\n    });\r\n  }\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\n\r\nimport { Alert, AlertType } from './../models/alert';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AlertService {\r\n    private subject = new Subject<Alert>();\r\n    private defaultId = 'default-alert';\r\n\r\n    // enable subscribing to alerts observable\r\n    onAlert(id = this.defaultId): Observable<Alert> {\r\n        return this.subject.asObservable().pipe(filter(x => x && x.id === id));\r\n    }\r\n\r\n    // convenience methods\r\n    success(message: string, options?: any) {\r\n        this.alert(new Alert({ ...options, type: AlertType.Success, message }));\r\n    }\r\n    error(message: string, options?: any) {\r\n        this.alert(new Alert({ ...options, type: AlertType.Error, message }));\r\n\r\n    }\r\n\r\n    info(message: string, options?: any) {\r\n        this.alert(new Alert({ ...options, type: AlertType.Info, message }));\r\n    }\r\n\r\n    warn(message: string, options?: any) {\r\n        this.alert(new Alert({ ...options, type: AlertType.Warning, message }));\r\n    }\r\n\r\n    // main alert method    \r\n    alert(alert: Alert) {\r\n        alert.id = alert.id || this.defaultId;\r\n        this.subject.next(alert);\r\n    }\r\n\r\n    // clear alerts\r\n    clear(id = this.defaultId) {\r\n        this.subject.next(new Alert({ id }));\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { map } from 'rxjs/operators';\r\nimport { ANG } from '../models/ang.model';\r\nimport { PosDiscount } from '../models/pos-discount.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ANGService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  public getAll() {\r\n    return this.http.get(environment.APIENDPOINT + environment.ANG_CATEGORY)\r\n      .pipe(\r\n        map(response => {\r\n          const angList: ANG[] = [];\r\n          if (response && response[\"pos_ang_categories\"].length > 0) {\r\n            response[\"pos_ang_categories\"].forEach(obj => {\r\n              let posDiscount;\r\n              if (obj.pos_discount) {\r\n                posDiscount = new PosDiscount(\r\n                  obj.pos_discount.id,\r\n                  obj.pos_discount.code,\r\n                  obj.pos_discount.display_in_lookup_ind,\r\n                  obj.pos_discount.pos_discount_translations && obj.pos_discount.pos_discount_translations.length > 0 ? obj.pos_discount.pos_discount_translations[0].description : \"\"\r\n                )\r\n              }\r\n\r\n              const ang = new ANG(\r\n                obj.id,\r\n                obj.code,\r\n                obj.pos_discount_id,\r\n                obj.pos_ang_category_translations && obj.pos_ang_category_translations.length > 0 ? obj.pos_ang_category_translations[0].description : \"\",\r\n                posDiscount\r\n              )\r\n\r\n              angList.push(ang);\r\n            });\r\n          }\r\n          return angList;\r\n        })\r\n      )\r\n  }\r\n}\r\n","import { HttpHandler, HttpInterceptor, HttpRequest } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { throwError } from \"rxjs\";\r\nimport { catchError, exhaustMap, take } from \"rxjs/operators\";\r\nimport { AuthService } from \"./auth.service\";\r\n\r\n@Injectable()\r\nexport class AuthInterceptorService implements HttpInterceptor {\r\n  constructor(private authService: AuthService) {}\r\n  \r\n  intercept(req: HttpRequest<any>, next: HttpHandler) {\r\n    return this.authService.user.pipe(\r\n      take(1),\r\n      exhaustMap(user => {\r\n        if(!user) {\r\n          return next.handle(req);\r\n        }\r\n\r\n        if(req.headers.get('Anonymous') == '') {\r\n          const newHeaders = req.headers.delete('Anonymous');\r\n          const newRequest = req.clone({ headers: newHeaders });\r\n          return next.handle(newRequest);\r\n        }\r\n\r\n        const modifiedRequest = req.clone({\r\n          headers: req.headers.append('Authorization', user.token)\r\n          .append('Content-Type', 'application/json')\r\n        })\r\n\r\n        return next.handle(modifiedRequest)\r\n        .pipe(\r\n          catchError(error => {\r\n            if(error.errors && error.errors.length > 0) {\r\n              console.log(\"error is intercept\", error.errors);\r\n              return throwError(error.errors[0]);\r\n            }\r\n            return throwError(error)\r\n          })\r\n        );\r\n      })\r\n    )\r\n  } \r\n}","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { BehaviorSubject, Observable, throwError } from 'rxjs';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { User } from '../models/user.model';\r\nimport { environment } from '../../environments/environment';\r\nimport { catchError, map, tap } from 'rxjs/operators';\r\nimport { UserOutlet } from '../models/user-outlet.model';\r\n\r\nexport interface AuthResponseData {\r\n  auth_token: string;\r\n  user: {\r\n    id: string;\r\n    email: string;\r\n    code: string;\r\n    title: string;\r\n    first_name: string;\r\n    last_name: string;\r\n    full_name: string;\r\n    saas_company_id: number;\r\n    company_id: number;\r\n    branch_id: number;\r\n    saas_company_name: string;\r\n    company_name: string;\r\n    branch_name: string;\r\n    saas_company_code: string;\r\n    company_code: string;\r\n    branch_code: string;\r\n    rights: [];\r\n    mobile_number: string;\r\n  }\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n  userSubject = new BehaviorSubject<User>(null);\r\n  public user: Observable<User>;\r\n\r\n  constructor(private http: HttpClient, private router: Router) {\r\n    this.userSubject = new BehaviorSubject<User>(JSON.parse(localStorage.getItem('userData')));\r\n    this.user = this.userSubject.asObservable();\r\n  }\r\n\r\n  public get userValue(): User {\r\n    return this.userSubject.value;\r\n  }\r\n\r\n  validateLogin(username: string, password: string) {\r\n    return this.http.post<AuthResponseData>(\r\n      environment.APIENDPOINT + environment.AUTH,\r\n      {\r\n        code: username,\r\n        password: password,\r\n        module: environment.MODULE_NAME\r\n      }\r\n    ).pipe(catchError(errorRes => {\r\n      let errorMessage = errorRes;\r\n      if (errorRes.error && errorRes.error.errors && errorRes.error.errors.length && errorRes.error.errors.length > 0) {\r\n        errorMessage = errorRes.error.errors;\r\n      }\r\n      else if (errorRes.status === 0) {\r\n        errorMessage = \"Api service is down\";\r\n      }\r\n      return throwError(errorMessage);\r\n    }), tap(resData => {\r\n      const user = this.setUser(resData);\r\n      this.userSubject.next(user);\r\n    }));\r\n  }\r\n\r\n  validateEmailLogin(email: string, password: string) {\r\n    return this.http.post<AuthResponseData>(\r\n      environment.APIENDPOINT + environment.AUTH,\r\n      {\r\n        email: email,\r\n        password: password,\r\n        module: environment.MODULE_NAME\r\n      }\r\n    ).pipe(catchError(errorRes => {\r\n      let errorMessage = errorRes;\r\n      if (errorRes.error && errorRes.error.errors && errorRes.error.errors.length && errorRes.error.errors.length > 0) {\r\n        errorMessage = errorRes.error.errors;\r\n      }\r\n      else if (errorRes.status === 0) {\r\n        errorMessage = \"Api service is down\";\r\n      }\r\n      return throwError(errorMessage);\r\n    }), tap(resData => {\r\n      const user = this.setUser(resData);\r\n      this.userSubject.next(user);\r\n    }));\r\n  }\r\n\r\n  logout() {\r\n    this.userSubject.next(null);\r\n    localStorage.clear();\r\n    localStorage.removeItem(\"chargeData\");\r\n    localStorage.removeItem(\"itemMenu\");\r\n    localStorage.removeItem(\"itemModifier\");\r\n    localStorage.removeItem(\"outletSetting\");\r\n    localStorage.removeItem(\"pointerData\");\r\n    localStorage.removeItem(\"posRestaurant\");\r\n    localStorage.removeItem(\"tableLayout\");\r\n    localStorage.removeItem(\"userShiftData\");\r\n    localStorage.removeItem(\"userData\");\r\n    localStorage.removeItem(\"currencyData\");\r\n    localStorage.removeItem(\"discountData\");\r\n    localStorage.removeItem(\"voidReason\");\r\n    localStorage.removeItem(\"addressTypes\");\r\n    localStorage.removeItem(\"cityData\");\r\n    localStorage.removeItem(\"outletBillingHeader\");\r\n\r\n    this.router.navigate(['/auth']).then(() => {\r\n      window.location.reload();\r\n    });\r\n  }\r\n\r\n  autoLogin() {\r\n    const userData: {\r\n      id: string;\r\n      email: string;\r\n      code: string;\r\n      title: string;\r\n      first_name: string;\r\n      last_name: string;\r\n      full_name: string;\r\n      saas_company_id: number;\r\n      company_id: number;\r\n      branch_id: number;\r\n      saas_company_name: string;\r\n      company_name: string;\r\n      branch_name: string;\r\n      token: string;\r\n      mobile_number: string,\r\n      saas_company_code: string,\r\n      company_code: string,\r\n      branch_code: string,\r\n      rights: [];\r\n    } = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    if (!userData) {\r\n      return;\r\n    }\r\n\r\n    const loadedUser = new User(\r\n      userData.id,\r\n      userData.email,\r\n      userData.code,\r\n      userData.title,\r\n      userData.first_name,\r\n      userData.last_name,\r\n      userData.full_name,\r\n      userData.saas_company_id,\r\n      userData.company_id,\r\n      userData.branch_id,\r\n      userData.saas_company_name,\r\n      userData.company_name,\r\n      userData.branch_name,\r\n      userData.token,\r\n      userData.mobile_number,\r\n      userData.saas_company_code,\r\n      userData.company_code,\r\n      userData.branch_name,\r\n      userData.rights\r\n    );\r\n\r\n    if (loadedUser.token) {\r\n      this.userSubject.next(loadedUser);\r\n    }\r\n  }\r\n\r\n  getUserFunctionalRights(userId) {\r\n    return this.http.get(\r\n      environment.APIENDPOINT + environment.USER + '/' + userId, {\r\n      params: new HttpParams().append(\"key_user_rights\", \"true\").append(\"key_functional_rights\", \"true\")\r\n    }\r\n    ).pipe(catchError(errorRes => {\r\n      return throwError(errorRes);\r\n    }), tap(resData => {\r\n      const userData: {\r\n        id: string;\r\n        email: string;\r\n        code: string;\r\n        title: string;\r\n        first_name: string;\r\n        last_name: string;\r\n        full_name: string;\r\n        saas_company_id: number;\r\n        company_id: number;\r\n        branch_id: number;\r\n        saas_company_name: string;\r\n        company_name: string;\r\n        branch_name: string;\r\n        token: string;\r\n        mobile_number: string;\r\n        saas_company_code: string,\r\n        company_code: string,\r\n        branch_code: string,\r\n        rights: [];\r\n        user_rights: [];\r\n        functional_rights: [];\r\n      } = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n      if (!userData) {\r\n        return;\r\n      }\r\n\r\n      const loadedUser = new User(\r\n        userData.id,\r\n        userData.email,\r\n        userData.code,\r\n        userData.title,\r\n        userData.first_name,\r\n        userData.last_name,\r\n        userData.full_name,\r\n        userData.saas_company_id,\r\n        userData.company_id,\r\n        userData.branch_id,\r\n        userData.saas_company_name,\r\n        userData.company_name,\r\n        userData.branch_name,\r\n        userData.token,\r\n        userData.mobile_number,\r\n        userData.saas_company_code,\r\n        userData.company_code,\r\n        userData.branch_code,\r\n        userData.rights,\r\n        resData['user'] ? resData['user'].user_rights : null,\r\n        resData['user'] ? resData['user'].functional_rights : null\r\n      );\r\n\r\n      if (loadedUser.token) {\r\n        localStorage.setItem(\"userData\", JSON.stringify(loadedUser));\r\n        this.userSubject.next(loadedUser);\r\n      }\r\n    }));\r\n  }\r\n\r\n  setUser(resData): User {\r\n    const user = new User(\r\n      resData.user.id,\r\n      resData.user.email,\r\n      resData.user.code,\r\n      resData.user.title,\r\n      resData.user.first_name,\r\n      resData.user.last_name,\r\n      resData.user.full_name,\r\n      resData.user.saas_company_id,\r\n      resData.user.company_id,\r\n      resData.user.branch_id,\r\n      resData.user.saas_company_translations ? resData.user.saas_company_translations.name : \"\",\r\n      resData.user.company_translations ? resData.user.company_translations.name : \"\",\r\n      resData.user.branch_translations ? resData.user.branch_translations.name : \"\",\r\n      resData.auth_token,\r\n      resData.user.mobile_number,\r\n      resData.user.saas_company ? resData.user.saas_company.code : \"\",\r\n      resData.user.company ? resData.user.company.code : \"\",\r\n      resData.user.branch ? resData.user.branch.code : \"\",\r\n      resData.user.rights\r\n    );\r\n\r\n    return user;\r\n  }\r\n\r\n  changePassword(username: string, oldPassword: string, newPassword: string, confirmPassword: string) {\r\n    return this.http.post(\r\n      environment.APIENDPOINT + environment.CHANGE_PASSWORD,\r\n      {\r\n        email: username,\r\n        password: oldPassword,\r\n        new_password: newPassword,\r\n        new_password_confirmation: confirmPassword\r\n      }\r\n    ).pipe(catchError(errorRes => {\r\n      let errorMessage = \"An unknown error occurred!\"\r\n      if (errorRes.error && errorRes.error.errors && errorRes.error.errors.length && errorRes.error.errors.length > 0) {\r\n        errorMessage = errorRes.error.errors;\r\n      }\r\n      else if (errorRes.status === 0) {\r\n        errorMessage = \"Api service is down\";\r\n      }\r\n      return throwError(errorMessage);\r\n    }));\r\n  }\r\n\r\n  getUserOutlets(userId: string) {\r\n    return this.http.get(environment.APIENDPOINT + environment.POS_OUTLET_USER, {\r\n      params: new HttpParams().append(\"key_user\", userId)\r\n    }).pipe(\r\n      map(response => {\r\n        const loadedUser: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n        if (loadedUser && loadedUser.id == userId) {\r\n          loadedUser.user_outlets = [];\r\n\r\n          const userOutlet = [];\r\n          response[\"pos_restaurant_users\"].forEach(outlet => {\r\n            let objOutlet = new UserOutlet(\r\n              outlet.pos_restaurant_id,\r\n              outlet.serial_number,\r\n              outlet.pos_restaurant && outlet.pos_restaurant.pos_restaurant_translations && outlet.pos_restaurant.pos_restaurant_translations.length > 0 ? outlet.pos_restaurant.pos_restaurant_translations[0].description : \"\"\r\n            )\r\n            userOutlet.push(objOutlet);\r\n          });\r\n\r\n          loadedUser.user_outlets = userOutlet;\r\n          localStorage.setItem(\"userData\", JSON.stringify(loadedUser));\r\n        }\r\n\r\n        return response[\"pos_restaurant_users\"];\r\n      })\r\n    )\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Charge } from '../models/charge.model';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { map } from 'rxjs/operators';\r\nimport { PointerService } from './pointer.service';\r\nimport { Tax } from '../models/tax.model';\r\n\r\n@Injectable(\r\n  { providedIn: 'root'}\r\n)\r\nexport class ChargeService {\r\n  constructor(private http: HttpClient){\r\n  }\r\n\r\n  getAll() {\r\n    let chargeArray: Charge[] = [];\r\n    let businessDate = PointerService.getISOBusinessDate();\r\n\r\n    return this.http.get(\r\n      environment.APIENDPOINT + environment.CHARGE, {\r\n        params: new HttpParams().append(\"key_charge_indicator\", \"true\").append(\"key_module\", environment.MODULE_POS).append(\"per_page\", environment.API_DATA_PER_PAGE).append(\"key_business_date\", businessDate)\r\n      }\r\n    ).pipe(\r\n      map(response => {\r\n        response[\"charges\"].forEach(obj => {\r\n          let taxArray: Tax[] = [];\r\n\r\n          if (obj.tax_charge_tax_links && obj.tax_charge_tax_links.length > 0) {\r\n            obj.tax_charge_tax_links.forEach(tax => {\r\n              let objTax = new Tax(\r\n                tax.tax_id,\r\n                tax.from_date, \r\n                tax.to_date, \r\n                tax.tax_percentage, \r\n                tax.parent_charge_id, \r\n                tax.tax_amount,\r\n                tax.tax ? tax.tax.code : \"\", \r\n                tax.tax ? tax.tax.dr_cr : \"\",\r\n                tax.tax && tax.tax.charge_translations && tax.tax.charge_translations.length > 0 ? tax.tax.charge_translations[0].description : \"\"\r\n              )\r\n\r\n              taxArray.push(objTax);\r\n            });\r\n          }\r\n\r\n          const charge = new Charge(\r\n            obj.id,\r\n            obj.code,\r\n            obj.payment_ind,\r\n            obj.account_code, \r\n            obj.tax_ind,\r\n            obj.dr_cr,\r\n            obj.settlement_process_code,\r\n            obj.print_charge_group_code,\r\n            obj.department_code,\r\n            obj.allowance_allowed_ind,\r\n            obj.hsn_sac_code,\r\n            obj.inclusive_of_tax_ind,\r\n            obj.charge_translations && obj.charge_translations.length > 0 ? obj.charge_translations[0].description : \"\",\r\n            taxArray\r\n          );\r\n          chargeArray.push(charge);\r\n        });\r\n        localStorage.setItem(\"chargeData\", JSON.stringify(chargeArray));\r\n      })\r\n    );\r\n  }\r\n\r\n  getChargesPayments(code: string, description: string) {\r\n    let chargeArray: Charge[] = [];\r\n\r\n    let params = new HttpParams();\r\n    params = params.append(\"per_page\", environment.API_DATA_PER_PAGE).append(\"key_presets\", \"true\").append(\"key_module\", environment.MODULE_POS);\r\n\r\n    if (code) {\r\n      params = params.append(\"key_code\", code);\r\n    }\r\n\r\n    if (description) {\r\n      params = params.append(\"key_name\", description);\r\n    }\r\n\r\n    return this.http.get(\r\n      environment.APIENDPOINT + environment.CHARGE, {\r\n        params: params\r\n      }\r\n    ).pipe(\r\n      map(response => {\r\n        response[\"charges\"].forEach(obj => {\r\n          let taxArray: Tax[] = [];\r\n\r\n          if (obj.tax_charge_tax_links && obj.tax_charge_tax_links.length > 0) {\r\n            obj.tax_charge_tax_links.forEach(tax => {\r\n              let objTax = new Tax(\r\n                tax.tax_id,\r\n                tax.from_date, \r\n                tax.to_date, \r\n                tax.tax_percentage, \r\n                tax.parent_charge_id, \r\n                tax.tax_amount,\r\n                tax.tax ? tax.tax.code : \"\", \r\n                tax.tax ? tax.tax.dr_cr : \"\",\r\n                tax.tax.charge_translations && tax.tax.charge_translations.length > 0 ? tax.tax.charge_translations[0].description : \"\"\r\n              )\r\n\r\n              taxArray.push(objTax);\r\n            });\r\n          }\r\n\r\n          const charge = new Charge(\r\n            obj.id,\r\n            obj.code,\r\n            obj.payment_ind,\r\n            obj.account_code, \r\n            obj.tax_ind,\r\n            obj.dr_cr,\r\n            obj.settlement_process_code,\r\n            obj.print_charge_group_code,\r\n            obj.department_code,\r\n            obj.allowance_allowed_ind,\r\n            obj.hsn_sac_code,\r\n            obj.inclusive_of_tax_ind,\r\n            obj.charge_translations && obj.charge_translations.length > 0 ? obj.charge_translations[0].description : \"\",\r\n            taxArray\r\n          );\r\n          chargeArray.push(charge);\r\n        });\r\n        return chargeArray;\r\n      })\r\n    );\r\n  }\r\n\r\n  getChargeById(chargeId: number): Charge {\r\n    const chargeData: Charge[] = JSON.parse(localStorage.getItem(\"chargeData\"));\r\n    if(!chargeData) {\r\n      return;\r\n    }\r\n\r\n    let selectedCharge = chargeData.filter(t => {\r\n      return t.id === chargeId\r\n    });\r\n\r\n    if(selectedCharge && selectedCharge.length > 0) {\r\n      return selectedCharge[0];\r\n    }\r\n  }\r\n\r\n  getChargeByCode(chargeCode: string) {\r\n    const chargeData: Charge[] = JSON.parse(localStorage.getItem(\"chargeData\"));\r\n    if(!chargeData) {\r\n      return;\r\n    }\r\n\r\n    let selectedCharge = chargeData.filter(t => {\r\n      return t.code === chargeCode\r\n    });\r\n\r\n    if(selectedCharge && selectedCharge.length > 0) {\r\n      return selectedCharge[0];\r\n    }\r\n  }\r\n\r\n  fetchChargeById(id: number) {\r\n    return this.http.get<any>(environment.APIENDPOINT + environment.CHARGE + \"/\" + id)\r\n      .pipe(map((results: any) => {\r\n        // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n        return results;\r\n    }));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { map } from 'rxjs/operators';\r\nimport { City } from '../models/city.model';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\n\r\nexport class CityService {\r\n\tconstructor(private http: HttpClient) { }\r\n\r\n\tgetAll() {\r\n    return this.http.get(environment.APIENDPOINT + environment.CITY,\r\n      { params: new HttpParams().append(\"per_page\", environment.API_DATA_PER_PAGE)}\r\n    ).pipe(\r\n      map((response) => {\r\n        if(response[\"cities\"] && response[\"cities\"].length > 0) {\r\n          const cityArray: City[] = [];\r\n          response[\"cities\"].forEach(obj => {\r\n            const city = new City(\r\n              obj.id,\r\n\t\t\t\t\t\t\tobj.code,\r\n              obj.city_translations && obj.city_translations.length > 0 ? obj.city_translations[0].description : \"\",\r\n\t\t\t\t\t\t\tobj.state ? obj.state.id : \"\",\r\n\t\t\t\t\t\t\tobj.state && obj.state.state_translations && obj.state.state_translations.length > 0 ? obj.state.state_translations[0].description : \"\",\r\n\t\t\t\t\t\t\tobj.country ? obj.country.id : \"\",\r\n\t\t\t\t\t\t\tobj.country && obj.country.country_translations && obj.country.country_translations.length > 0 ? obj.country.country_translations[0].description : \"\",\r\n            )\r\n\r\n            cityArray.push(city);\r\n          });\r\n\r\n          localStorage.setItem('cityData', JSON.stringify(cityArray));\r\n          return cityArray;\r\n        }\r\n      })\r\n    )\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\nimport { OutletSetting } from '../models/outlet-setting.model';\r\nimport { PosRestaurant } from '../models/pos-restaurant.model';\r\nimport { Shift } from '../models/shift.model.model';\r\nimport { User } from '../models/user.model';\r\nimport { PointerService } from './pointer.service';\r\nimport { PosCheck } from '../models/pos-check.model';\r\nimport { OutletBilling } from '../models/outlet-billing.model';\r\ndeclare var Stimulsoft: any;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CommonService {\r\n  options: any = new Stimulsoft.Viewer.StiViewerOptions();\r\n  currentOutletSettings = JSON.parse(localStorage.getItem(\"outletSetting\"));\r\n  pointerData: any = JSON.parse(localStorage.getItem(\"pointerData\"));\r\n\r\n  constructor() { }\r\n\r\n  isHappyHour(menuId: number, outletId: string): boolean {\r\n    let isHappyHourApplicable: boolean = false;\r\n\r\n    const outletSettings: OutletSetting[] = JSON.parse(localStorage.getItem(\"outletSetting\"));\r\n    if (outletSettings.length > 0) {\r\n      let selectedOutletSetting = outletSettings.filter(x => x.pos_restaurant_id == +outletId);\r\n\r\n\r\n      if (selectedOutletSetting.length > 0) {\r\n        if (selectedOutletSetting[0].happy_hour_ind) {\r\n          const restaurants: PosRestaurant[] = JSON.parse(localStorage.getItem(\"posRestaurant\"));\r\n\r\n          if (restaurants.length > 0) {\r\n            let selectedRestaurant = restaurants.filter(x => x.id == +outletId);\r\n            if (selectedRestaurant.length > 0 && selectedRestaurant[0].pos_menu_restaurants && selectedRestaurant[0].pos_menu_restaurants.length > 0) {\r\n              let posMenuRestaurant = selectedRestaurant[0].pos_menu_restaurants.filter(a => a.pos_menu_id === menuId);\r\n\r\n              if (posMenuRestaurant.length > 0) {\r\n                let objRestaurant = posMenuRestaurant[0];\r\n                if (objRestaurant.happy_hour_from_date && objRestaurant.happy_hour_to_date) {\r\n                  let businessDate = PointerService.getBusinessDate();\r\n                  let isValidDate = this.dateCheck(objRestaurant.happy_hour_from_date, objRestaurant.happy_hour_to_date, businessDate);\r\n\r\n                  if (isValidDate) {\r\n                    let isValidTime = this.timeCheck(objRestaurant.happy_hour_from_time, objRestaurant.happy_hour_to_time, new Date());\r\n\r\n                    if (isValidTime) {\r\n                      if (objRestaurant.happy_hour_dow) {\r\n                        let dOWArray = objRestaurant.happy_hour_dow.split('');\r\n                        let currentDate = new Date(businessDate);\r\n                        let dayOfWeek = currentDate.getDay();\r\n\r\n                        if (dOWArray[dayOfWeek] == \"Y\") {\r\n                          isHappyHourApplicable = true;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return isHappyHourApplicable;\r\n  }\r\n\r\n  dateCheck(fromDate: Date, toDate: Date, checkWith: Date): boolean {\r\n    let startDate: Date = new Date(fromDate);\r\n    let endDate: Date = new Date(toDate);\r\n    let compareDate: Date = new Date(checkWith);\r\n\r\n    if ((compareDate.setHours(0, 0, 0, 0) <= endDate.setHours(0, 0, 0, 0) && compareDate.setHours(0, 0, 0, 0) >= startDate.setHours(0, 0, 0, 0))) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  timeCheck(fromTime: Date, toTime: Date, checkWith: Date): boolean {\r\n    let startDate: Date = new Date(fromTime);\r\n    let endDate: Date = new Date(toTime);\r\n    let compareDate: Date = new Date(checkWith);\r\n\r\n    if (compareDate.getTime() <= endDate.getTime() && compareDate.getTime() >= startDate.getTime()) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getCurrentUserShiftNumber(outletId: string): number {\r\n    let shiftNumber = 1;\r\n    const loadedUser: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    if (loadedUser) {\r\n      const shiftData: Shift[] = JSON.parse(localStorage.getItem(\"userShiftData\"));\r\n\r\n      if (shiftData.length > 0) {\r\n        let currentShift = shiftData.filter(x => x.shift_user_id == +loadedUser.id && x.pos_restaurant_id == +outletId);\r\n\r\n        if (currentShift && currentShift.length > 0) {\r\n          return currentShift[0].shift_no;\r\n        }\r\n      }\r\n    }\r\n    return shiftNumber;\r\n  }\r\n\r\n  hasFunctionalRights(code: string): boolean {\r\n    let hasRights = false;\r\n\r\n    const userData: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n    if (userData) {\r\n      if (userData.functional_rights && userData.functional_rights.length > 0) {\r\n        let functionalRight = userData.functional_rights.filter(x => x == code);\r\n\r\n        if (functionalRight.length > 0) {\r\n          hasRights = true;\r\n        }\r\n      }\r\n    }\r\n    return hasRights;\r\n  }\r\n\r\n\r\n  mapCheckData(posCheckData: any): any[] {\r\n    const checkArray: any[] = [];\r\n    let fdTaxTotal = 0;\r\n    let lqTaxTotal = 0;\r\n    let fdDiscountTotal = 0;\r\n    let lqDiscountTotal = 0;\r\n\r\n    const posTaxDiscount = this.mapCheckCharge(posCheckData.pos_check_charges);\r\n\r\n    // Replace these with actual constants or config values\r\n    const FD_CODE = 'FD'; // e.g., from environment or config\r\n    const LQ_CODE = 'LQ';\r\n    const VOIDED_ACTION = 'VOIDED';\r\n    const ORDER_TYPE_TAKEAWAY = 1;\r\n    const ORDER_TYPE_DELIVERY = 2;\r\n\r\n    // Calculate tax and discount totals\r\n    posTaxDiscount.forEach((obj: any) => {\r\n      if (obj.serial_number === 2) {\r\n        if (obj.charge_group_code === FD_CODE) {\r\n          fdTaxTotal += parseFloat(obj.amount);\r\n        }\r\n        if (obj.charge_group_code === LQ_CODE) {\r\n          lqTaxTotal += parseFloat(obj.amount);\r\n        }\r\n      } else {\r\n        if (obj.charge_group_code === FD_CODE) {\r\n          fdDiscountTotal += parseFloat(obj.amount);\r\n        }\r\n        if (obj.charge_group_code === LQ_CODE) {\r\n          lqDiscountTotal += parseFloat(obj.amount);\r\n        }\r\n      }\r\n    });\r\n\r\n    let fd_bill_pay = fdTaxTotal - fdDiscountTotal;\r\n    let lq_bill_pay = lqTaxTotal - lqDiscountTotal;\r\n\r\n    const posCheckDetailArray = posCheckData.pos_check_details.filter(\r\n      (checkDetail: any) => checkDetail.last_action !== VOIDED_ACTION\r\n    );\r\n\r\n    posCheckDetailArray.forEach((detail: any) => {\r\n      if (detail.charge) {\r\n        if (detail.charge.print_chage_group_code === FD_CODE) {\r\n          fd_bill_pay += parseFloat(detail.amount);\r\n        } else {\r\n          lq_bill_pay += parseFloat(detail.amount);\r\n        }\r\n      }\r\n    });\r\n\r\n    posCheckDetailArray.forEach((pos_item: any) => {\r\n      const check_obj: any = {};\r\n\r\n      const restaurantTranslation = posCheckData.pos_restaurant?.pos_restaurant_translations?.[0];\r\n      const angCategoryTranslation = posCheckData.pos_ang_category?.pos_ang_category_translations?.[0];\r\n\r\n      check_obj.restaurant_name = restaurantTranslation?.description || '';\r\n      check_obj.ang_name = angCategoryTranslation?.description || '';\r\n      check_obj.server = posCheckData.server?.first_name || '';\r\n      check_obj.membership_number = posCheckData.membership_number || '';\r\n      check_obj.charge_group_code = pos_item.charge?.print_chage_group_code || '';\r\n      check_obj.print_check_cashier_name = posCheckData.print_cashier?.first_name || '';\r\n      check_obj.item_description = pos_item.pos_item_name_on_check || pos_item.item_description;\r\n\r\n      let modifierText = '';\r\n      if (pos_item.pos_check_detail_modifiers?.length > 0) {\r\n        pos_item.pos_check_detail_modifiers.forEach((modifier: any) => {\r\n          const translation = modifier.pos_modifier?.pos_modifier_translations?.[0];\r\n          if (modifier.amount && translation) {\r\n            modifierText += modifier.modifier_name_on_check\r\n              ? `${modifier.modifier_name_on_check} @${modifier.amount} Rs, `\r\n              : `${translation.description} @${modifier.amount} Rs, `;\r\n          }\r\n        });\r\n      }\r\n\r\n      if (modifierText) {\r\n        check_obj.item_description += `\\n+ ${modifierText}`;\r\n      }\r\n\r\n      check_obj.id = posCheckData.id;\r\n      check_obj.check_no = posCheckData.check_no;\r\n      check_obj.check_series_no = posCheckData.check_series_no;\r\n\r\n      check_obj.order_type = parseInt(posCheckData.order_type) === ORDER_TYPE_TAKEAWAY\r\n        ? 'Parcel order'\r\n        : parseInt(posCheckData.order_type) === ORDER_TYPE_DELIVERY\r\n          ? 'Delivery order'\r\n          : '';\r\n\r\n      // check_obj.table_code = posCheckData.table_code === document.getElementById('hdnPendingTableCode')?.value\r\n      //   ? posCheckData.from_table_code\r\n      //   : posCheckData.table_code;\r\n      let pendingTableNo = this.pointerData?.filter(res => res.code == \"PO_PNDTBCD\")[0]?.pointer_value;\r\n      check_obj.print_count = posCheckData.print_count;\r\n      check_obj.covers = posCheckData.covers;\r\n      check_obj.round_off = posCheckData.round_off;\r\n      check_obj.pos_item_id = pos_item.pos_item_id;\r\n      check_obj.guest_gst_number = posCheckData.guest_gst_number || '';\r\n      check_obj.open_date = posCheckData.open_date;\r\n      check_obj.close_date = posCheckData.close_date || null;\r\n      check_obj.open_time = posCheckData.open_time;\r\n      check_obj.guest_name = posCheckData.guest_name || '';\r\n      check_obj.dr_total = posCheckData.dr_total;\r\n      check_obj.table_code = (posCheckData.from_table_code && posCheckData.table_code == pendingTableNo) ? posCheckData.from_table_code : posCheckData.table_code;\r\n      check_obj.membership_number = posCheckData.membership_number;\r\n\r\n\r\n\r\n\r\n      let item_hsn_code = pos_item.pos_item?.hsn_sac_code || '';\r\n\r\n      if (!item_hsn_code) {\r\n        const check_charge = posCheckData.pos_check_charges?.find((obj: any) => obj.charge_id === pos_item.charge_id);\r\n        item_hsn_code = check_charge?.charge?.hsn_sac_code || '';\r\n      }\r\n\r\n      check_obj.hsn_sac_code = item_hsn_code;\r\n      check_obj.quantity = pos_item.quantity;\r\n      check_obj.amount = parseFloat(pos_item.amount);\r\n      check_obj.rate = pos_item.rate;\r\n      check_obj.charge_id = pos_item.charge_id;\r\n      check_obj.last_action = pos_item.last_action;\r\n\r\n      check_obj.fd_tax = fdTaxTotal.toFixed(2);\r\n      check_obj.lq_tax = lqTaxTotal.toFixed(2);\r\n      check_obj.fd_discount = fdDiscountTotal.toFixed(2);\r\n      check_obj.lq_discount = lqDiscountTotal.toFixed(2);\r\n      check_obj.lq_bill_pay = lq_bill_pay.toFixed(2);\r\n      check_obj.fd_bill_pay = fd_bill_pay.toFixed(2);\r\n\r\n      checkArray.push(check_obj);\r\n    });\r\n\r\n    return checkArray;\r\n  }\r\n\r\n\r\n  mapCheckCharge(posCheckChargeData: any[]): any[] {\r\n    const checkChargeArray: any[] = [];\r\n\r\n    posCheckChargeData.forEach((posCheckCharge) => {\r\n      // Map taxes\r\n      posCheckCharge.pos_check_charge_taxes?.forEach((posCheckTax: any) => {\r\n        const posCheckChargeObj: any = {\r\n          pos_check_id: posCheckCharge.pos_check_id,\r\n          charge_id: posCheckCharge.charge_id,\r\n          amount: posCheckTax.amount,\r\n          serial_number: 2,\r\n          charge_group_code: posCheckCharge.charge?.print_chage_group_code || \"\",\r\n        };\r\n\r\n        if (posCheckTax.tax && Object.keys(posCheckTax.tax).length > 0) {\r\n          const taxPercent = parseFloat(posCheckTax.tax_percentage).toString();\r\n          const translation = posCheckTax.tax.charge_translations?.[0];\r\n          if (translation) {\r\n            const description = translation.description;\r\n            posCheckChargeObj.description = description.includes(\"%\")\r\n              ? description\r\n              : `${description} ${taxPercent}%`;\r\n            posCheckChargeObj.description_without_p = description;\r\n          } else {\r\n            posCheckChargeObj.description = `${posCheckTax.tax.code} ${taxPercent}%`;\r\n            posCheckChargeObj.description_without_p = posCheckTax.tax.code;\r\n          }\r\n        } else {\r\n          posCheckChargeObj.description = \"\";\r\n          posCheckChargeObj.description_without_p = \"\";\r\n        }\r\n\r\n        checkChargeArray.push(posCheckChargeObj);\r\n      });\r\n\r\n      // Map discounts\r\n      posCheckCharge.pos_check_charge_discounts?.forEach((discountData: any) => {\r\n        const posCheckDiscountObj: any = {\r\n          pos_check_id: posCheckCharge.pos_check_id,\r\n          charge_id: posCheckCharge.charge_id,\r\n          amount: discountData.amount,\r\n          serial_number: 1,\r\n          charge_group_code: posCheckCharge.charge?.print_chage_group_code || \"\",\r\n        };\r\n\r\n        if (discountData.pos_discount && Object.keys(discountData.pos_discount).length > 0) {\r\n          const discountPercentage = discountData.discount_percentage;\r\n          const translation = discountData.pos_discount.pos_discount_translations?.[0];\r\n          if (translation) {\r\n            const description = translation.description;\r\n            posCheckDiscountObj.description = `${description} ${discountPercentage != 0 ? parseFloat(discountPercentage).toString() + \"%\" : \"\"\r\n              }`;\r\n            posCheckDiscountObj.description_without_p = description;\r\n          } else {\r\n            posCheckDiscountObj.description = `${discountData.pos_discount.code} ${parseFloat(discountPercentage).toString()}%`;\r\n            posCheckDiscountObj.description_without_p = discountData.pos_discount.code;\r\n          }\r\n        } else {\r\n          posCheckDiscountObj.description = \"\";\r\n          posCheckDiscountObj.description_without_p = \"\";\r\n        }\r\n\r\n        checkChargeArray.push(posCheckDiscountObj);\r\n      });\r\n    });\r\n\r\n    return checkChargeArray;\r\n  }\r\n\r\n\r\n  mapCheckSettlementData(posCheckData: any): any[] {\r\n    const settlementArray: any[] = [];\r\n\r\n    if (posCheckData.pos_check_settlements && posCheckData.pos_check_settlements.length > 0) {\r\n      const settlementList = posCheckData.pos_check_settlements.filter(\r\n        (obj: any) => obj.allowance_ind === false\r\n      );\r\n\r\n      settlementList.forEach((settlement: any) => {\r\n        const settlementObj: any = {};\r\n\r\n        // Set settlement description and code\r\n        if (settlement.charge && Object.keys(settlement.charge).length > 0) {\r\n          if (settlement.charge.charge_translations && settlement.charge.charge_translations.length > 0) {\r\n            settlementObj[\"settlement_description\"] = settlement.charge.charge_translations[0].description;\r\n          } else {\r\n            settlementObj[\"settlement_description\"] = settlement.charge.code;\r\n          }\r\n          settlementObj[\"settlement_code\"] = settlement.charge.code;\r\n        } else {\r\n          settlementObj[\"settlement_description\"] = \"\";\r\n          settlementObj[\"settlement_code\"] = \"\";\r\n        }\r\n\r\n        // Server details\r\n        settlementObj[\"server\"] = (posCheckData.server && Object.keys(posCheckData.server).length > 0)\r\n          ? posCheckData.server.first_name\r\n          : \"\";\r\n\r\n        // Other properties\r\n        settlementObj[\"settlement_amount\"] = this.convertToFloat(settlement.amount);\r\n        settlementObj[\"card_no\"] = settlement.card_no;\r\n        settlementObj[\"settlement_type\"] = settlement.settlement_type;\r\n        settlementObj[\"pos_check_id\"] = settlement.pos_check_id;\r\n        settlementObj[\"dr_total\"] = this.convertToFloat(posCheckData.dr_total);\r\n        settlementObj[\"debit_card_balance\"] = (!settlement.debit_card_balance)\r\n          ? this.convertToFloat(settlement.debit_card_balance)\r\n          : 0;\r\n\r\n        settlementArray.push(settlementObj);\r\n      });\r\n    }\r\n\r\n    return settlementArray;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  printBill(objPosCheck: PosCheck, isDuplicateCopy = false) {\r\n    let report = Stimulsoft.Report.StiReport.createNewReport();\r\n    this.options.appearance.fullScreenMode = true;\r\n    let checkPrintingJson = {};\r\n    let checkChargeJson = {};\r\n    let checksettlementJson = {};\r\n    this.options.toolbar.displayMode = Stimulsoft.Viewer.StiToolbarDisplayMode.Separated;\r\n    checkPrintingJson[\"pos_check\"] = this.mapCheckData(objPosCheck);\r\n    checkChargeJson[\"pos_check_charges\"] = this.mapCheckCharge(objPosCheck.pos_check_charges);\r\n    checksettlementJson[\"pos_check_settlements\"] = this.mapCheckSettlementData(objPosCheck);\r\n    let dataSet = new Stimulsoft.System.Data.DataSet();\r\n    let dataSet2 = new Stimulsoft.System.Data.DataSet();\r\n    let dataSet3 = new Stimulsoft.System.Data.DataSet();\r\n    //let dataSet4 = new Stimulsoft.System.Data.DataSet();\r\n\r\n    dataSet.readJson(checkPrintingJson);\r\n    dataSet2.readJson(checkChargeJson);\r\n    dataSet3.readJson(checksettlementJson);\r\n    // dataSet4.readJSo\r\n    let checkThermalPrinter = this.currentOutletSettings[0]?.thermal_printer_ind;\r\n    if (checkThermalPrinter) {\r\n      report.loadFile('/public/mrt/check_thermal_printer.mrt');\r\n    } else {\r\n      report.loadFile('./public/mrt/checkSplitVersion.mrt');\r\n    }\r\n\r\n    report.regData(dataSet.pos_check, \"pos_check\", dataSet);\r\n    report.regData(dataSet2.pos_check_charges, \"pos_check_charges\", dataSet2);\r\n    report.regData(dataSet3.pos_check_settlements, \"pos_check_settlements\", dataSet3);\r\n\r\n    const billingHeaderData: OutletBilling[] = JSON.parse(localStorage.getItem(\"outletBillingHeader\"));\r\n    const outletBilling = billingHeaderData.filter(a => a.pos_restaurant_id === objPosCheck.pos_restaurant_id);\r\n\r\n    this.setCompanyHeaders(report, outletBilling);\r\n\r\n    // let objCheckBilling = {};\r\n    // if (outletBilling.length > 0) {\r\n    //   objCheckBilling = {\r\n    //     \"address1\": outletBilling[0].address1,\r\n    //     \"address2\": outletBilling[0].address2,\r\n    //     \"address3\": outletBilling[0].address3,\r\n    //     \"check_header_line1\": outletBilling[0].check_header_line1,\r\n    //     \"check_header_line2\": outletBilling[0].check_header_line2,\r\n    //     \"cin_number\": outletBilling[0].cin_number,\r\n    //     \"declaration\": outletBilling[0].declaration,\r\n    //     \"fssai_number\": outletBilling[0].fssai_number,\r\n    //     \"gst_declaration\": outletBilling[0].gst_declaration,\r\n    //     \"gst_number\": outletBilling[0].gst_number,\r\n    //     \"hsn_number\": outletBilling[0].hsn_number,\r\n    //     \"notes\": outletBilling[0].notes,\r\n    //     \"pan_number\": outletBilling[0].pan_number,\r\n    //     \"place_of_supply\": outletBilling[0].place_of_supply,\r\n    //     \"remarks\": outletBilling[0].remarks,\r\n    //     \"restaurant_contact\": outletBilling[0].restaurant_contact,\r\n    //     \"restaurant_email\": outletBilling[0].restaurant_email,\r\n    //     \"restaurant_name_on_check\": outletBilling[0].restaurant_name_on_check ? outletBilling[0].restaurant_name_on_check : objPosCheck.restaurant_name,\r\n    //     \"state_code\": outletBilling[0].state_code,\r\n    //     \"tin_number\": outletBilling[0].tin_number,\r\n    //     \"payment_qr\": outletBilling[0].upi_url + \"&am=\" + objPosCheck.dr_total + \"&cu=INR&tn=\" + objPosCheck.check_no,\r\n    //     \"zip\": outletBilling[0].zip,\r\n    //   }\r\n    // }\r\n\r\n    if (report.dictionary.variables.getByName(\"Declaration\") && outletBilling[0].declaration) {\r\n      report.dictionary.variables.getByName(\"Declaration\").valueObject = outletBilling[0].declaration;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"GST_Number\") && outletBilling[0].gst_number) {\r\n      report.dictionary.variables.getByName(\"GST_Number\").valueObject = outletBilling[0].gst_number;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"PAN_Number\") && outletBilling[0].pan_number) {\r\n      report.dictionary.variables.getByName(\"PAN_Number\").valueObject = outletBilling[0].pan_number;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"HsnNo\") && outletBilling[0].hsn_number) {\r\n      report.dictionary.variables.getByName(\"HsnNo\").valueObject = outletBilling[0].hsn_number;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"Address1\") && outletBilling[0].address1) {\r\n      report.dictionary.variables.getByName(\"Address1\").valueObject = outletBilling[0].address1;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"Restaurant_Contact\") && outletBilling[0].restaurant_contact) {\r\n      report.dictionary.variables.getByName(\"Restaurant_Contact\").valueObject = outletBilling[0].restaurant_contact;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"Restaurant_Email\") && outletBilling[0].restaurant_email) {\r\n      report.dictionary.variables.getByName(\"Restaurant_Email\").valueObject = outletBilling[0].restaurant_email;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"Check_Header_Line1\") && outletBilling[0].check_header_line1) {\r\n      report.dictionary.variables.getByName(\"Check_Header_Line1\").valueObject = outletBilling[0].check_header_line1;\r\n    }\r\n    if (report.dictionary.variables.getByName(\"Check_Header_Line2\") && outletBilling[0].check_header_line2) {\r\n      report.dictionary.variables.getByName(\"Check_Header_Line2\").valueObject = outletBilling[0].check_header_line2;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"Duplicate_Copy\")) {\r\n      // if (objPosCheck.print_count > 1) {\r\n      if (isDuplicateCopy) {\r\n        report.dictionary.variables.getByName(\"Duplicate_Copy\").valueObject = 1;\r\n      } else {\r\n        report.dictionary.variables.getByName(\"Duplicate_Copy\").valueObject = 0;\r\n      }\r\n    }\r\n\r\n    // if(report.dictionary.variables.getByName(\"Round_Off_Ind\")){\r\n    //   if(objPosCheck.round_off) {\r\n    //     report.dictionary.variables.getByName(\"Round_Off_Ind\").valueObject = true;\r\n    //   }\r\n    // }\r\n\r\n    if (report.dictionary.variables.getByName(\"Payment_QR\") && outletBilling[0].upi_url) {\r\n      report.dictionary.variables.getByName(\"Payment_QR\").valueObject = outletBilling[0].upi_url + \"&am=\" + objPosCheck.dr_total + \"&cu=INR&tn=\" + objPosCheck.check_no;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"Address2\") && outletBilling[0].address2) {\r\n      report.dictionary.variables.getByName(\"Address2\").valueObject = outletBilling[0].address2;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"Address3\") && outletBilling[0].address3) {\r\n      report.dictionary.variables.getByName(\"Address3\").valueObject = outletBilling[0].address3;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"CIN_Number\") && outletBilling[0].cin_number) {\r\n      report.dictionary.variables.getByName(\"CIN_Number\").valueObject = outletBilling[0].cin_number;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"FSSAI_Number\") && outletBilling[0].fssai_number) {\r\n      report.dictionary.variables.getByName(\"FSSAI_Number\").valueObject = outletBilling[0].fssai_number;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"GST_Declaration\") && outletBilling[0].gst_declaration) {\r\n      report.dictionary.variables.getByName(\"GST_Declaration\").valueObject = outletBilling[0].gst_declaration;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"Notes\") && outletBilling[0].notes) {\r\n      report.dictionary.variables.getByName(\"Notes\").valueObject = outletBilling[0].notes;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"Place_Of_Supply\") && outletBilling[0].place_of_supply) {\r\n      report.dictionary.variables.getByName(\"Place_Of_Supply\").valueObject = outletBilling[0].place_of_supply;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"Remarks\") && outletBilling[0].remarks) {\r\n      report.dictionary.variables.getByName(\"Remarks\").valueObject = outletBilling[0].remarks;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"Restaurant_Name_On_Check\")) {\r\n      report.dictionary.variables.getByName(\"Restaurant_Name_On_Check\").valueObject = outletBilling[0].restaurant_name_on_check ? outletBilling[0].restaurant_name_on_check : objPosCheck.restaurant_name;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"State_Code\") && outletBilling[0].state_code) {\r\n      report.dictionary.variables.getByName(\"State_Code\").valueObject = outletBilling[0].state_code;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"TIN_Number\") && outletBilling[0].tin_number) {\r\n      report.dictionary.variables.getByName(\"TIN_Number\").valueObject = outletBilling[0].tin_number;\r\n    }\r\n\r\n    if (report.dictionary.variables.getByName(\"Zip\") && outletBilling[0].zip) {\r\n      report.dictionary.variables.getByName(\"Zip\").valueObject = outletBilling[0].zip;\r\n    }\r\n\r\n    return report\r\n  }\r\n\r\n\r\n  setCompanyHeaders(report, outletBilling) {\r\n    // let restaurantCode = ($(\"#hdnLayoutRestCode\").val()).toLowerCase();\r\n    if (report.dictionary.variables.getByName(\"CompanyName\") && outletBilling[0].check_header_line1) {\r\n      report.dictionary.variables.getByName(\"CompanyName\").valueObject = outletBilling[0].check_header_line1;\r\n    }\r\n    if (report.dictionary.variables.getByName(\"companyNameFooter\") && outletBilling[0].check_header_line1) {\r\n      report.dictionary.variables.getByName(\"companyNameFooter\").valueObject = outletBilling[0].check_header_line1;\r\n    }\r\n    if (outletBilling[0].pan_number) {\r\n      if (report.dictionary.variables.getByName(\"PanNo\")) {\r\n        report.dictionary.variables.getByName(\"PanNo\").valueObject = outletBilling[0].pan_number;\r\n      }\r\n    }\r\n    // else {\r\n    //   if (report.dictionary.variables.getByName(\"PanNo\")) {\r\n    //     report.dictionary.variables.getByName(\"PanNo\").valueObject = common.getCompanyLabel(\"company.pan\");\r\n    //   }\r\n    // }\r\n    if (outletBilling[0].gst_number) {\r\n      if (report.dictionary.variables.getByName(\"GSTN_NO\")) {\r\n        report.dictionary.variables.getByName(\"GSTN_NO\").valueObject = outletBilling[0].gst_number;\r\n      }\r\n    }\r\n    // else {\r\n    //   if (report.dictionary.variables.getByName(\"GSTN_NO\")) {\r\n    //     report.dictionary.variables.getByName(\"GSTN_NO\").valueObject = common.getCompanyLabel(\"company.gst_no\");\r\n    //   }\r\n    // }\r\n    if (report.dictionary.variables.getByName(\"TinNo\") && outletBilling[0].tin_number) {\r\n      report.dictionary.variables.getByName(\"TinNo\").valueObject = outletBilling[0].tin_number;\r\n    }\r\n    if (report.dictionary.variables.getByName(\"CIN_no\") && outletBilling[0].cin_number) {\r\n      report.dictionary.variables.getByName(\"CIN_no\").valueObject = outletBilling[0].cin_number;\r\n    }\r\n    if (report.dictionary.variables.getByName(\"FSSAI_NO\") && outletBilling[0].fssai_number) {\r\n      report.dictionary.variables.getByName(\"FSSAI_NO\").valueObject = outletBilling[0].fssai_number;\r\n    }\r\n    if (report.dictionary.variables.getByName(\"Place\") && outletBilling[0].place_of_supply) {\r\n      report.dictionary.variables.getByName(\"Place\").valueObject = outletBilling[0].place_of_supply;\r\n    }\r\n    if (report.dictionary.variables.getByName(\"CheckHeaderLine1\") && outletBilling[0].check_header_line1) {\r\n      report.dictionary.variables.getByName(\"CheckHeaderLine1\").valueObject = outletBilling[0].check_header_line1;\r\n    }\r\n    if (report.dictionary.variables.getByName(\"CheckHeaderLine2\") && outletBilling[0].check_header_line2) {\r\n      report.dictionary.variables.getByName(\"CheckHeaderLine2\").valueObject = outletBilling[0].check_header_line2;\r\n    }\r\n    if (report.dictionary.variables.getByName(\"CompanyAddress\") && outletBilling[0].address1) {\r\n      report.dictionary.variables.getByName(\"CompanyAddress\").valueObject = outletBilling[0].address1 + outletBilling[0].address2 + outletBilling[0].address3;\r\n    }\r\n    if (report.dictionary.variables.getByName(\"CompanyContact\") && outletBilling[0].restaurant_contact) {\r\n      report.dictionary.variables.getByName(\"CompanyContact\").valueObject = outletBilling[0].restaurant_contact;\r\n    }\r\n    if (report.dictionary.variables.getByName(\"CompanyEmail\") && outletBilling[0].restaurant_email) {\r\n      report.dictionary.variables.getByName(\"CompanyEmail\").valueObject = outletBilling[0].restaurant_email;\r\n    }\r\n    if (report.dictionary.variables.getByName(\"CgstDeclaration\") && outletBilling[0].gst_declaration) {\r\n      report.dictionary.variables.getByName(\"CgstDeclaration\").valueObject = outletBilling[0].gst_declaration;\r\n    }\r\n    if (report.dictionary.variables.getByName(\"Declaration\") && outletBilling[0].declaration) {\r\n      report.dictionary.variables.getByName(\"Declaration\").valueObject = outletBilling[0].declaration;\r\n    }\r\n    let stiImage = Stimulsoft.System.Drawing.Image.fromFile(\"/companylogo.jpg\");\r\n    if (report.dictionary.variables.getByName(\"logo\")) {\r\n      report.dictionary.variables.getByName(\"logo\").valueObject = stiImage;\r\n    }\r\n    // if (report.dictionary.variables.getByName(\"MVAT\")) {\r\n    //   report.dictionary.variables.getByName(\"MVAT\").valueObject = common.getCompanyLabel(\"company.mvat_no\");\r\n    // }\r\n  }\r\n\r\n\r\n  convertToFloat(value: any): number {\r\n    const parsed = parseFloat(value);\r\n    return isNaN(parsed) ? 0 : parsed;\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { firstValueFrom } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ConfigService {\r\n  private config: any;\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  loadConfig() {\r\n    const timestamp = new Date().getTime(); // Get current time in milliseconds\r\n    const configUrl = `/assets/config.json?v=${timestamp}`; // Use timestamp to force reload\r\n\r\n    return firstValueFrom(this.http.get(configUrl))\r\n      .then((data) => {\r\n        this.config = data;\r\n      });\r\n  }\r\n\r\n  getConfig(key: string) {\r\n    return this.config ? this.config[key] : null;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DateFormatterService {\r\n\r\n  constructor() { }\r\n\r\n\r\n  formatDate(oDate: any) {\r\n    var oTempDate = new Date(oDate),\r\n      sMonth = '' + (oTempDate.getMonth() + 1),\r\n      sDay = '' + oTempDate.getDate(),\r\n      iYear = oTempDate.getFullYear();\r\n\r\n    if (sMonth.length < 2) { sMonth = '0' + sMonth; }\r\n    if (sDay.length < 2) { sDay = '0' + sDay; }\r\n\r\n    return [iYear, sMonth, sDay].join('-');\r\n  }\r\n\r\n  formatDate1(dateString) {\r\n    const [day, month, year] = dateString.split('-');\r\n    const formattedDate = `${year}-${month}-${day}`;\r\n    return formattedDate;\r\n  }\r\n\r\n\r\n  formatTimeTo24h(dateTimeString: any) {\r\n    if (dateTimeString) {\r\n      const date = new Date(dateTimeString);\r\n      const hours = String(date.getHours()).padStart(2, '0');\r\n      const minutes = String(date.getMinutes()).padStart(2, '0');\r\n      return `${hours}:${minutes}`;\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { map } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DebitCardsService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  fetchDebitCardData(cardNumber: any) {\r\n    let pointers = JSON.parse(localStorage.getItem(\"pointerData\"));\r\n    let businessDate = pointers?.filter((res: any) => res.code == \"BUSI\")[0]?.pointer_value;\r\n    let queryParams = new HttpParams();\r\n    queryParams = queryParams\r\n      .append('key_card_number', cardNumber)\r\n      .append('key_current_ind', true);\r\n    return this.http.get<any>(environment.APIENDPOINT + environment.DEBIT_CARDS, {\r\n      params: queryParams\r\n    }).\r\n      pipe(map((results: any) => {\r\n        return results;\r\n      }))\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EmailService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  sendEmail(to: string, subject: string, text: string): Observable<any> {\r\n    const emailData = { to, subject, text };\r\n    return this.http.post(environment.APIENDPOINTEMAIL + \"/\" + environment.EMAIL_API, emailData);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport * as CryptoJS from 'crypto-js';\r\nimport { environment } from '../../environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EncryptionService {\r\n  key: string = \"z!!!!!!!1sdfadsf56adf456asdfasdf\";\r\n  appProperties = {\r\n    VALUES: {\r\n      KEY: \"MTIzNDU2Nzg5MEFCQ0RFRkdISUpLTE1O\",\r\n      IV: \"MTIzNDU2Nzg=\"\r\n    }\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  encryptionAES(encryptStr: any) {\r\n    // Encrypt\r\n    const ciphertext = CryptoJS.AES.encrypt(encryptStr, environment.ENCRYPTION_SECRET_KEY);\r\n    return ciphertext.toString();\r\n  }\r\n\r\n  decryptionAES(decryptStr: any) {\r\n    // Decrypt\r\n    const bytes = CryptoJS.AES.decrypt(decryptStr, environment.ENCRYPTION_SECRET_KEY);\r\n    const plaintext = bytes.toString(CryptoJS.enc.Utf8);\r\n    return plaintext;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { AuthService } from './auth.service';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptorService implements HttpInterceptor {\r\n\tconstructor(private authService: AuthService) { }\r\n\r\n\tintercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n\t\treturn next.handle(request).pipe(catchError(err => {\r\n\t\t\tlet error: any = '';\r\n\t\t\tif ([401, 403].includes(err.status) && this.authService.user) {\r\n\t\t\t\t// auto logout if 401 or 403 response returned from api\r\n\t\t\t\t// this.accountService.logout();\r\n\t\t\t\terror = \"You do not have rights to access this page\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ([422].includes(err.status) && this.authService.user) {\r\n\t\t\t\terror = err.error;\r\n\t\t\t} else if ([500].includes(err.status)) {\r\n\t\t\t\terror = \"Something went wrong at server, error code 500!\"\r\n\t\t\t} else if(err.status === 0) {\r\n        error = \"Api service is down\";\r\n      }\r\n\t\t\telse {\r\n\t\t\t\terror = err.error?.message || err.statusText;\r\n\t\t\t}\r\n\r\n\t\t\treturn throwError(error);\r\n\t\t}))\r\n\t}\r\n}","import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { catchError, map, tap } from 'rxjs/operators';\r\nimport { environment } from '../../environments/environment';\r\nimport { Kitchen } from 'projects/reports/src/app/models/kitchen.model';\r\nimport { throwError } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class KitchenService {\r\n\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  getPosKitchens() {\r\n\r\n    return this.http.get<any>(environment.APIENDPOINT + environment.KITCHEN).pipe(\r\n      catchError(errorRes => {\r\n        console.log(errorRes);\r\n        return throwError(() => new Error(errorRes.message || \"An error occurred\"));\r\n      }),\r\n      tap(response => {\r\n        let kitchenArray: any = [];\r\n\r\n        response[\"pos_kitchens\"].forEach(kitchen => {\r\n          let objKitchen = {};\r\n          objKitchen[\"id\"] = kitchen.id;\r\n          objKitchen[\"code\"] = kitchen.code;\r\n          objKitchen[\"description\"] = kitchen.pos_kitchen_translations && kitchen.pos_kitchen_translations.length > 0 ? kitchen.pos_kitchen_translations[0][\"description\"] : \"\";\r\n          objKitchen[\"kitchen_printer1\"] = kitchen.kitchen_printer1;\r\n          objKitchen[\"kitchen_printer2\"] = kitchen.kitchen_printer2;\r\n          objKitchen[\"kitchen_printer3\"] = kitchen.kitchen_printer3;\r\n          objKitchen[\"kitchen_printer4\"] = kitchen.kitchen_printer4;\r\n          objKitchen[\"kitchen_printer5\"] = kitchen.kitchen_printer5;\r\n          objKitchen[\"freeze_ind\"] = kitchen.freeze_ind;\r\n          objKitchen[\"freeze_at\"] = kitchen.freeze_at;\r\n          kitchenArray.push(objKitchen);\r\n        });\r\n        return kitchenArray;\r\n      })\r\n    )\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { catchError, map, tap } from 'rxjs/operators';\r\nimport { PointerService } from './pointer.service';\r\nimport { PosCheck } from '../models/pos-check.model';\r\nimport { PosCheckDetail } from '../models/pos-check-detail.model';\r\nimport { PosCheckDetailModifier } from '../models/pos-check-detail-modifier.model';\r\nimport { PosOrderStatus } from '../models/pos-order-status.model';\r\nimport { throwError } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class KotService {\r\n  constructor(private http: HttpClient) { }\r\n\r\n  public getKotScreenCheckDetails(outletId: string) {\r\n    let businessDate = PointerService.getBusinessDate().toISOString().slice(0, 10)\r\n\r\n    let params = new HttpParams().append(\"key_restaurant\", outletId)\r\n      .append(\"key_check_open_date\", businessDate)\r\n      .append(\"key_check_details\", \"true\")\r\n\r\n    return this.http.get(environment.APIENDPOINT + environment.POS_CHECK, {\r\n      params: params\r\n    }).pipe(\r\n      map(response => {\r\n        if (response && response[\"pos_checks\"].length > 0) {\r\n          let checkList: PosCheck[] = [];\r\n          response[\"pos_checks\"].forEach(obj => {\r\n            if (obj.last_action.toUpperCase() != environment.LAST_ACTION_VOIDED) {\r\n              checkList.push(this.mapPosCheck(obj));\r\n            }\r\n          });\r\n          return checkList;\r\n        }\r\n      }\r\n      ));\r\n  }\r\n\r\n  public findBy(checkId: string) {\r\n    return this.http.get(environment.APIENDPOINT + environment.POS_CHECK + '/' + checkId)\r\n      .pipe(\r\n        map(response => {\r\n          let checkList: PosCheck[] = [];\r\n          if (response && response[\"pos_check\"]) {\r\n            checkList.push(this.mapPosCheck(response[\"pos_check\"]));\r\n            return checkList;\r\n          }\r\n        })\r\n      )\r\n  }\r\n\r\n  public mapPosCheck(obj): PosCheck {\r\n    let posCheck = new PosCheck();\r\n    let checkDetailList: PosCheckDetail[] = [];\r\n\r\n    posCheck.check_no = obj.check_no;\r\n    posCheck.check_series_no = obj.check_series_no;\r\n    posCheck.covers = obj.covers;\r\n    posCheck.id = obj.id;\r\n    posCheck.last_action = obj.last_action;\r\n    posCheck.open_time = obj.open_time;\r\n    posCheck.pos_restaurant_id = obj.pos_restaurant_id;\r\n    posCheck.table_code = obj.table_code;\r\n    posCheck.take_away_ind = obj.take_away_ind;\r\n\r\n    if (obj.pos_restaurant && obj.pos_restaurant.pos_restaurant_translations && obj.pos_restaurant.pos_restaurant_translations.length > 0) {\r\n      posCheck.restaurant_name = obj.pos_restaurant.pos_restaurant_translations[0].description;\r\n    } else {\r\n      posCheck.restaurant_name = \"\";\r\n    }\r\n\r\n    if (obj.server && obj.server.full_name) {\r\n      posCheck.server_name = obj.server.full_name;\r\n    } else {\r\n      posCheck.server_name = \"\";\r\n    }\r\n\r\n    obj.pos_check_details.forEach(detail => {\r\n      let kotItem = new PosCheckDetail();\r\n\r\n      kotItem.id = detail.id;\r\n      kotItem.pos_check_id = detail.pos_check_id;\r\n      kotItem.pos_item_id = detail.pos_item_id;\r\n      kotItem.quantity = detail.quantity;\r\n      kotItem.kot_no = detail.kot_no;\r\n      kotItem.system_time = detail.system_time;\r\n      kotItem.order_status_code = detail.pos_order_status ? detail.pos_order_status.code : \"\";\r\n      kotItem.order_status = (detail.pos_order_status && detail.pos_order_status.pos_order_status_translations && detail.pos_order_status.pos_order_status_translations.length > 0) ? detail.pos_order_status.pos_order_status_translations[0].description : \"\";\r\n      kotItem.item_description = detail.pos_item_name_on_check ? detail.pos_item_name_on_check : detail.item_description;\r\n\r\n      let itemModifier = [];\r\n      if (detail.pos_check_detail_modifiers && detail.pos_check_detail_modifiers.length > 0) {\r\n        detail.pos_check_detail_modifiers.forEach(element => {\r\n          let detailModifier = new PosCheckDetailModifier();\r\n\r\n          detailModifier.pos_check_detail_id = element.pos_check_detail_id;\r\n          detailModifier.modifier_name_on_check = element.pos_modifier && element.pos_modifier.pos_modifier_translations && element.pos_modifier.pos_modifier_translations.length > 0 ? element.pos_modifier.pos_modifier_translations[0].description : element.modifier_name_on_check;\r\n          itemModifier.push(detailModifier);\r\n        });\r\n      }\r\n\r\n      kotItem.pos_check_detail_modifiers = itemModifier;\r\n\r\n      if (detail.last_action.toUpperCase() != environment.LAST_ACTION_VOIDED) {\r\n        checkDetailList.push(kotItem);\r\n      }\r\n    });\r\n\r\n    if (checkDetailList.length > 0) {\r\n      posCheck.pos_check_details = checkDetailList;\r\n    }\r\n\r\n    return posCheck;\r\n  }\r\n\r\n  public getOrderStatuses() {\r\n    return this.http.get(environment.APIENDPOINT + environment.POS_ORDER_STATUS\r\n    ).pipe(\r\n      map(response => {\r\n        let statusArray: PosOrderStatus[] = []\r\n        if (response[\"pos_order_statuses\"] && response[\"pos_order_statuses\"].length > 0) {\r\n          response[\"pos_order_statuses\"].forEach(obj => {\r\n            let orderStatus = new PosOrderStatus(\r\n              obj.id,\r\n              obj.code,\r\n              obj.pos_order_status_translations && obj.pos_order_status_translations.length > 0 ? obj.pos_order_status_translations[0][\"description\"] : \"\"\r\n            );\r\n\r\n            statusArray.push(orderStatus);\r\n          });\r\n          localStorage.setItem(\"orderStatusData\", JSON.stringify(statusArray));\r\n        }\r\n        return statusArray;\r\n      }\r\n      ));\r\n  }\r\n\r\n  public updateOrderStatus(posCheck: object) {\r\n    return this.http.put(environment.APIENDPOINT + environment.POS_CHECK + '/' + posCheck['id'],\r\n      { pos_check: posCheck }\r\n    ).pipe(catchError(errorRes => {\r\n      let errorMessage = environment.GENERAL_API_ERROR_MESSAGE;\r\n      if (errorRes.pos_check && errorRes.pos_check.errors && errorRes.pos_check.errors.length > 0) {\r\n        errorMessage = errorRes.pos_check.errors[0];\r\n      }\r\n      else if (errorRes.status === 0) {\r\n        errorMessage = \"Api service is down\";\r\n      }\r\n      return throwError(errorMessage);\r\n    }), tap(response => {\r\n      if (response && response[\"pos_check\"]) {\r\n        return response[\"pos_check\"]\r\n      }\r\n    }));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor,\r\n} from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { LoaderService } from '../services/loader.service';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class LoaderInterceptorService implements HttpInterceptor {\r\n\r\n  constructor(private loaderService: LoaderService) {\r\n  }\r\n\r\n  intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\r\n    return next.handle(request).pipe(\r\n      finalize(() => this.loaderService.hide()),\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LoaderService {\r\n\r\n  isLoading = new Subject<boolean>();\r\n\r\n  constructor() {\r\n  }\r\n\r\n  show() {\r\n    this.isLoading.next(true);\r\n  }\r\n\r\n  hide() {\r\n    this.isLoading.next(false);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { catchError, map, tap } from 'rxjs/operators';\r\nimport { throwError } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MemberSearchService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  fetchMemberDetails(memberId: any, firstName: any, lastName: any) {\r\n    let queryParams = new HttpParams();\r\n    queryParams = queryParams.append('per_page', 1000);\r\n    if (memberId) {\r\n      queryParams = queryParams.append('key_like_membership_number', memberId)\r\n    }\r\n    if (firstName) {\r\n      queryParams = queryParams.append('key_firstname', firstName)\r\n    }\r\n    if (lastName) {\r\n      queryParams = queryParams.append('key_lastname', lastName)\r\n    }\r\n    return this.http.get<any>(environment.APIENDPOINT + environment.ACCOUNT, {\r\n      params: queryParams.append('key_club_member_ind', true)\r\n    })\r\n      .pipe(map((results: any) => {\r\n        return results;\r\n      }))\r\n  }\r\n\r\n  fetchMemberDetailsByDebitCard(cardNumber: any) {\r\n    return this.http.get<any>(environment.APIENDPOINT + environment.ACCOUNT, {\r\n      params: new HttpParams().append(\"key_club_member_ind\", true)\r\n        .append(\"key_member_card_number\", cardNumber)\r\n    })\r\n      .pipe(map((result: any) => {\r\n        return result;\r\n      }))\r\n  }\r\n}\r\n","// ngrok.interceptor.ts\nimport { Injectable } from '@angular/core';\nimport {\n  HttpInterceptor,\n  HttpRequest,\n  HttpHandler,\n  HttpEvent\n} from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class NgrokInterceptor implements HttpInterceptor {\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    // Only add the header if the request is going to your ngrok domain\n    if (req.url.includes('ngrok-free.app')) {\n      const modifiedReq = req.clone({\n        setHeaders: {\n          'ngrok-skip-browser-warning': 'true'\n        }\n      });\n      return next.handle(modifiedReq);\n    }\n\n    return next.handle(req);\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { map } from 'rxjs/operators';\r\nimport { OutletSetting } from '../models/outlet-setting.model';\r\nimport { PosRestaurant } from '../models/pos-restaurant.model';\r\nimport { Payment } from '../models/payment.model';\r\nimport { PosPaymentRestaurant } from '../models/pos-payment-restaurant.model';\r\nimport { PosMenuRestaurant } from '../models/pos-menu-restaurant.model';\r\nimport { OutletBilling } from '../models/outlet-billing.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OutletService {\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  getOutletDetailsBy(outletId: string, businessDate: string) {\r\n    return this.http.get(environment.APIENDPOINT + environment.POS_RESTAURANT + '/'+ outletId, \r\n      { params: new HttpParams().append(\"key_date\", businessDate)\r\n      }\r\n    ).pipe(\r\n        map((response) => {\r\n          if (response[\"pos_restaurant\"]) {\r\n            let obj = response[\"pos_restaurant\"];\r\n            let posRestaurant: PosRestaurant[] = [];\r\n\r\n            if (localStorage.getItem(\"posRestaurant\") != null) {\r\n              posRestaurant = JSON.parse(localStorage.getItem(\"posRestaurant\"));\r\n            };\r\n\r\n            if (posRestaurant.length > 0) {\r\n              const alreadyPresent = posRestaurant.filter(a => a.id === obj.id)\r\n\r\n              if (alreadyPresent.length <= 0) {\r\n                const newSetting: PosRestaurant = this.setPosRestaurantData(obj);\r\n                posRestaurant.push(newSetting);\r\n              }\r\n            }\r\n            else {\r\n              const newSetting: PosRestaurant = this.setPosRestaurantData(obj);\r\n              posRestaurant.push(newSetting);\r\n            }\r\n\r\n            localStorage.setItem(\"posRestaurant\", JSON.stringify(posRestaurant));\r\n            return posRestaurant;\r\n          }\r\n        })\r\n      )\r\n  }\r\n\r\n  setPosRestaurantData(obj): PosRestaurant {\r\n    let posPaymentRestaurant: PosPaymentRestaurant[] = [];\r\n    let posMenuRestaurant: PosMenuRestaurant[] = [];\r\n\r\n    if(obj.pos_payment_restaurants && obj.pos_payment_restaurants.length > 0) {\r\n      obj.pos_payment_restaurants.forEach(payment=> {\r\n        let objPayment = new Payment(\r\n          payment.payment.id,\r\n          payment.payment.code,\r\n          payment.payment.payment_ind,\r\n          payment.payment.account_code,\r\n          payment.payment.tax_ind,\r\n          payment.payment.dr_cr,\r\n          payment.payment.settlement_process_code,\r\n          payment.payment.gl_code,\r\n          payment.payment.print_charge_group_code,\r\n          payment.payment.department_code,\r\n          payment.payment.allowance_allowed_ind,\r\n          payment.payment.hsn_sac_code,\r\n          payment.payment.inclusive_of_tax_ind,\r\n          payment.payment.charge_translations && payment.payment.charge_translations.length > 0 ? payment.payment.charge_translations[0][\"description\"] : \"\"\r\n        )\r\n\r\n        let objRestaurantPayment = new PosPaymentRestaurant(\r\n          payment.id,\r\n          payment.pos_restaurant_id,\r\n          payment.payment_id,\r\n          payment.active_ind,\r\n          payment.freeze_ind,\r\n          objPayment\r\n        )\r\n\r\n        posPaymentRestaurant.push(objRestaurantPayment)\r\n      })\r\n    }\r\n\r\n    if(obj.pos_menu_restaurants && obj.pos_menu_restaurants.length > 0) {\r\n      obj.pos_menu_restaurants.forEach(menu=> {\r\n        let objMenuRest = new PosMenuRestaurant(\r\n          menu.id,\r\n          menu.pos_menu ? menu.pos_menu.code : \"\",\r\n          menu.pos_menu_id,\r\n          menu.pos_restaurant_id,\r\n          menu.pos_menu.pos_menu_translations && menu.pos_menu.pos_menu_translations.length > 0 ? menu.pos_menu.pos_menu_translations[0][\"long_name\"] : \"\",\r\n          menu.happy_hour_dow,\r\n          menu.happy_hour_from_date,\r\n          menu.happy_hour_from_time,\r\n          menu.happy_hour_to_date,\r\n          menu.happy_hour_to_time,\r\n          menu.valid_dow,\r\n          menu.valid_from_date,\r\n          menu.valid_from_time,\r\n          menu.valid_to_date,\r\n          menu.valid_to_time\r\n        )\r\n        posMenuRestaurant.push(objMenuRest)\r\n      })\r\n    }                                                                                                                                     \r\n\r\n    const posRestaurant = new PosRestaurant(\r\n      obj.id, obj.code,\r\n      obj.department_code, obj.serial_number,\r\n      obj.gst_number,\r\n      obj.pos_restaurant_translations && obj.pos_restaurant_translations.length > 0 ? obj.pos_restaurant_translations[0][\"description\"] : \"\",\r\n      posPaymentRestaurant, \r\n      posMenuRestaurant\r\n    )\r\n    return posRestaurant;\r\n  }\r\n\r\n  getOutletSettings(outletId: string) {\r\n    return this.http.get(environment.APIENDPOINT + environment.POS_OUTLET_SETTING,\r\n      { params: new HttpParams().append(\"key_restaurant\", outletId) }\r\n    ).pipe(\r\n      map((response) => {\r\n        if (response[\"pos_restaurant_settings\"] && response[\"pos_restaurant_settings\"].length > 0) {\r\n          let outletSetting: OutletSetting[] = [];\r\n\r\n          if (localStorage.getItem(\"outletSetting\") != null) {\r\n            outletSetting = JSON.parse(localStorage.getItem(\"outletSetting\"));\r\n          };\r\n\r\n          response[\"pos_restaurant_settings\"].forEach(obj => {\r\n            if (outletSetting.length > 0) {\r\n              const alreadyPresent = outletSetting.filter(a => a.pos_restaurant_id === obj.pos_restaurant_id)\r\n\r\n              if (alreadyPresent.length <= 0) {\r\n                const newSetting: OutletSetting = this.setOutletSettingData(obj);\r\n                outletSetting.push(newSetting);\r\n              }\r\n            }\r\n            else {\r\n              const newSetting: OutletSetting = this.setOutletSettingData(obj);\r\n              outletSetting.push(newSetting);\r\n            }\r\n          });\r\n          localStorage.setItem(\"outletSetting\", JSON.stringify(outletSetting));\r\n          return outletSetting;\r\n        }\r\n      })\r\n    )\r\n  }\r\n\r\n  setOutletSettingData(obj): OutletSetting {\r\n    const objSetting = new OutletSetting(\r\n      obj.id,\r\n      obj.pos_restaurant_id,\r\n      obj.default_menu_id,\r\n      obj.card_details_mandetory,\r\n      obj.has_multiple_shifts_ind,\r\n      obj.allow_item_rate_change_ind,\r\n      obj.debit_card_ind,\r\n      obj.call_local_after_print_ind,\r\n      obj.call_print_after_settle_ind,\r\n      obj.prompt_kot_print_on_copy_check_ind,\r\n      obj.refresh_interval,\r\n      obj.print_check_by_account_ind,\r\n      obj.print_check_default_count,\r\n      obj.print_guest_name_ind,\r\n      obj.print_member_id_ind,\r\n      obj.guest_name_mandetory_ind,\r\n      obj.covers_mandetory_ind,\r\n      obj.print_kot_ind,\r\n      obj.hsn_sac_number,\r\n      obj.debit_card_in_use_ind,\r\n      obj.debit_card_no_start_position,\r\n      obj.debit_card_no_length,\r\n      obj.void_backdated_check_ind,\r\n      obj.print_round_off_ind,\r\n      obj.thermal_printer_ind,\r\n      obj.happy_hour_ind,\r\n      obj.allow_excess_amount_ind,\r\n      obj.check_server_side_print_ind,\r\n      obj.qsr_in_use_ind,\r\n      obj.inhouse_delivery_ind,\r\n      obj.self_service_ind,\r\n      obj.print_kot_after_settlement_ind,\r\n      obj.qr_view_menu_ind,\r\n      obj.qr_place_order_ind,\r\n      obj.kot_client_side_ind,\r\n      obj.allowance_backdated_check_ind,\r\n      obj.broadcast_kot_status_ind,\r\n      obj.broadcast_table_status_ind,\r\n      obj.check_print_required_ind,\r\n      obj.gst_number,\r\n      obj.pan_number,\r\n      obj.inclusive_of_tax_ind\r\n    )\r\n\r\n    return objSetting;\r\n  }\r\n\r\n  getOutletName(outletId: string): string {\r\n    const restaurants: PosRestaurant[] = JSON.parse(localStorage.getItem(\"posRestaurant\"));\r\n\r\n    if(restaurants && restaurants.length > 0) {\r\n      let selectedOutlet = restaurants.filter(x => x.id === +outletId)\r\n      if (selectedOutlet.length > 0) {\r\n        return selectedOutlet[0].restaurant_name;\r\n      } else {\r\n        return \"\";\r\n      }\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  getDepartmentCodeBy(outletId: string) {\r\n    let departmentCode: string = \"\";\r\n    const restaurantData: PosRestaurant[] = JSON.parse(localStorage.getItem(\"posRestaurant\"));\r\n\r\n    if(restaurantData && restaurantData.length > 0) {\r\n      let currentRestaurant = restaurantData.filter(x => x.id === +outletId);\r\n      if(currentRestaurant && currentRestaurant.length > 0) {\r\n        departmentCode = currentRestaurant[0].department_code;\r\n      }\r\n    }\r\n    return departmentCode;\r\n  }\r\n\r\n  getOutletBillingDetails(outletId: string) {\r\n    return this.http.get(environment.APIENDPOINT + environment.POS_RESTAURANT_BILLING_HEADER,\r\n      { params: new HttpParams().append(\"key_restaurant\", outletId) }\r\n    ).pipe(\r\n      map((response) => {\r\n        if (response[\"pos_restaurant_billing_headers\"] && response[\"pos_restaurant_billing_headers\"].length > 0) {\r\n          let outletBilling: OutletBilling[] = [];\r\n\r\n          if (localStorage.getItem(\"outletBillingHeader\") != null) {\r\n            outletBilling = JSON.parse(localStorage.getItem(\"outletBillingHeader\"));\r\n          };\r\n\r\n          response[\"pos_restaurant_billing_headers\"].forEach(obj => {\r\n            if (outletBilling.length > 0) {\r\n              const alreadyPresent = outletBilling.filter(a => a.pos_restaurant_id === obj.pos_restaurant_id)\r\n\r\n              if (alreadyPresent.length <= 0) {\r\n                const newSetting: OutletBilling = this.setOutletBillingHeader(obj);\r\n                outletBilling.push(newSetting);\r\n              }\r\n            }\r\n            else {\r\n              const newSetting: OutletBilling = this.setOutletBillingHeader(obj);\r\n              outletBilling.push(newSetting);\r\n            }\r\n          });\r\n          localStorage.setItem(\"outletBillingHeader\", JSON.stringify(outletBilling));\r\n          return outletBilling;\r\n        }\r\n      })\r\n    )\r\n  }\r\n\r\n  setOutletBillingHeader(obj): OutletBilling {\r\n    const outletBilling = new OutletBilling(\r\n      obj.id,\r\n      obj.saas_company_id,\r\n      obj.company_id,\r\n      obj.branch_id,\r\n      obj.pos_restaurant_id,\r\n      obj.restaurant_name_on_check,\r\n      obj.gst_number,\r\n      obj.pan_number,\r\n      obj.hsn_number,\r\n      obj.tin_number,\r\n      obj.cin_number,\r\n      obj.fssai_number,\r\n      obj.place_of_supply,\r\n      obj.state_code,\r\n      obj.check_header_line1,\r\n      obj.check_header_line2,\r\n      obj.address1,\r\n      obj.address2,\r\n      obj.address3,\r\n      obj.zip,\r\n      obj.restaurant_contact,\r\n      obj.restaurant_email,\r\n      obj.gst_declaration,\r\n      obj.declaration,\r\n      obj.upi_url,\r\n      obj.remarks,\r\n      obj.notes\r\n    );\r\n    return outletBilling;\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { catchError, map, tap } from 'rxjs/operators';\r\nimport { Pointer } from '../models/pointer.model';\r\nimport { throwError } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PointerService {\r\n  constructor(private http: HttpClient) { }\r\n\r\n  public getAll() {\r\n    let params = new HttpParams();\r\n    params = params.append(\"key_module\", environment.MODULE_POS).append(\"per_page\", environment.API_DATA_PER_PAGE);\r\n\r\n    return this.http.get(environment.APIENDPOINT + environment.POINTER, {\r\n      params: params\r\n    }\r\n    ).pipe(\r\n      map(response => {\r\n        const pointerList: Pointer[] = [];\r\n        if(response && response[\"pointers\"].length > 0) {\r\n          response[\"pointers\"].forEach(obj => {\r\n             const pointer = new Pointer(\r\n               obj.id,\r\n               obj.code,\r\n               obj.description,\r\n               obj.pointer_value\r\n             )\r\n\r\n             pointerList.push(pointer);\r\n          });\r\n          localStorage.setItem('pointerData', JSON.stringify(pointerList)); \r\n          return pointerList;\r\n        }\r\n      })\r\n    )\r\n  }\r\n\r\n  public getByCode(code: string){\r\n    return this.http.get(environment.APIENDPOINT + environment.POINTER, {\r\n      params: new HttpParams().append(\"key_code\", code)\r\n    }\r\n    ).pipe(\r\n      map(response => {\r\n        if(response[\"pointers\"] && response[\"pointers\"].length > 0)\r\n          return response[\"pointers\"][0];\r\n        else \r\n          return \"\";\r\n      })\r\n    )\r\n  }\r\n\r\n  public filterValueByCode(code: string): string {\r\n    const pointerData = JSON.parse(localStorage.getItem('pointerData'));\r\n    \r\n    if(!pointerData) {\r\n      return \"\";\r\n    }\r\n    \r\n    let objPointer = pointerData.filter(t => {\r\n      return t.code.toLowerCase() == code.toLowerCase();\r\n    });\r\n\r\n    if(objPointer && objPointer.length > 0) {\r\n      return objPointer[0].pointer_value;\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  public getDecimalPlaceValue(): number {\r\n    const pointerData = JSON.parse(localStorage.getItem('pointerData'));\r\n    \r\n    if(!pointerData) {\r\n      return 2;\r\n    }\r\n\r\n    let objPointer = pointerData.filter(t => {\r\n      return t.code.toLowerCase() == environment.POINTER_DECIMAL_PLACE.toLowerCase();\r\n    });\r\n\r\n    if(objPointer && objPointer.length > 0) {\r\n      return +objPointer[0].pointer_value;\r\n    } else {\r\n      return 2;\r\n    }\r\n  }\r\n\r\n  public getCurrencyByCode(code: string){\r\n    return this.http.get(environment.APIENDPOINT + environment.CURRENCY, {\r\n      params: new HttpParams().append(\"key_code\", code).append(\"per_page\", environment.API_DATA_PER_PAGE)\r\n    }\r\n    ).pipe(\r\n      map(response => {\r\n        if(response[\"currencies\"] && response[\"currencies\"].length > 0) {\r\n          localStorage.setItem(\"currencyData\", JSON.stringify(response[\"currencies\"][0]));\r\n        }\r\n      })\r\n    )\r\n  }\r\n\r\n  public static getLocalCurrencyId() {\r\n    const currencyData = JSON.parse(localStorage.getItem(\"currencyData\"));\r\n    if(currencyData) {\r\n      return currencyData.id;\r\n    }\r\n    else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  public static getLocalCurrencySymbol() {\r\n    const currencyData = JSON.parse(localStorage.getItem(\"currencyData\"));\r\n    if(currencyData) {\r\n      return currencyData.symbol ? currencyData.symbol : currencyData.code;\r\n    }\r\n    else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  public static getBusinessDate(): Date {\r\n    const pointerData = JSON.parse(localStorage.getItem('pointerData'));\r\n    //const pointerCode = environment.POINTER_USE_SYSTEM_DATE;\r\n    let returnDate: Date = new Date();\r\n    \r\n    if(pointerData) {\r\n      let businessDate = pointerData.filter(t => {\r\n        return t.code.toLowerCase() == environment.POINTER_BUSINESS_DATE.toLowerCase();\r\n      });\r\n\r\n      if(businessDate && businessDate.length > 0) {\r\n        returnDate = new Date(businessDate[0].pointer_value);\r\n      }\r\n      \r\n      // let objPointer = pointerData.filter(t => {\r\n      //   return t.code.toLowerCase() == pointerCode.toLowerCase();\r\n      // });\r\n\r\n      // if(objPointer && objPointer.length > 0) {\r\n      //   if(objPointer[0].pointer_value.toUpperCase() === \"N\") {\r\n      //     let businessDate = pointerData.filter(t => {\r\n      //       return t.code.toLowerCase() == environment.POINTER_BUSINESS_DATE.toLowerCase();\r\n      //     });\r\n  \r\n      //     if(businessDate && businessDate.length > 0) {\r\n      //       returnDate = new Date(businessDate[0].pointer_value);\r\n      //     }\r\n      //   }\r\n      // }\r\n    }\r\n    return returnDate;\r\n  }\r\n\r\n  public static getISOBusinessDate(): string {\r\n    return this.getBusinessDate().toISOString().slice(0, 10);\r\n  }\r\n\r\n  public changeBusinessDate(currentBusinessDate: string, saasCompanyId: number, companyId: number, branchId: number) {\r\n    return this.http.post(environment.APIENDPOINT + environment.CHANGE_BUSINESS_DATE,\r\n      { \r\n        \"night_audit\": {\r\n          \"business_date\": currentBusinessDate,\r\n          \"saas_company_id\": saasCompanyId,\r\n          \"company_id\": companyId,\r\n          \"branch_id\": branchId\r\n        }\r\n      }\r\n    ).pipe(catchError(errorRes => {\r\n      let errorMessage = \"An unknown error occurred!\"\r\n      if (errorRes.night_audit && errorRes.night_audit.errors) {\r\n        errorMessage = errorRes.night_audit.errors;\r\n      }\r\n      else if (errorRes.status === 0) {\r\n        errorMessage = \"Api service is down\";\r\n      }\r\n      return throwError(errorMessage);\r\n    }), tap(resData => {\r\n\r\n    }));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { PosCheck } from '../models/pos-check.model';\r\nimport { PosCheckCharge } from '../models/pos-check-charge.model';\r\nimport { PosCheckDetail } from '../models/pos-check-detail.model';\r\nimport { PosCheckDetailModifier } from '../models/pos-check-detail-modifier.model';\r\nimport { PosModifier } from '../models/pos-modifier.model';\r\nimport { PosCheckChargeTax } from '../models/pos-check-charge-tax.model';\r\nimport { PointerService } from './pointer.service';\r\nimport { BehaviorSubject, throwError } from 'rxjs';\r\nimport { AuthService } from './auth.service';\r\nimport { ChargeService } from './charge.service';\r\nimport { Charge } from '../models/charge.model';\r\nimport { catchError, map, tap } from 'rxjs/operators';\r\nimport { TableLayout } from '../models/table-layout.model';\r\nimport { PosCheckChargeDiscount } from '../models/pos-check-charge-discount.model';\r\nimport { PosCheckSettlement } from '../models/pos-check-settlement.model';\r\nimport { PosCheckDelivery } from '../models/pos-check-delivery.model';\r\nimport { Account } from '../models/account.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PosCheckService {\r\n  decimalPlace: number = this.pointerService.getDecimalPlaceValue();\r\n  posCheckSubject = new BehaviorSubject<PosCheck>(null);\r\n\r\n  private messageSource = new BehaviorSubject<string>(null);\r\n  currentMessage = this.messageSource.asObservable();\r\n\r\n  constructor(private http: HttpClient,\r\n    private pointerService: PointerService,\r\n    private authService: AuthService,\r\n    private chargeService: ChargeService) { }\r\n\r\n  changePosCheckSubject(newData: PosCheck) {\r\n    this.posCheckSubject.next(newData);\r\n  }\r\n\r\n\r\n  changeMessage(message: string) {\r\n    this.messageSource.next(message);\r\n  }\r\n\r\n  public get posCheckValue(): PosCheck {\r\n    return this.posCheckSubject.value;\r\n  }\r\n\r\n  public resetPosCheckSubject() {\r\n    if (this.posCheckSubject) {\r\n      this.posCheckSubject.next(null);\r\n    }\r\n  }\r\n\r\n  public assignDeliveryAddress(delivery: PosCheckDelivery) {\r\n    let posCheck: PosCheck = this.posCheckSubject.value ? this.posCheckSubject.value : new PosCheck();\r\n    posCheck.guest_name = delivery.first_name + \" \" + delivery.last_name;\r\n    posCheck.pos_check_delivery.push(delivery);\r\n    this.changePosCheckSubject(posCheck);\r\n  }\r\n\r\n  public mapDeliveryFields(accountFields: Account): PosCheckDelivery {\r\n    let account = accountFields['account'] ? accountFields['account'] : accountFields;\r\n\r\n    let objDelivery = new PosCheckDelivery();\r\n    objDelivery.account_id = account.id;\r\n    objDelivery.first_name = account.first_name;\r\n    objDelivery.last_name = account.last_name;\r\n\r\n    if (account.account_address && account.account_address.length > 0) {\r\n      objDelivery.account_address_id = account.account_address[0].id;\r\n      objDelivery.address1 = account.account_address[0].address1;\r\n      objDelivery.address2 = account.account_address[0].address2;\r\n      objDelivery.address3 = account.account_address[0].address3;\r\n      objDelivery.city = account.account_address[0].city_name;\r\n      objDelivery.state = account.account_address[0].state_name;\r\n      objDelivery.country = account.account_address[0].country_name;\r\n      objDelivery.account_address_id = account.account_address[0].address_type_id;\r\n    }\r\n\r\n    if (account.account_contact_number && account.account_contact_number.length > 0) {\r\n      account.account_contact_number.forEach(element => {\r\n        if (this.isEmail(element.contact_number_value)) {\r\n          objDelivery.delivery_email = element.contact_number_value;\r\n        } else {\r\n          objDelivery.delivery_contact_number = element.contact_number_value;\r\n        }\r\n      });\r\n    }\r\n\r\n    return objDelivery\r\n  }\r\n\r\n  public isEmail(email) {\r\n    var regex = /^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\r\n    email = email.trim();\r\n    return regex.test(email);\r\n  }\r\n\r\n  public getCheckDetailsBy(outletId: string, businessDate: string, table: TableLayout) {\r\n    let params = new HttpParams().append(\"key_restaurant\", outletId)\r\n      .append(\"key_check_open_date\", businessDate)\r\n      .append(\"key_table_code\", table.table_code)\r\n      .append(\"key_for_pos_layout\", \"true\")\r\n\r\n    if (table.table_status == environment.POS_TABLE_STATUS_KOT) {\r\n      params.append(\"key_kot\", \"true\");\r\n    }\r\n    else {\r\n      params.append(\"key_check\", \"true\");\r\n    }\r\n\r\n    return this.http.get(environment.APIENDPOINT + environment.POS_CHECK, {\r\n      params: params\r\n    }).pipe(\r\n      map(response => {\r\n        if (response && response[\"pos_checks\"].length > 0) {\r\n          return this.mapPosCheck(response[\"pos_checks\"][0]);\r\n        }\r\n      })\r\n    )\r\n  }\r\n\r\n  public findBy(checkId: string) {\r\n    return this.http.get(environment.APIENDPOINT + environment.POS_CHECK + '/' + checkId)\r\n      .pipe(\r\n        map(response => {\r\n          if (response && response[\"pos_check\"]) {\r\n            return this.mapPosCheck(response[\"pos_check\"]);\r\n          }\r\n        })\r\n      )\r\n  }\r\n\r\n  public mapPosCheck(obj): PosCheck {\r\n    let posCheck = new PosCheck();\r\n    posCheck.is_new = false;\r\n    posCheck.is_dirty = true;\r\n    posCheck.branch_id = obj.branch_id;\r\n    posCheck.check_no = obj.check_no;\r\n    posCheck.check_series_no = obj.check_series_no;\r\n    posCheck.close_cashier_id = obj.close_cashier_id;\r\n    posCheck.close_date = obj.close_date;\r\n    posCheck.close_time = obj.close_time;\r\n    posCheck.company_id = obj.company_id;\r\n    posCheck.covers = obj.covers;\r\n    posCheck.cr_total = obj.cr_total;\r\n    posCheck.currency_id = obj.currency_id;\r\n    posCheck.doc_id_rev = obj.doc_id_rev;\r\n    posCheck.dr_total = obj.dr_total;\r\n    posCheck.freeze_at = obj.freeze_at;\r\n    posCheck.freeze_ind = obj.freeze_ind;\r\n    posCheck.from_table_code = obj.from_table_code;\r\n    posCheck.from_void_check_no = obj.from_void_check_no;\r\n    posCheck.guest_gst_number = obj.guest_gst_number;\r\n    posCheck.guest_id = obj.guest_id;\r\n    posCheck.guest_name = obj.guest_name;\r\n    posCheck.happy_hour_ind = obj.happy_hour_ind;\r\n    posCheck.id = obj.id;\r\n    posCheck.last_action = obj.last_action;\r\n    posCheck.membership_number = obj.membership_number;\r\n    posCheck.open_cashier_id = obj.open_cashier_id;\r\n    posCheck.open_date = obj.open_date;\r\n    posCheck.open_shift = obj.open_shift;\r\n    posCheck.open_time = obj.open_time;\r\n    posCheck.order_type = obj.order_type;\r\n    posCheck.pos_ang_category_id = obj.pos_ang_category_id;\r\n    posCheck.pos_restaurant_id = obj.pos_restaurant_id;\r\n    posCheck.pos_void_reason_id = obj.pos_void_reason_id;\r\n    posCheck.print_cashier_id = obj.print_cashier_id;\r\n    posCheck.print_count = obj.print_count;\r\n    posCheck.print_date = obj.print_date;\r\n    posCheck.print_seq_no = obj.print_seq_no;\r\n    posCheck.print_shift = obj.print_shift;\r\n    posCheck.print_time = obj.print_time;\r\n    posCheck.ref_check_no = obj.ref_check_no;\r\n    posCheck.remarks = obj.remarks;\r\n    posCheck.room_settle_ind = obj.room_settle_ind;\r\n    posCheck.round_off = obj.round_off;\r\n    posCheck.saas_company_id = obj.saas_company_id;\r\n    posCheck.server_id = obj.server_id;\r\n    posCheck.split_check_ind = obj.split_check_ind;\r\n    posCheck.split_count = obj.split_count;\r\n    posCheck.table_code = obj.table_code;\r\n    posCheck.take_away_ind = obj.take_away_ind;\r\n    posCheck.tips = obj.tips;\r\n    posCheck.updated_place = obj.updated_place;\r\n    posCheck.void_user_id = obj.void_user_id;\r\n    posCheck.void_date_time = obj.void_date_time;\r\n    posCheck.void_reason_note = obj.void_reason_note;\r\n    posCheck.debit_card_number = obj?.debit_card_number;\r\n    posCheck.debit_card_reference_id = obj?.debit_card_reference_id;\r\n\r\n    if (obj.pos_ang_category && obj.pos_ang_category.pos_ang_category_translations && obj.pos_ang_category.pos_ang_category_translations.length > 0) {\r\n      posCheck.pos_ang_category = obj.pos_ang_category.pos_ang_category_translations[0].description;\r\n    } else {\r\n      posCheck.pos_ang_category = \"\";\r\n    }\r\n\r\n    if (obj.pos_restaurant && obj.pos_restaurant.pos_restaurant_translations && obj.pos_restaurant.pos_restaurant_translations.length > 0) {\r\n      posCheck.restaurant_name = obj.pos_restaurant.pos_restaurant_translations[0].description;\r\n    } else {\r\n      posCheck.restaurant_name = \"\";\r\n    }\r\n\r\n    if (obj.print_cashier && obj.print_cashier.full_name) {\r\n      posCheck.print_cashier_name = obj.print_cashier.full_name;\r\n    } else {\r\n      posCheck.print_cashier_name = \"\";\r\n    }\r\n\r\n    if (obj.server && obj.server.full_name) {\r\n      posCheck.server_name = obj.server.full_name;\r\n    } else {\r\n      posCheck.server_name = \"\";\r\n    }\r\n\r\n    this.mapPosCheckDetails(obj, posCheck);\r\n    this.mapPosCheckCharges(obj, posCheck);\r\n    this.mapPosCheckSettlements(obj, posCheck);\r\n    return posCheck;\r\n  }\r\n\r\n  mapPosCheckDetails(obj, posCheck: PosCheck) {\r\n    if (obj.pos_check_details && obj.pos_check_details.length > 0) {\r\n      obj.pos_check_details.forEach(element => {\r\n        let posCheckDetail = new PosCheckDetail();\r\n        posCheckDetail.id = element.id;\r\n        posCheckDetail.is_dirty = true;\r\n        posCheckDetail.pos_item_id = element.pos_item_id;\r\n        posCheckDetail.shift = element.shift;\r\n        posCheckDetail.business_date = element.business_date;\r\n        posCheckDetail.system_time = element.system_time;\r\n        posCheckDetail.pos_restaurant_id = element.pos_restaurant_id;\r\n        posCheckDetail.service = element.service;\r\n        posCheckDetail.charge_id = element.charge_id;\r\n        posCheckDetail.kot_no = element.kot_no;\r\n        posCheckDetail.kot_print_ind = element.kot_print_ind;\r\n        posCheckDetail.kot_print_count = element.kot_print_count;\r\n        posCheckDetail.void_quantity = element.void_quantity;\r\n        posCheckDetail.void_no = element.void_no;\r\n        posCheckDetail.void_by_id = element.void_by_id;\r\n        posCheckDetail.pos_void_reason_id = element.pos_void_reason_id;\r\n        posCheckDetail.void_reason_note = element.void_reason_note;\r\n        posCheckDetail.void_at = element.void_at;\r\n        posCheckDetail.void_place = element.void_place;\r\n        posCheckDetail.last_action = element.last_action;\r\n        posCheckDetail.item_description = element.item_description;\r\n        posCheckDetail.pos_menu_id = element.pos_menu_id;\r\n        posCheckDetail.pos_kitchen_id = element.pos_kitchen_id;\r\n        posCheckDetail.serial_number = element.serial_number;\r\n        posCheckDetail.remark = element.remark;\r\n        posCheckDetail.quantity = element.quantity;\r\n        posCheckDetail.rate = element.rate;\r\n        posCheckDetail.amount = +element.amount;\r\n        posCheckDetail.mrp = element.mrp;\r\n        posCheckDetail.currency_id = element.currency_id;\r\n        posCheckDetail.pos_item_size = element.pos_item_size;\r\n        posCheckDetail.pos_item_type = element.pos_item_type;\r\n        posCheckDetail.check_series_no = element.check_series_no;\r\n        posCheckDetail.fnb_series_no = element.fnb_series_no;\r\n        posCheckDetail.pos_item_name_on_check = element.pos_item_name_on_check;\r\n        posCheckDetail.do_not_print_price_ind = element.do_not_print_price_ind;\r\n        posCheckDetail.freeze_ind = element.freeze_ind;\r\n        posCheckDetail.freeze_at = element.freeze_at;\r\n        posCheckDetail.updated_place = element.updated_place;\r\n        posCheckDetail.lock_version = element.lock_version;\r\n        posCheckDetail.item_status = element.last_action == environment.LAST_ACTION_POSTED ? environment.STATUS_KOT : environment.STATUS_VOIDED;\r\n\r\n        if (element.charge) {\r\n          let objCharge = new Charge(\r\n            element.charge.id,\r\n            element.charge.code,\r\n            element.charge.payment_ind,\r\n            element.charge.account_code,\r\n            element.charge.tax_ind,\r\n            element.charge.dr_cr,\r\n            element.charge.settlement_process_code,\r\n            element.charge.print_chage_group_code,\r\n            element.charge.department_code,\r\n            element.charge.allowance_allowed_ind,\r\n            element.charge.hsn_sac_code,\r\n            element.charge.inclusive_of_tax_ind,\r\n            element.charge.charge_translations && element.charge.charge_translations.length > 0 ? element.charge.charge_translations[0].description : \"\",\r\n            element.charge.tax_charge_tax_links\r\n          )\r\n          posCheckDetail.charge = objCharge;\r\n        }\r\n\r\n        if (element.pos_check_detail_modifiers && element.pos_check_detail_modifiers.length > 0) {\r\n          element.pos_check_detail_modifiers.forEach(obj => {\r\n            let posCheckDetailModifier = new PosCheckDetailModifier();\r\n\r\n            posCheckDetailModifier.id = obj.id;\r\n            posCheckDetailModifier.pos_check_detail_id = obj.pos_check_detail_id;\r\n            posCheckDetailModifier.pos_modifier_id = obj.pos_modifier_id;\r\n            posCheckDetailModifier.serial_number = obj.serial_number;\r\n            posCheckDetailModifier.charged_ind = obj.charged_ind;\r\n            posCheckDetailModifier.currency_id = obj.currency_id;\r\n            posCheckDetailModifier.amount = +obj.amount;\r\n            posCheckDetailModifier.modifier_name_on_check = obj.modifier_name_on_check;\r\n            posCheckDetailModifier.freeze_ind = obj.freeze_ind;\r\n            posCheckDetailModifier.freeze_at = obj.freeze_at;\r\n            posCheckDetailModifier.updated_place = obj.updated_place;\r\n\r\n            if (obj.pos_modifier) {\r\n              let posModifier = new PosModifier(\r\n                obj.pos_modifier.id,\r\n                obj.pos_modifier.code,\r\n                obj.pos_modifier.pos_modifier_group_id,\r\n                +obj.pos_modifier.modifier_price,\r\n                obj.pos_modifier.modifier_image,\r\n                obj.pos_modifier.currency_id,\r\n                obj.pos_modifier.pos_modifier_translations && obj.pos_modifier.pos_modifier_translations.length > 0 ? obj.pos_modifier.pos_modifier_translations[0].description : \"\"\r\n              );\r\n\r\n              posCheckDetailModifier.pos_modifier = posModifier;\r\n            }\r\n            posCheckDetail.pos_check_detail_modifiers.push(posCheckDetailModifier);\r\n          });\r\n        } else {\r\n          posCheckDetail.pos_check_detail_modifiers = [];\r\n        }\r\n        posCheck.pos_check_details.push(posCheckDetail);\r\n      });\r\n    }\r\n  }\r\n\r\n  mapPosCheckCharges(obj, posCheck: PosCheck) {\r\n    if (obj.pos_check_charges && obj.pos_check_charges.length > 0) {\r\n      posCheck.pos_check_charges = [];\r\n      obj.pos_check_charges.forEach(element => {\r\n        let posCheckCharge = new PosCheckCharge();\r\n        posCheckCharge.is_new = false;\r\n        posCheckCharge.is_dirty = true;\r\n        posCheckCharge.amount = element.amount;\r\n        posCheckCharge.charge_id = element.charge_id;\r\n        posCheckCharge.currency_id = element.currency_id;\r\n\r\n        if (element.charge) {\r\n          posCheckCharge.charge = element.charge;\r\n        }\r\n\r\n        if (element.charge && element.charge.charge_translations && element.charge.charge_translations.length > 0) {\r\n          posCheckCharge.description = element.charge.charge_translations[0].description;\r\n        } else {\r\n          posCheckCharge.description = \"\";\r\n        }\r\n\r\n        posCheckCharge.dr_cr = element.dr_cr;\r\n        posCheckCharge.id = element.id;\r\n        posCheckCharge.pos_check_id = element.pos_check_id;\r\n        posCheckCharge.serial_number = element.serial_number;\r\n\r\n        if (element.pos_check_charge_taxes && element.pos_check_charge_taxes.length > 0) {\r\n          element.pos_check_charge_taxes.forEach(tax => {\r\n            let objTax = new PosCheckChargeTax();\r\n\r\n            objTax.is_new = false;\r\n            objTax.is_dirty = true;\r\n            objTax.amount = +tax.amount;\r\n            objTax.pos_check_charge_id = tax.pos_check_charge_id;\r\n            objTax.charge_id = tax.charge_id;\r\n            objTax.currency_id = tax.currency_id;\r\n            objTax.tax_id = tax.tax_id;\r\n            objTax.tax_percentage = tax.tax_percentage;\r\n            objTax.dr_cr = tax.dr_cr;\r\n            objTax.id = tax.id;\r\n            objTax.serial_number = tax.serial_number;\r\n            if (tax.tax && tax.tax.charge_translations && tax.tax.charge_translations.length > 0) {\r\n              objTax.description = tax.tax.charge_translations[0].description;\r\n            }\r\n\r\n            posCheckCharge.pos_check_charge_taxes.push(objTax);\r\n          });\r\n        }\r\n\r\n        if (element.pos_check_charge_discounts) {\r\n          element.pos_check_charge_discounts.forEach(chargeDiscount => {\r\n            let objDiscount = new PosCheckChargeDiscount();\r\n            objDiscount.amount = chargeDiscount.amount;\r\n            objDiscount.charge_id = chargeDiscount.charge_id;\r\n            objDiscount.pos_check_charge_id = chargeDiscount.pos_check_charge_id;\r\n            objDiscount.currency_id = chargeDiscount.currency_id;\r\n            objDiscount.dr_cr = chargeDiscount.dr_cr;\r\n            objDiscount.id = chargeDiscount.id;\r\n            objDiscount.pos_discount_id = chargeDiscount.pos_discount_id;\r\n            objDiscount.serial_number = chargeDiscount.serial_number;\r\n            objDiscount.discount_percentage = chargeDiscount.discount_percentage;\r\n\r\n            if (chargeDiscount.pos_discount && chargeDiscount.pos_discount.pos_discount_translations && chargeDiscount.pos_discount.pos_discount_translations.length > 0) {\r\n              objDiscount.description = chargeDiscount.pos_discount.pos_discount_translations[0].description;\r\n\r\n              if (chargeDiscount.charge && chargeDiscount.charge.charge_translations && chargeDiscount.charge.charge_translations.length > 0) {\r\n                objDiscount.description += \" on \" + chargeDiscount.charge.charge_translations[0].description;\r\n              }\r\n            }\r\n\r\n            posCheckCharge.pos_check_charge_discounts.push(objDiscount);\r\n          });\r\n        }\r\n\r\n        posCheck.pos_check_charges.push(posCheckCharge);\r\n      });\r\n    }\r\n  }\r\n\r\n  mapPosCheckSettlements(obj, posCheck: PosCheck) {\r\n    if (obj.pos_check_settlements && obj.pos_check_settlements.length > 0) {\r\n      posCheck.pos_check_settlements = [];\r\n      obj.pos_check_settlements.forEach(element => {\r\n        let settlement = new PosCheckSettlement();\r\n        settlement.id = element.id;\r\n        settlement.amount = element.amount;\r\n        settlement.card_no = element.card_no;\r\n        settlement.is_new = false;\r\n        settlement.is_dirty = true;\r\n        settlement.charge_id = element.charge_id;\r\n        settlement.currency_id = element.currency_id;\r\n        settlement.settlement_type = element.settlement_type;\r\n        settlement.dr_cr = element.dr_cr;\r\n        settlement.allowance_ind = element.allowance_ind;\r\n\r\n        if (element.charge && element.charge.charge_translations && element.charge.charge_translations.length > 0) {\r\n          settlement.description = element.charge.charge_translations[0].description;\r\n        } else {\r\n          settlement.description = \"\";\r\n        }\r\n        posCheck.pos_check_settlements.push(settlement);\r\n      });\r\n    }\r\n  }\r\n\r\n  updateOrder(currentOrder: PosCheck) {\r\n    let user = this.authService.userValue;\r\n\r\n    if (!currentOrder.saas_company_id) {\r\n      currentOrder.assignUserProperties(user);\r\n    }\r\n\r\n    const chargeList = [...new Set(currentOrder.pos_check_details.map(item => item.charge_id))];\r\n\r\n    this.calculateCharges(currentOrder, chargeList);\r\n    this.calculateChargeTaxes(currentOrder);\r\n    this.calculateDrTotal(currentOrder);\r\n    return currentOrder;\r\n  }\r\n\r\n  public calculateCharges(currentOrder: PosCheck, chargeList: number[]) {\r\n    if (chargeList.length > 0) {\r\n      chargeList.forEach(chargeId => {\r\n        let isChargeAlreadyPresent = currentOrder.pos_check_charges.filter(x => { return x.charge_id == chargeId });\r\n\r\n        let itemArray = currentOrder.pos_check_details.filter(t => {\r\n          return t.charge_id === chargeId;\r\n        });\r\n\r\n        let sum = 0;\r\n        itemArray.forEach(item => {\r\n          if (item.last_action == environment.LAST_ACTION_POSTED) {\r\n            sum += +item.amount;\r\n          }\r\n        });\r\n\r\n        if (isChargeAlreadyPresent.length > 0) {\r\n          if (itemArray && itemArray.length > 0) {\r\n            if (sum > 0 || itemArray[0]?.pos_item_type == \"OI\") {\r\n              isChargeAlreadyPresent[0].amount = +sum.toFixed(this.decimalPlace);\r\n              isChargeAlreadyPresent[0].destroy = 0;\r\n            }\r\n            else {\r\n              isChargeAlreadyPresent[0].destroy = 1;\r\n            }\r\n          }\r\n        } else {\r\n          if (itemArray && itemArray.length > 0) {\r\n            let chargeDetail: Charge = this.chargeService.getChargeById(chargeId);\r\n            if (chargeDetail) {\r\n              let objCharge = new PosCheckCharge();\r\n              objCharge.charge_id = chargeId;\r\n\r\n              if (sum > 0) {\r\n                objCharge.amount = +sum.toFixed(this.decimalPlace);\r\n                objCharge.destroy = 0;\r\n              }\r\n              else {\r\n                objCharge.destroy = 1;\r\n              }\r\n\r\n              objCharge.description = chargeDetail.description;\r\n              objCharge.dr_cr = chargeDetail.dr_cr;\r\n              objCharge.currency_id = PointerService.getLocalCurrencyId();\r\n\r\n              currentOrder.pos_check_charges.push(objCharge);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      currentOrder.pos_check_charges = [];\r\n    }\r\n  }\r\n\r\n  public calculateChargeTaxes(currentOrder: PosCheck) {\r\n    if (currentOrder.pos_check_charges.length > 0) {\r\n      currentOrder.pos_check_charges.forEach(charge => {\r\n        this.getChargeTax(charge);\r\n      })\r\n    }\r\n  }\r\n\r\n  public getChargeTax(posCheckCharge: PosCheckCharge) {\r\n    let chargeDetail = this.chargeService.getChargeById(posCheckCharge.charge_id);\r\n\r\n    if (chargeDetail && chargeDetail.tax_charge_tax_links && chargeDetail.tax_charge_tax_links.length > 0) {\r\n      if (posCheckCharge.pos_check_charge_taxes && posCheckCharge.pos_check_charge_taxes.length > 0) {\r\n        posCheckCharge.pos_check_charge_taxes.forEach(posCheckChargeTax => {\r\n          let taxList = chargeDetail.tax_charge_tax_links.filter(x => x.id == posCheckChargeTax.tax_id);\r\n\r\n          if (taxList.length > 0) {\r\n            if (taxList[0].tax_amount && +taxList[0].tax_amount > 0) {\r\n              posCheckChargeTax.amount = +taxList[0].tax_amount.toFixed(this.decimalPlace);\r\n            }\r\n            else {\r\n              if (posCheckCharge.pos_check_charge_discounts && posCheckCharge.pos_check_charge_discounts.length > 0) {\r\n                // calculate tax after discount\r\n                let amountAfterDiscount = 0;\r\n                let totalDiscount = 0;\r\n                posCheckCharge.pos_check_charge_discounts.forEach(discount => {\r\n                  totalDiscount += +discount.amount;\r\n                });\r\n\r\n                amountAfterDiscount = +(posCheckCharge.amount - totalDiscount);\r\n                posCheckChargeTax.amount = +(+amountAfterDiscount * +taxList[0].tax_percentage / 100).toFixed(this.decimalPlace);\r\n              } else {\r\n                posCheckChargeTax.amount = +(+posCheckCharge.amount * +taxList[0].tax_percentage / 100).toFixed(this.decimalPlace);\r\n              }\r\n            }\r\n\r\n            //if PosCheckCharge is destroy == 1 then remove it's taxes as well\r\n            if (posCheckCharge.is_dirty && posCheckCharge.destroy == 1) {\r\n              posCheckChargeTax.destroy = 1;\r\n            } else {\r\n              posCheckChargeTax.destroy = 0;\r\n            }\r\n          }\r\n        })\r\n      } else {\r\n        let taxList = [];\r\n        chargeDetail.tax_charge_tax_links.forEach(tax => {\r\n          let objTax = new PosCheckChargeTax();\r\n          objTax.currency_id = PointerService.getLocalCurrencyId();\r\n          objTax.tax_id = tax.id;\r\n          objTax.dr_cr = tax.dr_cr;\r\n          objTax.description = tax.tax_name;\r\n          objTax.tax_percentage = tax.tax_percentage;\r\n\r\n          if (tax.tax_amount != null && +tax.tax_amount > 0) {\r\n            objTax.amount = +tax.tax_amount.toFixed(this.decimalPlace);\r\n          }\r\n          else {\r\n            if (posCheckCharge.pos_check_charge_discounts && posCheckCharge.pos_check_charge_discounts.length > 0) {\r\n              // calculate tax after discount\r\n              let amountAfterDiscount = 0;\r\n              let totalDiscount = 0;\r\n              posCheckCharge.pos_check_charge_discounts.forEach(discount => {\r\n                totalDiscount += discount.amount;\r\n              });\r\n\r\n              amountAfterDiscount = +(posCheckCharge.amount - totalDiscount);\r\n              objTax.amount = +(+amountAfterDiscount * +tax.tax_percentage / 100).toFixed(this.decimalPlace);\r\n            } else {\r\n              objTax.amount = +(+posCheckCharge.amount * +tax.tax_percentage / 100).toFixed(this.decimalPlace);\r\n            }\r\n          }\r\n\r\n          if (posCheckCharge.destroy == 1) {\r\n            objTax.destroy = 1;\r\n          } else {\r\n            objTax.destroy = 0;\r\n          }\r\n          taxList.push(objTax);\r\n        });\r\n        posCheckCharge.pos_check_charge_taxes = taxList;\r\n      }\r\n    }\r\n  }\r\n\r\n  public calculateDrTotal(currentOrder: PosCheck) {\r\n    let totalAmount = 0;\r\n    currentOrder.pos_check_charges.forEach(charge => {\r\n      if (charge.destroy != 1) {\r\n        if (typeof (charge.amount) != 'undefined' || charge.amount != null) {\r\n          if (charge.dr_cr === environment.DR_IND) {\r\n            totalAmount += +charge.amount;\r\n          }\r\n        }\r\n      }\r\n\r\n      charge.pos_check_charge_discounts.forEach(discount => {\r\n        if (discount.destroy != 1) {\r\n          if (typeof (discount.amount) != 'undefined' || discount.amount != null) {\r\n            totalAmount -= +discount.amount;\r\n          }\r\n        }\r\n      })\r\n\r\n      charge.pos_check_charge_taxes.forEach(tax => {\r\n        if (tax.destroy != 1) {\r\n          if (typeof (tax.amount) != 'undefined' || tax.amount != null) {\r\n            totalAmount += +tax.amount;\r\n          }\r\n        }\r\n      })\r\n    });\r\n\r\n    // currentOrder.dr_total = +currentOrder.tips.toFixed(this.decimalPlace) + +totalAmount.toFixed(this.decimalPlace);\r\n    currentOrder.dr_total = +totalAmount.toFixed(this.decimalPlace);\r\n  }\r\n\r\n  public saveBill(posCheck: PosCheck) {\r\n    let json = PosCheck.createJson(posCheck);\r\n    if (posCheck.is_new) {\r\n      return this.http.post(environment.APIENDPOINT + environment.POS_CHECK,\r\n        { pos_check: json }\r\n      ).pipe(catchError(errorRes => {\r\n        let errorMessage = environment.GENERAL_API_ERROR_MESSAGE;\r\n        if (errorRes.pos_check && errorRes.pos_check.errors && errorRes.pos_check.errors.length > 0) {\r\n          errorMessage = errorRes.pos_check.errors[0];\r\n        }\r\n        else if (errorRes.status === 0) {\r\n          errorMessage = \"Api service is down\";\r\n        }\r\n        return throwError(errorMessage);\r\n      }), tap(response => {\r\n        if (response && response[\"pos_check\"]) {\r\n          return this.mapPosCheck(response[\"pos_check\"]);\r\n        }\r\n      }));\r\n    }\r\n    else {\r\n      return this.http.put(environment.APIENDPOINT + environment.POS_CHECK + '/' + posCheck.id,\r\n        { pos_check: json }\r\n      ).pipe(catchError(errorRes => {\r\n        let errorMessage = environment.GENERAL_API_ERROR_MESSAGE;\r\n        if (errorRes.pos_check && errorRes.pos_check.errors && errorRes.pos_check.errors.length > 0) {\r\n          errorMessage = errorRes.pos_check.errors[0];\r\n        }\r\n        else if (errorRes.status === 0) {\r\n          errorMessage = \"Api service is down\";\r\n        }\r\n        return throwError(errorMessage);\r\n      }), tap(response => {\r\n        if (response && response[\"pos_check\"]) {\r\n          return this.mapPosCheck(response[\"pos_check\"]);\r\n        }\r\n      }));\r\n    }\r\n  }\r\n\r\n  public settleBill(posCheck: PosCheck) {\r\n    posCheck.visit_id = posCheck?.pos_check_settlements[0]?.visit_id;\r\n\r\n    let json = PosCheck.createSettleCheckJson(posCheck);\r\n    return this.http.put(environment.APIENDPOINT + environment.SETTLE_CHECK,\r\n      { id: posCheck.id, pos_check: json }\r\n    ).pipe(catchError(errorRes => {\r\n      let errorMessage = environment.GENERAL_API_ERROR_MESSAGE;\r\n      if (errorRes.pos_check && errorRes.pos_check.errors && errorRes.pos_check.errors.length > 0) {\r\n        errorMessage = errorRes.pos_check.errors[0];\r\n      }\r\n      else if (errorRes.status === 0) {\r\n        errorMessage = \"Api service is down\";\r\n      }\r\n      return throwError(errorMessage);\r\n    }), tap(resData => {\r\n\r\n    }));\r\n  }\r\n\r\n  public voidBill(posCheck: PosCheck) {\r\n    let json = PosCheck.createJson(posCheck);\r\n    return this.http.put(environment.APIENDPOINT + environment.VOID_CHECK,\r\n      { id: posCheck.id, pos_check: json }\r\n    ).pipe(catchError(errorRes => {\r\n      let errorMessage = environment.GENERAL_API_ERROR_MESSAGE;\r\n      if (errorRes.pos_check && errorRes.pos_check.errors && errorRes.pos_check.errors.length > 0) {\r\n        errorMessage = errorRes.pos_check.errors[0];\r\n      }\r\n      else if (errorRes.status === 0) {\r\n        errorMessage = \"Api service is down\";\r\n      }\r\n      return throwError(errorMessage);\r\n    }), tap(resData => {\r\n\r\n    }));\r\n  }\r\n\r\n  public printBill(posCheck: PosCheck, currentShift: number) {\r\n    let json = {\r\n      \"id\": posCheck.id,\r\n      \"shift_no\": currentShift,\r\n      \"dr_total\": posCheck.dr_total,\r\n      \"round_off\": posCheck.round_off\r\n    };\r\n\r\n    return this.http.put(environment.APIENDPOINT + environment.PRINT_CHECK,\r\n      { id: posCheck.id, pos_check: json }\r\n    ).pipe(catchError(errorRes => {\r\n      let errorMessage = environment.GENERAL_API_ERROR_MESSAGE;\r\n      if (errorRes.pos_check && errorRes.pos_check.errors && errorRes.pos_check.errors.length > 0) {\r\n        errorMessage = errorRes.pos_check.errors[0];\r\n      }\r\n      else if (errorRes.status === 0) {\r\n        errorMessage = environment.API_IS_NOT_WORKING;\r\n      }\r\n      return throwError(errorMessage);\r\n    }), tap(resData => {\r\n    }));\r\n  }\r\n\r\n  public addTips(posCheck: PosCheck) {\r\n    let json = {\r\n      \"id\": posCheck.id,\r\n      \"tips\": posCheck.tips\r\n    };\r\n\r\n    return this.http.put(environment.APIENDPOINT + environment.POS_CHECK + \"/\" + posCheck.id,\r\n      { id: posCheck.id, pos_check: json }\r\n    ).pipe(catchError(errorRes => {\r\n      let errorMessage = \"An unknown error occurred!\"\r\n      if (errorRes.error && errorRes.error.pos_check && errorRes.error.pos_check.errors && errorRes.error.pos_check.errors.length > 0) {\r\n        errorMessage = errorRes.error.pos_check.errors[0];\r\n      } else if (errorRes.status === 0) {\r\n        errorMessage = \"Api service is down\";\r\n      } else if (errorRes.error) {\r\n        errorMessage = errorRes.error;\r\n      }\r\n      return throwError(errorMessage);\r\n    }), tap(resData => {\r\n\r\n    }));\r\n\r\n  }\r\n\r\n  transferTable(posCheck: PosCheck, newTable: string) {\r\n    let json = {\r\n      \"id\": posCheck.id,\r\n      \"table_code\": newTable,\r\n      \"from_table_code\": posCheck.table_code\r\n    };\r\n\r\n    return this.http.put(environment.APIENDPOINT + environment.TABLE_TRANSFER,\r\n      { id: posCheck.id, pos_check: json }\r\n    ).pipe(catchError(errorRes => {\r\n      let errorMessage = \"An unknown error occurred!\"\r\n      if (errorRes.pos_check && errorRes.pos_check.errors && errorRes.pos_check.errors.length > 0) {\r\n        errorMessage = errorRes.pos_check.errors[0];\r\n      } else if (errorRes.status === 0) {\r\n        errorMessage = \"Api service is down\";\r\n      } else if (errorRes.error) {\r\n        errorMessage = errorRes.error;\r\n      }\r\n      return throwError(errorMessage);\r\n    }), tap(resData => {\r\n\r\n    }));\r\n  }\r\n\r\n\r\n\r\n  sendFileToServerPDF(fileContent: string, printerName, kotNumber: string) {\r\n    const url = environment.KOT_PRINTER_PDF_ENDPOINT;\r\n    const body = {\r\n      PrinterName: printerName,\r\n      Base64Str: fileContent,\r\n      Filename: `${kotNumber}.txt`\r\n    };\r\n\r\n    const headers = new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n      'Accept': 'application/json'\r\n    });\r\n\r\n    this.http.post(url, body, { headers }).pipe(\r\n      catchError(error => {\r\n        console.error('Print request failed:', error);\r\n        return throwError(() => error);\r\n      })\r\n    ).subscribe(response => {\r\n      console.log('Print request successful:', response);\r\n    });\r\n\r\n  }\r\n\r\n\r\n  sendFileToServer1(fileContent: string) {\r\n    const url = environment.KOT_PRINTER_SERVICE_ENDPOINT + environment.SERVER_PRINT;\r\n\r\n    const body = {\r\n      fileContent: fileContent,\r\n    };\r\n\r\n\r\n    this.http.post(url, body).pipe(\r\n      catchError(error => {\r\n        console.error('Print request failed:', error);\r\n        return throwError(() => error);\r\n      })\r\n    ).subscribe(response => {\r\n      console.log('Print request successful');\r\n    });\r\n\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { map } from 'rxjs/operators';\r\nimport { PosDiscount, PosDiscountDetails } from '../models/pos-discount.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PosDiscountService {\r\n\r\n  constructor(private http: HttpClient){}\r\n\r\n  getAll(keyPresets?: boolean) {\r\n    let discountArray: PosDiscount[] = [];\r\n\r\n    let params = new HttpParams();\r\n    params = params.append(\"per_page\", environment.API_DATA_PER_PAGE);\r\n\r\n    if(keyPresets) {\r\n      params = params.append(\"key_presets\", true);\r\n    }\r\n    \r\n    return this.http.get(\r\n      environment.APIENDPOINT + environment.POS_DISCOUNT, {\r\n        params: params\r\n      }\r\n    ).pipe(\r\n      map(response => {\r\n        if(response[\"pos_discounts\"] && response[\"pos_discounts\"].length > 0) {\r\n          response[\"pos_discounts\"].forEach(obj => {\r\n            let detailsArray: PosDiscountDetails[] = [];\r\n  \r\n            if(obj.pos_discount_details && obj.pos_discount_details.length > 0) {\r\n              obj.pos_discount_details.forEach(element => {\r\n                let objDetail = new PosDiscountDetails(\r\n                  element.id,\r\n                  element.pos_discount_id,\r\n                  element.charge_id,\r\n                  element.charge_group_id,\r\n                  element.currency_id,\r\n                  element.discount_percent,\r\n                  element.discount_amount,\r\n                  element.valid_from_date,\r\n                  element.valid_to_date,\r\n                  element.valid_from_time,\r\n                  element.valid_to_time,\r\n                  element.valid_on_days,\r\n                  element.charge\r\n                )\r\n                detailsArray.push(objDetail);\r\n              });\r\n            }\r\n  \r\n            const discount = new PosDiscount(\r\n              obj.id,\r\n              obj.code,\r\n              obj.display_in_lookup_ind,\r\n              obj.pos_discount_translations && obj.pos_discount_translations.length > 0 ? obj.pos_discount_translations[0].description : \"\",\r\n              detailsArray\r\n            );\r\n            discountArray.push(discount);\r\n          });\r\n          localStorage.setItem(\"discountData\", JSON.stringify(discountArray));\r\n        }\r\n        return discountArray;\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { map } from 'rxjs/operators'\r\nimport { PosItemMenu } from '../models/pos-item-menu.model'\r\nimport { PosItem } from '../models/pos-item.model';\r\nimport { PosMenuHeader } from '../models/pos-menu-header.model';\r\nimport { PosMenuSubHeader } from '../models/pos-menu-subheader.model';\r\nimport { PosItemModifier } from '../models/pos-item-modifier.model';\r\nimport { PosModifier } from '../models/pos-modifier.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PosItemMenuService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getPosItemMenuBy(menuId: string) {\r\n    let itemMenuArray: PosItemMenu[] = [];\r\n    if (localStorage.getItem(\"pos_item_menus\") != null) {\r\n      itemMenuArray = JSON.parse(localStorage.getItem(\"pos_item_menus\"));\r\n    };\r\n\r\n    return this.http.get(environment.APIENDPOINT + environment.POS_ITEM_MENU,\r\n      { params: new HttpParams().append(\"key_menu\", menuId).append(\"per_page\", \"100000\") }\r\n    ).pipe(\r\n      map((response) => {\r\n        if (response[\"pos_item_menus\"] && response[\"pos_item_menus\"].length > 0) {\r\n          response[\"pos_item_menus\"].forEach(obj => {\r\n            let item: PosItemMenu;\r\n            item = this.mapPosItemMenu(obj);\r\n            itemMenuArray.push(item);\r\n          });\r\n\r\n          localStorage.setItem(\"itemMenu\", JSON.stringify(itemMenuArray));\r\n          return itemMenuArray;\r\n        }\r\n      }\r\n    ))\r\n  }\r\n\r\n  mapPosItemMenu(obj): PosItemMenu {\r\n    let item: PosItem;\r\n    let menuHead: PosMenuHeader = null;\r\n    let menuSubHead: PosMenuSubHeader = null;\r\n\r\n    if (obj.pos_item) {\r\n      item = new PosItem(\r\n        obj.id,\r\n        obj.pos_item.code,\r\n        obj.pos_item.account_code,\r\n        obj.pos_item.item_class,\r\n        obj.pos_item.hsn_sac_code,\r\n        obj.pos_item.pos_item_translations && obj.pos_item.pos_item_translations.length > 0 ? obj.pos_item.pos_item_translations[0][\"short_name\"] : \"\",\r\n        obj.pos_item.pos_item_translations && obj.pos_item.pos_item_translations.length > 0 ? obj.pos_item.pos_item_translations[0][\"long_name\"] : \"\",\r\n        obj.pos_item.pos_item_translations && obj.pos_item.pos_item_translations.length > 0 ? obj.pos_item.pos_item_translations[0][\"description\"] : \"\",\r\n      );\r\n    }\r\n\r\n    if (obj.pos_menu_header) {\r\n      menuHead = new PosMenuHeader(\r\n        obj.pos_menu_header.id,\r\n        obj.pos_menu_header.code,\r\n        obj.pos_menu_header.serial_number,\r\n        obj.pos_menu_header.image_path,\r\n        obj.pos_menu_header.pos_menu_header_translations && obj.pos_menu_header.pos_menu_header_translations.length > 0 ? obj.pos_menu_header.pos_menu_header_translations[0][\"description\"] : \"\",\r\n      )\r\n    }\r\n\r\n    if (obj.pos_menu_subheader) {\r\n\r\n      menuSubHead = new PosMenuSubHeader(\r\n        obj.pos_menu_subheader.id,\r\n        obj.pos_menu_subheader.code,\r\n        obj.pos_menu_subheader.serial_number,\r\n        obj.pos_menu_subheader.image_path,\r\n        obj.pos_menu_subheader.pos_menu_subheader_translations && obj.pos_menu_subheader.pos_menu_subheader_translations.length > 0 ? obj.pos_menu_subheader.pos_menu_subheader_translations[0][\"description\"] : \"\",\r\n      )\r\n    }\r\n\r\n    const posMenuItem = new PosItemMenu(\r\n      obj.id,\r\n      obj.saas_company_id,\r\n      obj.company_id,\r\n      obj.branch_id,\r\n      obj.pos_menu_id,\r\n      obj.pos_item_id,\r\n      obj.pos_item_image,\r\n      obj.pos_menu_header_id,\r\n      obj.pos_menu_header_id,\r\n      obj.pos_item_price,\r\n      obj.happy_hour_price,\r\n      obj.currency_id,\r\n      obj.pos_kitchen_id,\r\n      obj.pos_item_charge_id,\r\n      obj.happy_hour_charge_id,\r\n      obj.serial_number,\r\n      obj.cmp_mod,\r\n      obj.do_not_print_price_on_check_ind,\r\n      obj.price_inclusive_tax_ind,\r\n      obj.pos_item_menu_translations && obj.pos_item_menu_translations.length > 0 ? obj.pos_item_menu_translations[0][\"description\"] : \"\",\r\n      obj.pos_item_menu_translations && obj.pos_item_menu_translations.length > 0 ? obj.pos_item_menu_translations[0][\"happy_hour_description\"] : \"\",\r\n      obj.pos_item_menu_translations && obj.pos_item_menu_translations.length > 0 ? obj.pos_item_menu_translations[0][\"name_on_check\"] : \"\",\r\n      menuHead,\r\n      menuSubHead,\r\n      item\r\n    );\r\n\r\n    return posMenuItem;\r\n  }\r\n\r\n  getPosItemModifier() {\r\n    return this.http.get(environment.APIENDPOINT + environment.POS_ITEM_MODIFIER)\r\n    .pipe(\r\n      map((response) => {\r\n        if(response[\"pos_item_modifiers\"] && response[\"pos_item_modifiers\"].length > 0) {\r\n          const posItemModifierList: PosItemModifier[] = [];\r\n\r\n          response[\"pos_item_modifiers\"].forEach(obj => {\r\n            let item: PosItemModifier;\r\n            item = this.mapPosItemModifier(obj);\r\n            posItemModifierList.push(item);\r\n          })\r\n\r\n          localStorage.setItem(\"itemModifier\", JSON.stringify(posItemModifierList));\r\n          return posItemModifierList;\r\n        }\r\n      })\r\n    )\r\n  }\r\n\r\n  mapPosItemModifier(obj): PosItemModifier {\r\n    let posItem: PosItem;\r\n    let posModifier: PosModifier;\r\n  \r\n    if (obj.pos_item) {\r\n      posItem = new PosItem(\r\n        obj.pos_item.id,\r\n        obj.pos_item.code,\r\n        obj.pos_item.account_code,\r\n        obj.pos_item.item_class,\r\n        obj.pos_item.hsn_sac_code,\r\n        obj.pos_item.pos_item_translations && obj.pos_item.pos_item_translations.length > 0 ? obj.pos_item.pos_item_translations[0][\"short_name\"] : \"\",\r\n        obj.pos_item.pos_item_translations && obj.pos_item.pos_item_translations.length > 0 ? obj.pos_item.pos_item_translations[0][\"long_name\"] : \"\",\r\n        obj.pos_item.pos_item_translations && obj.pos_item.pos_item_translations.length > 0 ? obj.pos_item.pos_item_translations[0][\"description\"] : \"\",\r\n      );\r\n    }\r\n\r\n    if(obj.pos_modifier) {\r\n      posModifier = new PosModifier(\r\n        obj.pos_modifier.id,\r\n        obj.pos_modifier.code,\r\n        obj.pos_modifier.pos_modifier_group_id,\r\n        obj.pos_modifier.modifier_price,\r\n        obj.pos_modifier.modifier_image,\r\n        obj.pos_modifier.currency_id,\r\n        obj.pos_modifier.pos_modifier_translations && obj.pos_modifier.pos_modifier_translations.length > 0 ? obj.pos_modifier.pos_modifier_translations[0].description : \"\"\r\n      );\r\n    }\r\n\r\n    let posItemModifier: PosItemModifier = new PosItemModifier(\r\n      obj.id, obj.pos_item.id, obj.pos_modifier_id, posItem, posModifier\r\n    );\r\n\r\n    return posItemModifier;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { map } from 'rxjs/operators';\r\nimport { PointerService } from './pointer.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RecallCheckService {\r\n  constructor(private http: HttpClient) { }\r\n\r\n  public getCheckListBy(outletId: string, dateSelection: boolean,\r\n                        includeOpenCheck: boolean, tableSelection: boolean,\r\n                        tableCode: string, checkNo: string) {\r\n    let businessDate = PointerService.getBusinessDate().toISOString().slice(0, 10)\r\n    let params = new HttpParams();\r\n    params = params.append(\"key_restaurant\", outletId)\r\n    params = params.append(\"per_page\", environment.API_DATA_PER_PAGE)\r\n\r\n    if (checkNo) {\r\n      params = params.append(\"key_check_no\", checkNo);\r\n    }\r\n    else {\r\n      params = params.append(\"key_open_check_with_kot\", \"true\");\r\n      params = params.append(\"key_check_open_date\", businessDate);\r\n\r\n      if (tableSelection) {\r\n        params = params.append(\"key_table_code\", tableCode);\r\n      }\r\n\r\n      if (dateSelection) {\r\n        params = params.append(\"key_check_open_date\", businessDate);\r\n      }\r\n\r\n      if (includeOpenCheck) {\r\n        params = params.append(\"key_open_check\", \"true\");\r\n      }\r\n    }\r\n\r\n    return this.http.get(environment.APIENDPOINT + environment.POS_CHECK, {\r\n      params: params\r\n    }).pipe(\r\n      map(response => {\r\n        if (response && response[\"pos_checks\"].length > 0) {\r\n          return this.mapRecallCheckList(response[\"pos_checks\"]);\r\n        }\r\n      }\r\n    ))\r\n  }\r\n\r\n  mapRecallCheckList(data): any[] {\r\n    let checkList: any[] = [];\r\n    data.forEach(posCheck => {\r\n      let obj = {};\r\n      obj[\"id\"] = posCheck.id;\r\n      obj[\"check_no\"] = posCheck.check_no;\r\n      obj[\"guest_name\"] = posCheck.guest_name;\r\n      obj[\"table_code\"] = posCheck.table_code;\r\n      obj[\"check_open_date\"] = posCheck.open_date;\r\n      obj[\"check_amount\"] = posCheck.dr_total;\r\n      obj[\"last_action\"] = posCheck.last_action;\r\n\r\n      if (posCheck.last_action == environment.LAST_ACTION_POSTED) {\r\n        obj[\"status\"] = environment.CHECK_STATUS_OPEN;\r\n      } else if (posCheck.last_action == environment.LAST_ACTION_SETTLE) {\r\n        obj[\"status\"] = environment.CHECK_STATUS_SETTLE;\r\n      } else if (posCheck.last_action == environment.LAST_ACTION_VOIDED) {\r\n        obj[\"status\"] = environment.CHECK_STATUS_VOID;\r\n      } else {\r\n        obj[\"status\"] = \"\"\r\n      }\r\n\r\n      if (posCheck.server) {\r\n        obj[\"check_open_by\"] = posCheck.server.full_name ? posCheck.server.full_name : posCheck.server.first_name;\r\n      } else {\r\n        obj[\"check_open_by\"] = \"\";\r\n      }\r\n\r\n      if (posCheck.close_cashier) {\r\n        obj[\"check_closed_by\"] = posCheck.close_cashier.full_name ? posCheck.close_cashier.full_name : posCheck.close_cashier.first_name;\r\n      }\r\n      else {\r\n        obj[\"check_closed_by\"] = \"\";\r\n      }\r\n\r\n      if (posCheck.print_cashier) {\r\n        obj[\"check_printed_by\"] = posCheck.print_cashier.full_name ? posCheck.print_cashier.full_name : posCheck.print_cashier.first_name;\r\n      }\r\n      else {\r\n        posCheck[\"check_printed_by\"] = \"\";\r\n      }\r\n\r\n      checkList.push(obj);\r\n    });\r\n    return checkList;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { map } from 'rxjs/operators';\r\nimport { City } from '../models/city.model';\r\nimport { Room } from '../models/room.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class RoomService {\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getAll() {\r\n    return this.http.get(environment.APIENDPOINT + environment.ROOM,\r\n      {\r\n        params: new HttpParams().append(\"per_page\", environment.API_DATA_PER_PAGE)\r\n      }\r\n    ).pipe(\r\n      map((response) => {\r\n        if (response[\"rooms\"] && response[\"rooms\"].length > 0) {\r\n          const roomArray: Room[] = [];\r\n\r\n          response[\"rooms\"].forEach(obj => {\r\n            const room = new Room(\r\n              obj.id,\r\n              obj.room_translations && obj.room_translations.length > 0 ? obj.room_translations[0].room_display_number : \"\",\r\n              obj.room_type && obj.room_type_translations && obj.room_type_translations.length > 0 ? obj.room_type_translations[0].description : \"\",\r\n              obj.room_translations && obj.room_translations.length > 0 ? obj.room_translations[0].floor_number : \"\",\r\n              obj.occupancy_status && obj.occupancy_status.occupancy_status_translations && obj.occupancy_status.occupancy_status_translations.length > 0 ? obj.occupancy_status.occupancy_status_translations[0].description : \"\",\r\n              obj.cleaning_status && obj.cleaning_status.cleaning_status_translations && obj.cleaning_status.cleaning_status_translations.length > 0 ? obj.cleaning_status.cleaning_status_translations[0].description : \"\",\r\n            )\r\n\r\n            roomArray.push(room);\r\n          });\r\n\r\n          localStorage.setItem('roomData', JSON.stringify(roomArray));\r\n          return roomArray;\r\n        }\r\n      })\r\n    )\r\n  }\r\n\r\n  findGuestDetails(roomId: string, firstName: string, lastName: string, inhouseStatus: string, primaryClient: string, roomCode?: any) {\r\n    let params = new HttpParams();\r\n    params = params.append(\"per_page\", environment.API_DATA_PER_PAGE)\r\n\r\n    if (roomId) {\r\n      params = params.append(\"key_room\", roomId);\r\n    }\r\n\r\n    if (roomCode) {\r\n      params = params.append(\"key_room_display_number\", roomCode);\r\n    }\r\n\r\n    if (firstName) {\r\n      params = params.append(\"key_firstname\", firstName);\r\n    }\r\n\r\n    if (lastName) {\r\n      params = params.append(\"key_lastname\", lastName);\r\n    }\r\n\r\n    if (inhouseStatus) {\r\n      params = params.append(\"key_inhouse_status\", inhouseStatus);\r\n    }\r\n\r\n    if (primaryClient == \"1\") {\r\n      params = params.append(\"key_primary_client\", \"true\");\r\n    } else if (!roomCode) {\r\n      params = params.append(\"key_primary_client\", \"false\");\r\n    }\r\n\r\n    return this.http.get(environment.APIENDPOINT + environment.VISIT, { params: params }\r\n    ).pipe(\r\n      map((response) => {\r\n        if (response[\"visits\"] && response[\"visits\"].length > 0) {\r\n          const guestArray: any[] = [];\r\n          response[\"visits\"].forEach(visit => {\r\n            let obj = {};\r\n\r\n            let roomNumber = \"\";\r\n            if (visit.room) {\r\n              if (visit.room.room_translations && visit.room.room_translations.length > 0) {\r\n                roomNumber = visit.room.room_translations[0].room_display_number\r\n              } else {\r\n                roomNumber = visit.room.room_number;\r\n              }\r\n            }\r\n\r\n            if (visit.visit_billing) {\r\n              obj[\"billing_instruction\"] = visit.visit_billing.billing_instruction;\r\n            } else {\r\n              obj[\"billing_instruction\"] = \"\";\r\n            }\r\n\r\n            obj['visit_id'] = visit.id;\r\n            obj['inhouse_id'] = visit.inhouse_id;\r\n            obj[\"guest_name\"] = visit.account ? (visit.account.title + \" \" + visit.account.first_name + \" \" + visit.account.last_name) : \"\";\r\n            obj[\"room_number\"] = roomNumber;\r\n            obj[\"arrival_date\"] = visit.arrival_date;\r\n            obj[\"departure_date\"] = visit.departure_date;\r\n            obj[\"primary_client_ind\"] = visit.primary_client_ind;\r\n\r\n            guestArray.push(obj);\r\n          });\r\n\r\n          return guestArray;\r\n        }\r\n      })\r\n    )\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { map } from 'rxjs/operators';\r\nimport { User } from '../models/user.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SaleService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  public getSaleBy(outletId: string, user: User, businessDate: string, shiftNo: number) {\r\n    return this.http.get(environment.APIENDPOINT + environment.SALE, {\r\n      params: new HttpParams().append(\"key_restaurant_id\", outletId)\r\n        .append(\"key_business_date\", businessDate)\r\n        .append(\"key_shift\", shiftNo.toString())\r\n        .append(\"key_saas_company_id\", user.saas_company_id.toString())\r\n        .append(\"key_company_id\", user.company_id.toString())\r\n        .append(\"key_branch_id\", user.branch_id.toString())\r\n        .append(\"key_app_language_id\", \"1\")\r\n    }).pipe(\r\n      map(response => {\r\n        return response[\"inntap_sales_report\"];\r\n      })\r\n    )\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { map } from 'rxjs/operators';\r\nimport { Shift } from '../models/shift.model.model';\r\nimport { PointerService } from './pointer.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ShiftService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  public getAll(outletId: string, userId: string, businessDate: string) {\r\n    return this.http.get(environment.APIENDPOINT + environment.SHIFT, {\r\n      params: new HttpParams().append(\"key_restaurant\", outletId)\r\n        .append(\"key_user\", userId)\r\n        .append(\"key_business_date\", businessDate)\r\n        .append(\"key_shift_closed_ind\", \"false\")\r\n    }).pipe(\r\n      map(response => {\r\n        response[\"pos_shifts\"].forEach(obj => {\r\n          this.mapAndSaveUserShift(obj);\r\n        })\r\n        return response[\"pos_shifts\"];\r\n      })\r\n    )\r\n  }\r\n\r\n  public getAllShifts(outletId: string, businessDate: string) {\r\n    return this.http.get(environment.APIENDPOINT + environment.AllSHIFTS, {\r\n      params: new HttpParams().append(\"key_restaurant\", outletId)\r\n      // .append(\"key_business_date\", businessDate)\r\n    }).pipe(\r\n      map(response => {\r\n\r\n        return response[\"pos_restaurant_shifts\"];\r\n      })\r\n    )\r\n  }\r\n\r\n  public getShiftDetailsBy(outletId: string, userId: string, businessDate: string, shiftNo: string) {\r\n    return this.http.get(environment.APIENDPOINT + environment.SHIFT, {\r\n      params: new HttpParams().append(\"key_restaurant\", outletId)\r\n        .append(\"key_user\", userId)\r\n        .append(\"key_business_date\", businessDate)\r\n        .append(\"key_shift_no\", shiftNo)\r\n    }).pipe(\r\n      map(response => {\r\n        return response[\"pos_shifts\"];\r\n      })\r\n    )\r\n  }\r\n\r\n  public isValidShift(outletId: string, userId: string, businessDate: string, shiftNo: string) {\r\n    return this.http.get(environment.APIENDPOINT + environment.SHIFT, {\r\n      params: new HttpParams().append(\"key_restaurant\", outletId)\r\n        .append(\"key_user\", userId)\r\n        .append(\"key_business_date\", businessDate)\r\n        .append(\"key_shift_no\", shiftNo)\r\n        .append(\"key_shift_closed_ind\", \"true\")\r\n    }).pipe(\r\n      map(response => {\r\n        return response[\"pos_shifts\"];\r\n      })\r\n    )\r\n  }\r\n\r\n  public create(objShift: Shift) {\r\n    const json = Shift.createJson(objShift);\r\n    return this.http.post(environment.APIENDPOINT + environment.SHIFT, json)\r\n      .pipe(\r\n        map(data => {\r\n          this.mapAndSaveUserShift(data[\"pos_shift\"]);\r\n          return data;\r\n        })\r\n      )\r\n  }\r\n\r\n  public update(objShift: Shift) {\r\n    const json = Shift.createJson(objShift);\r\n    return this.http.put(environment.APIENDPOINT + environment.SHIFT + '/' + objShift.id, json)\r\n      .pipe(\r\n        map(response => {\r\n          return response;\r\n        })\r\n      )\r\n  }\r\n\r\n  public mapAndSaveUserShift(obj): void {\r\n    let userShifts: Shift[] = [];\r\n\r\n    if (localStorage.getItem(\"userShiftData\") != null) {\r\n      userShifts = JSON.parse(localStorage.getItem(\"userShiftData\"));\r\n    };\r\n\r\n    if (userShifts.length > 0) {\r\n      const alreadyPresent = userShifts.filter(a => a.pos_restaurant_id == obj.pos_restaurant_id\r\n        && a.shift_user_id == obj.shft_user_id\r\n        && a.business_date == obj.business_date)\r\n\r\n      if (alreadyPresent.length <= 0) {\r\n        const newSetting: Shift = this.setUserShift(obj);\r\n        userShifts.push(newSetting);\r\n      }\r\n    }\r\n    else {\r\n      const newSetting: Shift = this.setUserShift(obj);\r\n      userShifts.push(newSetting);\r\n    }\r\n\r\n    localStorage.setItem(\"userShiftData\", JSON.stringify(userShifts));\r\n  }\r\n\r\n  private setUserShift(obj): Shift {\r\n    const userShift = new Shift(\r\n      obj.id, obj.pos_restaurant_id, obj.shift_no, obj.business_date,\r\n      obj.currency_id, obj.opening_balance, obj.paid_in_amount,\r\n      obj.paid_out_amount, obj.closing_balance, obj.shift_closed_ind, obj.shft_user_id,\r\n      obj.freeze_ind, obj.freeze_at, obj.updated_place, obj.saas_company_id, obj.company_id, obj.branch_id\r\n    );\r\n\r\n    return userShift;\r\n  }\r\n\r\n  public getUserShiftNo(outletId: string, userId: string) {\r\n    const shiftData: Shift[] = JSON.parse(localStorage.getItem(\"userShiftData\"));\r\n\r\n    if (shiftData) {\r\n      let currentUserShift = shiftData.filter(t => {\r\n        return t.pos_restaurant_id === +outletId && t.shift_user_id === +userId\r\n      });\r\n\r\n      if (currentUserShift && currentUserShift.length > 0) {\r\n        return currentUserShift[0].shift_no;\r\n      } else {\r\n        return 1;\r\n      }\r\n    }\r\n    else {\r\n      return 1\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from '../../environments/environment';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { map } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SystemSettingsService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n  getDCSSettings() {\r\n    return this.http.get<any>(environment.APIENDPOINT + environment.DCS_SETTINGS)\r\n      .pipe(map((results: any) => {\r\n        return results;\r\n      }))\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { map } from 'rxjs/operators';\r\nimport { TableLayout } from '../models/table-layout.model';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TableLayoutService {\r\n  lastSelectedTable = new BehaviorSubject<TableLayout>(null);\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getTableLayoutBy(outletId: string) {\r\n    return this.http.get(environment.APIENDPOINT + environment.POS_LAYOUT,\r\n      { params: new HttpParams().append(\"key_restaurant\", outletId).append(\"per_page\", environment.API_DATA_PER_PAGE) }\r\n    ).pipe(\r\n      map((response) => {\r\n        if (response[\"pos_layouts\"] && response[\"pos_layouts\"].length > 0) {\r\n          const tableLayoutArray: TableLayout[] = [];\r\n          response[\"pos_layouts\"].forEach(obj => {\r\n            const layout = new TableLayout(\r\n              obj.id,\r\n              obj.table_code,\r\n              obj.table_group,\r\n              obj.table_image,\r\n              obj.serial_number,\r\n              obj.table_seats,\r\n              obj.default_take_away_ind,\r\n              obj.for_pending_check_ind,\r\n              obj.pos_restaurant_id,\r\n              obj.table_status,\r\n              obj.pos_layout_translations && obj.pos_layout_translations.length > 0 ? obj.pos_layout_translations[0].table_display_code : \"\",\r\n              obj.pos_layout_translations && obj.pos_layout_translations.length > 0 ? obj.pos_layout_translations[0].description : \"\"\r\n            )\r\n\r\n            tableLayoutArray.push(layout);\r\n          });\r\n          localStorage.setItem('tableLayout', JSON.stringify(tableLayoutArray));\r\n          return tableLayoutArray;\r\n        }\r\n      })\r\n    )\r\n  }\r\n\r\n  getTableDetails(outletId: string, tableCode: string): TableLayout {\r\n    let layoutData = JSON.parse(localStorage.getItem(\"tableLayout\"));\r\n\r\n    if (!layoutData) {\r\n      return\r\n    }\r\n\r\n    let selectedTable = layoutData.filter(t => {\r\n      return t.pos_restaurant_id = outletId && t.table_code === tableCode\r\n    });\r\n\r\n    if (selectedTable && selectedTable.length > 0) {\r\n      return selectedTable[0];\r\n    }\r\n  }\r\n\r\n  setSelectedTable(tableLayout: TableLayout) {\r\n    this.lastSelectedTable.next(tableLayout);\r\n  }\r\n\r\n  public get getPreviousSelectedTable(): TableLayout {\r\n    return this.lastSelectedTable.value;\r\n  }\r\n\r\n  public resetTableSelection() {\r\n    if (this.lastSelectedTable) {\r\n      this.lastSelectedTable.next(null);\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { environment } from '../../environments/environment';\r\nimport { map } from 'rxjs/operators';\r\nimport { VoidReason } from '../models/void-reason.model';\r\n\r\n@Injectable(\r\n  { providedIn: 'root' }\r\n)\r\nexport class VoidReasonService {\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  getVoidReasonBy(code: string, description: string) {\r\n    let voidArray: VoidReason[] = [];\r\n\r\n    let params = new HttpParams();\r\n    params = params.append(\"per_page\", environment.PER_PAGE).append(\"key_presets\", \"true\");\r\n\r\n    if (code) {\r\n      params = params.append(\"key_code\", code);\r\n    }\r\n\r\n    if (description) {\r\n      params = params.append(\"key_name\", description);\r\n    }\r\n\r\n    return this.http.get(\r\n      environment.APIENDPOINT + environment.VOID_REASON, {\r\n      params: params\r\n    }\r\n    ).pipe(\r\n      map(response => {\r\n        response[\"pos_void_reasons\"].forEach(voidReason => {\r\n          let objVoid = new VoidReason(\r\n            voidReason.id,\r\n            voidReason.code,\r\n            voidReason.pos_void_reason_translations && voidReason.pos_void_reason_translations.length > 0 ? voidReason.pos_void_reason_translations[0].description : \"\",\r\n            voidReason.freeze_ind,\r\n            voidReason.freeze_at,\r\n          );\r\n\r\n          voidArray.push(objVoid);\r\n        });\r\n        return voidArray;\r\n      })\r\n    );\r\n  }\r\n\r\n  getAll() {\r\n    let voidArray: VoidReason[] = [];\r\n\r\n    let params = new HttpParams();\r\n    params = params.append(\"per_page\", environment.API_DATA_PER_PAGE);\r\n\r\n    return this.http.get(\r\n      environment.APIENDPOINT + environment.VOID_REASON, {\r\n      params: params\r\n    }\r\n    ).pipe(\r\n      map(response => {\r\n        response[\"pos_void_reasons\"].forEach(voidReason => {\r\n          let objVoid = new VoidReason(\r\n            voidReason.id,\r\n            voidReason.code,\r\n            voidReason.pos_void_reason_translations && voidReason.pos_void_reason_translations.length > 0 ? voidReason.pos_void_reason_translations[0].description : \"\",\r\n            voidReason.freeze_ind,\r\n            voidReason.freeze_at,\r\n          );\r\n\r\n          voidArray.push(objVoid);\r\n        });\r\n\r\n        localStorage.setItem('voidReason', JSON.stringify(voidArray));\r\n        return voidArray;\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Component, OnInit, OnDestroy, Input, ElementRef, ViewChild } from '@angular/core';\r\nimport { Router, NavigationStart } from '@angular/router';\r\nimport { Alert, AlertType } from 'projects/pos/src/app/models/alert';\r\nimport { AlertService } from 'projects/pos/src/app/services/alert.service';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n\tselector: 'app-alert',\r\n\ttemplateUrl: 'alert.component.html',\r\n\tstyleUrls: ['./alert.component.scss']\r\n})\r\n\r\nexport class AlertComponent implements OnInit, OnDestroy {\r\n\t@ViewChild('closeWarningModal') closeWarningModal: ElementRef;\r\n\t// Previoud code --- start\r\n\t@Input() id = 'default-alert';\r\n\t@Input() fade = true;\r\n\r\n\talerts: Alert[] = [];\r\n\talertSubscription!: Subscription;\r\n\trouteSubscription!: Subscription;\r\n\terrorAlerts: Alert[] = [];\r\n\tinfoAlerts: Alert[] = [];\r\n\tsuccessAlerts: Alert[] = [];\r\n\twarnAlerts: Alert[] = [];\r\n\talertTime: boolean = true;\r\n\r\n\tconstructor(private router: Router, private alertService: AlertService) { }\r\n\r\n\tngOnInit() {\r\n\t\t// subscribe to new alert notifications\r\n\t\tthis.alertSubscription = this.alertService.onAlert(this.id)\r\n\t\t\t.subscribe(alert => {\r\n\t\t\t\t// clear alerts when an empty alert is received\r\n\t\t\t\tif (!alert.message) {\r\n\t\t\t\t\t// filter out alerts without 'keepAfterRouteChange' flag\r\n\t\t\t\t\tthis.alerts = this.alerts.filter(x => x.keepAfterRouteChange);\r\n\r\n\t\t\t\t\t// reset 'keepAfterRouteChange' flag on the rest\r\n\t\t\t\t\tthis.alerts.forEach(x => x.keepAfterRouteChange = false);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// add alert to array\r\n\t\t\t\tif (alert.type === 0) {\r\n\t\t\t\t\tthis.alertTime = true;\r\n\t\t\t\t\tthis.successAlerts = [];\r\n\t\t\t\t\tthis.successAlerts.push(alert);\r\n\t\t\t\t\tthis.errorAlerts = [];\r\n\t\t\t\t\tthis.infoAlerts = [];\r\n\t\t\t\t\tthis.warnAlerts = [];\r\n\t\t\t\t\t// document.getElementById(\"errorDiv\").style.display = \"none\";\r\n\t\t\t\t\t// document.getElementById(\"successDiv\").style.display = \"block\";\r\n\t\t\t\t\tdocument.body.scrollTop = 0;\r\n\t\t\t\t\tdocument.querySelector('body').scrollTo(0, 0)\r\n\t\t\t\t} else if (alert.type === 1) {\r\n\t\t\t\t\tthis.alertTime = true;\r\n\t\t\t\t\tthis.errorAlerts = [];\r\n\t\t\t\t\tthis.errorAlerts.push(alert);\r\n\t\t\t\t\tthis.successAlerts = [];\r\n\t\t\t\t\tthis.infoAlerts = [];\r\n\t\t\t\t\tthis.warnAlerts = [];\r\n\t\t\t\t\t// document.getElementById(\"successDiv\").style.display = \"none\";\r\n\t\t\t\t\t// document.getElementById(\"errorDiv\").style.display = \"block\";\r\n\t\t\t\t\tdocument.body.scrollTop = 0;\r\n\t\t\t\t\tdocument.querySelector('body').scrollTo(0, 0)\r\n\t\t\t\t} else if (alert.type === 2) {\r\n\t\t\t\t\tthis.alertTime = true;\r\n\t\t\t\t\tthis.infoAlerts = [];\r\n\t\t\t\t\tthis.infoAlerts.push(alert);\r\n\t\t\t\t\tdocument.body.scrollTop = 0;\r\n\t\t\t\t\tdocument.querySelector('body').scrollTo(0, 0)\r\n\t\t\t\t} else if (alert.type === 3) {\r\n\t\t\t\t\tthis.alertTime = true;\r\n\t\t\t\t\tthis.warnAlerts = [];\r\n\t\t\t\t\tthis.warnAlerts.push(alert);\r\n\t\t\t\t\tdocument.body.scrollTop = 0;\r\n\t\t\t\t\tdocument.querySelector('body').scrollTo(0, 0)\r\n\t\t\t\t}\r\n\t\t\t\t// this.alerts.push(alert);\r\n\t\t\t\t// auto close alert if required\r\n\t\t\t\tif (alert) {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.alertTime = false;\r\n\t\t\t\t\t\tthis.alertService.clear(this.id);\r\n\t\t\t\t\t}, 3000);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t// clear alerts on location change\r\n\t\tthis.routeSubscription = this.router.events.subscribe(event => {\r\n\t\t\tif (event instanceof NavigationStart) {\r\n\t\t\t\tthis.alertService.clear(this.id);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tngOnDestroy() {\r\n\t\t// unsubscribe to avoid memory leaks\r\n\t\tthis.alertSubscription.unsubscribe();\r\n\t\tthis.routeSubscription.unsubscribe();\r\n\t}\r\n\r\n\r\n\tisString(value) {\r\n\t\treturn typeof value;\r\n\t};\r\n\r\n\tremoveAlert(alert: Alert) {\r\n\t\t// check if already removed to prevent error on auto close\r\n\t\tif (!this.alerts.includes(alert)) return;\r\n\r\n\t\tif (this.fade) {\r\n\t\t\t// fade out alert\r\n\t\t\talert.fade = true;\r\n\r\n\t\t\t// remove alert after faded out\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.alerts = this.alerts.filter(x => x !== alert);\r\n\t\t\t}, 50);\r\n\t\t} else {\r\n\t\t\t// remove alert\r\n\t\t\tthis.alerts = this.alerts.filter(x => x !== alert);\r\n\t\t}\r\n\t}\r\n\r\n\tcssClass(alert: Alert) {\r\n\t\tif (alert?.type === undefined) { } return;\r\n\r\n\t\tconst classes = ['alert', 'alert-dismissable', 'mt-3', 'container'];\r\n\r\n\t\tconst alertTypeClass = {\r\n\t\t\t[AlertType.Success]: 'alert-success',\r\n\t\t\t[AlertType.Error]: 'alert-danger text-danger',\r\n\t\t\t[AlertType.Info]: 'alert-info',\r\n\t\t\t[AlertType.Warning]: 'alert-warning'\r\n\t\t}\r\n\r\n\t\tclasses.push(alertTypeClass[alert.type]);\r\n\r\n\t\tif (alert.fade) {\r\n\t\t\tclasses.push('fade');\r\n\t\t}\r\n\r\n\t\treturn classes.join(' ');\r\n\t}\r\n}","<div class=\"modal fade show lock_scrn_modal\" id=\"WarningModal\"\r\n\tdata-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"warningModalLabel\" role=\"dialog\"\r\n\taria-modal=\"true\"\r\n\t*ngIf=\"alertTime && errorAlerts.length > 0\"\r\n\t[style.display]=\"alertTime && errorAlerts.length > 0 ? 'block' : 'none'\"\r\n\t>\r\n\t<div class=\"modal-dialog modal-dialog-centered\">\r\n\t\t<div class=\"modal-content\">\r\n\t\t\t<div class=\"modal-header\">\r\n\t\t\t\t<h5 class=\"modal-title\" id=\"warningModalLabel\">Warning</h5>\r\n\t\t\t\t<!-- <button type=\"button\" #closeWarningModal class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button> -->\r\n\t\t\t</div>\r\n\t\t\t<div class=\"modal-body\" *ngIf=\"errorAlerts && errorAlerts.length > 0\">\r\n\t\t\t\t<ul class=\"list-group list-group-flush\">\r\n\t\t\t\t\t<ng-container *ngFor=\"let alert of errorAlerts\">\r\n\t\t\t\t\t\t<ng-container *ngIf=\"isString(alert.message)=='object'\">\r\n\t\t\t\t\t\t\t<ng-container *ngFor=\"let alertMessage of alert['message']\">\r\n\t\t\t\t\t\t\t\t<li class=\"list-group-item\" [innerHTML]=\"alertMessage\">\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t<ng-container *ngIf=\"isString(alert.message)=='string'\">\r\n\t\t\t\t\t\t\t<li class=\"list-group-item\" [innerHTML]=\"alert.message\">\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t</ng-container>\r\n\t\t\t\t</ul>\r\n\r\n\t\t\t\t<!-- <h2 class=\"title_cls\" *ngFor=\"let error of errorAlerts\">\r\n          {{ errorAlerts }}\r\n        </h2> -->\r\n\t\t\t</div>\r\n\t\t\t<div class=\"modal-footer\">\r\n\t\t\t\t<div></div>\r\n\t\t\t\t<!-- <div class=\"button_blk\">\r\n\t\t\t\t\t <button type=\"button\" class=\"btn gry_btn\" data-bs-dismiss=\"modal\"><i\r\n\t\t\t\t\t\t\tclass=\"fas fa-check-circle\"></i>Ok</button>\r\n\t\t\t\t</div> -->\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AlertComponent } from './alert.component';\r\n\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    declarations: [AlertComponent],\r\n    exports: [AlertComponent]\r\n})\r\nexport class AlertModule { }","import { Component, OnInit } from '@angular/core';\r\nimport { PointerService } from '../../services/pointer.service';\r\n\r\n@Component({\r\n  selector: 'app-business-date',\r\n  templateUrl: './business-date.component.html'\r\n})\r\nexport class BusinessDateComponent implements OnInit {\r\n  businessDate: Date;\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    this.businessDate = PointerService.getBusinessDate();\r\n  }\r\n}\r\n","<div class=\"business_date\">\r\n  {{ businessDate | date: \"d\"}}<sup>{{(businessDate | date: \"d\") | DateSuffix}}</sup>{{ businessDate\r\n  | date: ' MMM yyyy' }}\r\n</div>","<div class=\"modal fade\" id=\"changePasswordModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-content\">\r\n      <form #cpForm=\"ngForm\" (ngSubmit)=\"onSubmit(cpForm)\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ 'HEADER.CHANGE_PASSWORD' | translate }}</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"change_passwrd\">\r\n          <div class=\"row\">\r\n            <div class=\"col-lg-12 fill_inp_blk\" *ngIf=\"errorList && errorList.length > 0\">\r\n              <label *ngFor=\"let error of errorList\">\r\n                {{ error }}\r\n              </label>\r\n            </div>\r\n            <div class=\"col-lg-12 fill_inp_blk\">\r\n              <label>{{ 'CHANGE_PASSWORD.OLD_PASSWORD' | translate }}</label>\r\n              <input type=\"password\" name=\"password\" ngModel required minlength=\"8\"\r\n              placeholder=\"{{ 'CHANGE_PASSWORD.OLD_PASSWORD' | translate }}\" #passwordControl=\"ngModel\" (click)=\"openKeyboard($event)\">\r\n            </div>\r\n            <div class=\"col-lg-12 fill_inp_blk\">\r\n              <label>{{ 'CHANGE_PASSWORD.NEW_PASSWORD' | translate }}</label>\r\n              <input type=\"password\" name=\"newpassword\" ngModel required minlength=\"8\"\r\n              placeholder=\"{{ 'CHANGE_PASSWORD.NEW_PASSWORD' | translate }}\" #newpasswordControl=\"ngModel\" (click)=\"openKeyboard($event)\">\r\n            </div>\r\n            <div class=\"col-lg-12 fill_inp_blk\">\r\n              <label>{{ 'CHANGE_PASSWORD.CONFIRM_PASSWORD' | translate }}</label>\r\n              <input type=\"password\" name=\"confirmpassword\" ngModel required minlength=\"8\"\r\n              placeholder=\"{{ 'CHANGE_PASSWORD.CONFIRM_PASSWORD' | translate }}\" #confirmpasswordControl=\"ngModel\" (click)=\"openKeyboard($event)\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <div class=\"button_blk\">\r\n          <button type=\"submit\" [disabled]=\"!cpForm.valid\" [class]=\"!cpForm.valid ? 'btn disabled' : 'btn gry_btn'\"><i class=\"fas fa-check-circle\"></i>{{ 'HEADER.CHANGE_PASSWORD' | translate }}</button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from '../../services/auth.service';\r\n\r\ndeclare function initializeKeyboard(event): any;\r\n@Component({\r\n  selector: 'app-change-password',\r\n  templateUrl: './change-password.component.html'\r\n})\r\nexport class ChangePasswordComponent implements OnInit {\r\n  errorList: any[] = [];\r\n  username: string;\r\n  constructor(private authService: AuthService) { }\r\n\r\n  ngOnInit(): void {\r\n    const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    if (!userData) {\r\n      return;\r\n    }\r\n\r\n    this.username = userData.email;\r\n  }\r\n\r\n  onSubmit(form): void {\r\n    this.errorList = [];\r\n    if (!form.valid) {\r\n      return;\r\n    }\r\n\r\n    const password = form.value.password;\r\n    const newPassword = form.value.newpassword;\r\n    const confirmPassword = form.value.confirmpassword;\r\n\r\n    this.authService.changePassword(this.username, password, newPassword, confirmPassword).subscribe(\r\n      resData => {\r\n        this.errorList.push(\"Password has been changed. Please relogin.\");\r\n      },\r\n      errorMessage => {\r\n        this.errorList.push(errorMessage);\r\n      }\r\n    )\r\n  }\r\n\r\n  openKeyboard(event): void {\r\n    initializeKeyboard(event.target);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\ndeclare function enableNumericKeyboard(): any;\r\n\r\n@Component({\r\n  selector: 'app-digital-keyboard',\r\n  templateUrl: './digital-keyboard.component.html'\r\n})\r\nexport class DigitalKeyboardComponent implements OnInit {\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    enableNumericKeyboard();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    enableNumericKeyboard();\r\n    setTimeout(() => {\r\n      let element: HTMLElement = document.getElementById(\"coversInput\") as HTMLElement;\r\n      element.click();\r\n    }, 10)\r\n  }\r\n}\r\n","<input id=\"coversInput\" type=\"number\" class=\"numericInput\" ref=\"#number\">\r\n<div id=\"digitalKeyboardContainer\" class=\"digitalKeyboardContainer\"></div>","<!-- <div class=\"error_msg_parnt\" *ngIf=\"messageList && messageList.length > 0\">\r\n  <div class=\"padg_10\">\r\n    <h5>Please correct the following errors and try again: <a class=\"cls_icn\" (click)=\"toggleDiv()\"></a>\r\n      <ul>\r\n        <li *ngFor=\"let error of messageList\">\r\n          {{ messageList }}\r\n        </li>\r\n      </ul>\r\n    </h5>\r\n  </div>\r\n</div> -->\r\n\r\n<div class=\"modal fade\" id=\"WarningModal\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\"\r\n  aria-labelledby=\"warningModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"warningModalLabel\">Warning</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\" *ngIf=\"messageList && messageList.length > 0\">\r\n        <h2 class=\"title_cls\" *ngFor=\"let error of messageList\">\r\n          {{ error }}\r\n        </h2>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <div class=\"button_blk\">\r\n        <button type=\"button\" class=\"btn gry_btn\" data-bs-dismiss=\"modal\"><i class=\"fas fa-check-circle\"></i>Ok</button>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit, Input  } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-error',\r\n  templateUrl: './error.component.html'\r\n})\r\nexport class ErrorComponent implements OnInit {\r\n  @Input() messageList: any[];\r\n  showErrorDiv = true;\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  toggleDiv(): void {\r\n    this.messageList = [];\r\n  }\r\n\r\n}\r\n","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, HostListener, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TableLayout } from '../../models/table-layout.model';\r\nimport { PointerService } from '../../services/pointer.service';\r\nimport { environment } from '../../../environments/environment';\r\n//import { ActionCableService, Channel } from 'angular2-actioncable';\r\nimport { Subscription } from 'rxjs';\r\nimport { User } from '../..//models/user.model';\r\nimport { OutletService } from '../../services/outlet.service';\r\nimport { ShiftService } from '../../services/shift.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ActionCableService } from '../../services/action-cable.service';\r\nimport { Location } from '@angular/common';\r\n\r\ndeclare function toggleHeaderOption(): any;\r\ndeclare var bootstrap: any;\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styles: [\r\n    // `:host {\r\n    //   display: flex;\r\n    // }`\r\n  ]\r\n\r\n})\r\nexport class HeaderComponent implements OnInit, AfterViewInit {\r\n  @ViewChild('staticBackdrop') staticBackdrop!: ElementRef;\r\n  @ViewChild('reloginButton', { static: false }) reloginButton!: ElementRef;\r\n  modalInstance: any;\r\n  subscription: Subscription;\r\n  outletId: string;\r\n  outletName: string = \"\";\r\n  shiftNumber: number;\r\n  userName: string = \"\";\r\n  useVirtualKeyboard: string = \"\";\r\n  userData: any;\r\n\r\n  constructor(private activatedRoute: ActivatedRoute, private cdr: ChangeDetectorRef,\r\n    private outletService: OutletService,\r\n    private shiftService: ShiftService,\r\n    private pointerService: PointerService,\r\n    private cableService: ActionCableService,\r\n    private router: Router,\r\n    public translate: TranslateService, private location: Location) {\r\n    translate.addLangs(['English', 'Hindi', 'Marathi']);\r\n    translate.setDefaultLang('English');\r\n  }\r\n\r\n\r\n  // ngAfterViewInit() {\r\n  //   window.addEventListener('storage', (event) => {\r\n  //     if (event.key === 'userData' || event.key === null) {\r\n  //       debugger;\r\n  //       this.userData = JSON.parse(localStorage.getItem(\"userData\") || '{}');\r\n  //       // Check if the modal is already open\r\n  //       if (this.modalInstance && this.modalInstance._isShown) {\r\n  //         // Close the existing modal instance and reset it\r\n  //         this.modalInstance.hide();\r\n  //         this.modalInstance.dispose();\r\n  //         this.modalInstance = null;\r\n  //       }\r\n  //       // Create a new modal instance and show it\r\n  //       // this.modalInstance.hide();\r\n  //       this.modalInstance = new bootstrap.Modal(this.staticBackdrop.nativeElement);\r\n  //       this.modalInstance.show();\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n\r\n  // ngAfterViewInit() {\r\n  //   window.addEventListener('storage', this.handleStorageChange.bind(this));\r\n  // }\r\n\r\n  // handleStorageChange(event: StorageEvent) {\r\n  //   if (event.key === 'userData' || event.key === null) {\r\n  //     debugger\r\n  //     this.userData = JSON.parse(localStorage.getItem(\"userData\") || '{}');\r\n  //     let previousUserData = JSON.parse(localStorage.getItem(\"previousUserData\") || '{}')\r\n\r\n  //     if (this.userData?.id == previousUserData?.id) {\r\n  //       return;\r\n  //     }\r\n\r\n  //     //  If modal is already open, do nothing\r\n  //     if (this.modalInstance && this.modalInstance._isShown) {\r\n  //       return;\r\n  //     }\r\n\r\n  //     if (this.router.url === '/auth') {\r\n  //       return;\r\n  //     }\r\n\r\n  //     //  Remove any lingering backdrops before opening a new modal\r\n  //     this.cleanupModal();\r\n\r\n  //     //  Open a new modal\r\n  //     this.openModal();\r\n  //   }\r\n  // }\r\n\r\n  // openModal() {\r\n  //   this.modalInstance = new bootstrap.Modal(this.staticBackdrop.nativeElement);\r\n  //   this.modalInstance.show();\r\n  // }\r\n\r\n  // cleanupModal() {\r\n  //   //  Close and dispose of any existing modal\r\n  //   if (this.modalInstance) {\r\n  //     this.modalInstance.hide();\r\n  //     this.modalInstance.dispose();\r\n  //     this.modalInstance = null;\r\n  //   }\r\n\r\n  //   //  Remove any leftover backdrops\r\n  //   document.querySelectorAll('.modal-backdrop').forEach(el => el.remove());\r\n  // }\r\n\r\n\r\n\r\n  isModalVisible: boolean = false;\r\n\r\n  ngAfterViewInit() {\r\n    window.addEventListener('storage', this.handleStorageChange.bind(this));\r\n    setTimeout(() => { // Ensure it's attached after DOM updates\r\n      if (this.reloginButton) {\r\n        this.reloginButton.nativeElement.addEventListener('click', () => {\r\n          this.handleReloginClick();\r\n        });\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  handleStorageChange(event: StorageEvent) {\r\n    if (event.key === 'userData' || event.key === null) {\r\n      const previousUserData = JSON.parse(localStorage.getItem(\"previousUserData\") || '{}');\r\n      const newUserData = JSON.parse(localStorage.getItem(\"userData\") || '{}');\r\n\r\n      //  Prevent modal if userData is unchanged\r\n      if (previousUserData?.id === newUserData?.id) {\r\n        return;\r\n      }\r\n\r\n      //  Prevent modal if already visible\r\n      if (this.isModalVisible) {\r\n        return;\r\n      }\r\n\r\n      //  Prevent modal if user is on login page\r\n      if (this.router.url === '/auth') {\r\n        return;\r\n      }\r\n\r\n      //  Store new userData to prevent multiple triggers\r\n      localStorage.setItem(\"previousUserData\", JSON.stringify(newUserData));\r\n\r\n      this.isModalVisible = true;\r\n\r\n      //  Wait for cleanup before opening a new modal\r\n      setTimeout(() => {\r\n        this.cleanupModal();  // Ensure previous modal is removed\r\n        this.openModal();     // Open new modal\r\n      }, 100); // Delay allows proper cleanup\r\n    }\r\n  }\r\n\r\n\r\n  openModal() {\r\n    if (this.modalInstance) {\r\n      return; //  Prevent multiple modal openings\r\n    }\r\n\r\n    this.modalInstance = new bootstrap.Modal(this.staticBackdrop.nativeElement);\r\n    this.modalInstance.show();\r\n\r\n    //  Reset flag when modal closes\r\n    this.modalInstance._element.addEventListener('hidden.bs.modal', () => {\r\n      this.isModalVisible = false;\r\n      this.modalInstance = null;  // Ensure instance is cleared\r\n    }, { once: true });\r\n  }\r\n\r\n\r\n  cleanupModal() {\r\n    if (this.modalInstance) {\r\n      this.modalInstance.hide();\r\n      this.modalInstance.dispose();\r\n      this.modalInstance = null;\r\n    }\r\n\r\n    setTimeout(() => {\r\n      document.querySelectorAll('.modal-backdrop').forEach(el => el.remove());\r\n      document.querySelectorAll('.modal.show').forEach(el => el.remove());\r\n    }, 100);\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.outletId = this.activatedRoute.snapshot.params['outlet_id'];\r\n    this.outletName = this.outletService.getOutletName(this.outletId);\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    const loadedUser: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n    if (loadedUser) {\r\n      this.userName = loadedUser.full_name;\r\n\r\n      if (this.outletId) {\r\n        this.shiftNumber = this.shiftService.getUserShiftNo(this.outletId, loadedUser.id);\r\n      }\r\n    }\r\n    toggleHeaderOption();\r\n\r\n    this.useVirtualKeyboard = this.pointerService.filterValueByCode(environment.POINTER_USE_VIRTUAL_KEYBOARD);\r\n\r\n    this.cableService.subscribeTableChannel();\r\n  }\r\n\r\n\r\n  handleReloginClick() {\r\n    this.cleanupModal();\r\n    this.isModalVisible = false; //  Ensure modal state is reset\r\n    this.router.navigate([\"/auth\"]).then(() => {\r\n      window.location.reload(); //  Reloads the page after redirection\r\n    });\r\n\r\n  }\r\n\r\n\r\n  onContinueClick() {\r\n    document.getElementById('closeBtn').click();\r\n    window.location.reload();\r\n  }\r\n\r\n  @HostListener('window:storage')\r\n  onStorageChange() {\r\n    console.log(\"The user just pressed!\");\r\n  }\r\n\r\n  translateLanguageTo(lang) {\r\n    this.translate.use(lang);\r\n    localStorage.setItem(\"language\", lang);\r\n  }\r\n\r\n  onViewSelection(value) {\r\n    localStorage.setItem(\"viewMode\", value);\r\n  }\r\n\r\n  // subscribeToChannel() {\r\n  //   const loadedUser: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n  //   const channel: Channel = this.cableService\r\n  //     .cable(environment.ACTION_CABLE_ENPOINT + loadedUser.token)\r\n  //     .channel(environment.TABLE_STATUS_CHANNEL);\r\n\r\n  //   // Subscribe to incoming messages\r\n  //   this.subscription = channel.received().subscribe(data => {\r\n  //     if(data) {\r\n  //       let tableData: TableLayout[] = JSON.parse(localStorage.getItem('tableLayout'));\r\n\r\n  //       if(tableData) {\r\n  //         let selectedTable: TableLayout[] = tableData.filter(x => x.id == data.id && x.table_code == data.table_code);\r\n\r\n  //         if(selectedTable.length > 0) {\r\n  //           selectedTable[0].table_status = data.table_status;\r\n  //           selectedTable[0].pos_check_id = data.pos_check_id;\r\n  //           localStorage.setItem('tableLayout', JSON.stringify(tableData));\r\n  //         }\r\n  //       }\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  // enableKeyboardSetting(): void {\r\n  //   const virtualKeyboard = JSON.parse(localStorage.getItem(\"enableVirtualKeyboard\"));\r\n  //   if(virtualKeyboard) {\r\n  //     if(virtualKeyboard == \"Y\") {\r\n  //       localStorage.setItem(\"enableVirtualKeyboard\", JSON.stringify(\"N\"));\r\n  //     } else {\r\n  //       localStorage.setItem(\"enableVirtualKeyboard\", JSON.stringify(\"Y\"));\r\n  //     }\r\n  //   } else {\r\n  //     localStorage.setItem(\"enableVirtualKeyboard\", JSON.stringify(\"Y\"));\r\n  //   }\r\n  // }\r\n\r\n  ngOnDestroy() {\r\n    // Unsubscribing from the messages Observable automatically\r\n    // unsubscribes from the ActionCable channel as well\r\n    //this.subscription.unsubscribe();\r\n  }\r\n\r\n  onHomeClick(): void {\r\n    this.router.navigate(['/landing']);\r\n  }\r\n}\r\n","<header>\r\n  <div class=\"logo_blk\">\r\n    <h1>{{ 'HEADER.TITLE' | translate }}</h1>\r\n    <span class=\"curnt_outlet\" *ngIf=\"outletName\">{{ outletName }}</span>\r\n  </div>\r\n  <div class=\"user_login_parnt\">\r\n    <button class=\"btn mob_menu\"><i class=\"bi bi-list\"></i></button>\r\n    <div class=\"user_login_info\">\r\n      <div class=\"miscllns_options\">\r\n        <ul>\r\n          <li class=\"view_levl_optn\">\r\n            <button class=\"btn\">{{ 'HEADER.VIEW' | translate }}</button>\r\n            <ul class=\"view_levl_lst\" style=\"display: none;\">\r\n              <li (click)=\"onViewSelection('OPERATIONAL_VIEW')\"><a href=\"javascript:void(0)\">{{\r\n                  'HEADER.OPERATIONAL_VIEW' | translate }}</a></li>\r\n              <li (click)=\"onViewSelection('SMART_VIEW')\"><a href=\"javascript:void(0)\">{{ 'HEADER.SMART_VIEW' |\r\n                  translate }}</a></li>\r\n              <li>{{ 'HEADER.LANGUAGE' | translate }}\r\n                <span class=\"demo_view_grp\">\r\n                  <select class=\"form-select\" #selLang>\r\n                    <option *ngFor=\"let language of translate.getLangs()\" [value]=\"language\">{{ language }}</option>\r\n                  </select>\r\n                  <button type=\"button\" class=\"btn\" (click)=\"translateLanguageTo(selLang.value)\"><i\r\n                      class=\"bi bi-check2\"></i></button>\r\n                </span>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n          <li class=\"clr_indctr_icon\">\r\n            <button class=\"btn\">{{ 'HEADER.COLOR_INFO' | translate }}</button>\r\n            <ul class=\"clr_indctr_lst\" style=\"display: none;\">\r\n              <li class=\"avbl_tabl_clr\">{{ 'HEADER.AVAILABLE' | translate }}</li>\r\n              <li class=\"kot_tabl_clr\">{{ 'HEADER.RAISE_ORDER' | translate }}</li>\r\n              <li class=\"prnt_tabl_clr\">{{ 'HEADER.PRINT_BILL' | translate }}</li>\r\n              <!-- <li class=\"rsvrd_tabl_clr\">Reservered</li> -->\r\n            </ul>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"admin_grp\">\r\n        <p>{{ userName }}<span *ngIf=\"shiftNumber\"> | {{ 'HEADER.SHIFT' | translate }} : {{ shiftNumber }}</span></p>\r\n        <div class=\"hdr_parnt_blk\">\r\n          <button class=\"btn hdr_menu\"><i class=\"bi bi-three-dots-vertical\"></i></button>\r\n          <div class=\"hdr_drp_dwn\" style=\"display: none;\">\r\n            <div class=\"lock_options\">\r\n              <ul>\r\n                <li class=\"home_icon\" (click)=\"onHomeClick()\">\r\n                  <a class=\"form-control\" tabindex=\"0\">{{ 'HEADER.HOME' | translate }}</a>\r\n                </li>\r\n                <li class=\"change_passwd_icon\">\r\n                  <a class=\"form-control\" data-bs-toggle=\"modal\" data-bs-target=\"#changePasswordModal\" tabindex=\"0\">{{\r\n                    'HEADER.CHANGE_PASSWORD' | translate }}</a>\r\n                </li>\r\n                <li class=\"lock_icon\">\r\n                  <a class=\"form-control\" data-bs-toggle=\"modal\" data-bs-target=\"#lockScreenModal\" tabindex=\"0\">{{\r\n                    'HEADER.LOCK_SCREEN' | translate }}</a>\r\n                </li>\r\n                <li class=\"logout_icon\">\r\n                  <a class=\"form-control\" data-bs-toggle=\"modal\" data-bs-target=\"#logoutModal\" tabindex=\"0\">{{\r\n                    'HEADER.LOGOUT' | translate }}</a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</header>\r\n\r\n<app-change-password></app-change-password>\r\n<app-lock-screen></app-lock-screen>\r\n<app-logout></app-logout>\r\n<app-alert></app-alert>\r\n\r\n\r\n<div class=\"modal fade\" id=\"staticBackdrop\" #staticBackdrop data-bs-backdrop=\"static\" data-bs-keyboard=\"false\"\r\n  tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <!-- <h5 class=\"modal-title\" id=\"staticBackdropLabel\">Modal title</h5> -->\r\n        <!-- <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"closeBtn\"></button> -->\r\n      </div>\r\n      <ng-container *ngIf=\"userData?.code\">\r\n        <div class=\"modal-body\">\r\n          Current logged in user is with code {{userData?.code}}.\r\n        </div>\r\n      </ng-container>\r\n      <ng-container *ngIf=\"!userData?.code\">\r\n        <div class=\"modal-body\">\r\n          Please login again!\r\n        </div>\r\n      </ng-container>\r\n      <ng-container *ngIf=\"!userData\">\r\n        <div class=\"modal-body\">\r\n          Please Relogin.\r\n        </div>\r\n      </ng-container>\r\n      <div class=\"modal-footer\">\r\n        <button #reloginButton type=\"button\" class=\"btn btn-secondary\">Relogin</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { ChangeDetectorRef, Component } from '@angular/core';\r\nimport { LoaderService } from 'projects/pos/src/app/services/loader.service';\r\nimport { ThemePalette } from '@angular/material/core';\r\nimport { ProgressSpinnerMode } from '@angular/material/progress-spinner';\r\n\r\n@Component({\r\n  selector: 'app-loader',\r\n  templateUrl: './loader.component.html',\r\n  styleUrls: ['./loader.component.scss'],\r\n})\r\nexport class LoaderComponent {\r\n  //isLoading: Subject<boolean> = this.loaderService.isLoading;\r\n  isLoading:any\r\n  //color: ThemePalette = 'primary';\r\n  //mode: ProgressSpinnerMode = 'indeterminate';\r\n  //value = 50;\r\n\r\n  constructor(private loaderService: LoaderService,\r\n              private ref: ChangeDetectorRef) {\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.loaderService.isLoading.subscribe(data=>{\r\n      this.isLoading=data;\r\n    })\r\n  }\r\n\r\n  ngAfterViewChecked(): void {\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n}\r\n","<div class=\"overlay\">\r\n  <div class=\"loader-wrapper\">\r\n    <div class=\"loader-box\">\r\n      <div class=\"icon\">\r\n        <i class=\"fa fa-cutlery\" aria-hidden=\"true\"></i>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- <mat-progress-spinner class=\"spinner\" [diameter]=\"50\" [color]=\"color\" [mode]=\"mode\" [value]=\"value\">\r\n  </mat-progress-spinner> -->\r\n</div>","<div class=\"modal fade lock_scrn_modal\" id=\"lockScreenModal\" \r\n  data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\"\r\n  aria-labelledby=\"lockScreenLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered\">\r\n    <div class=\"modal-content\">\r\n      <form #authForm=\"ngForm\" (ngSubmit)=\"onSubmit(authForm)\">\r\n       <div class=\"modal-header\"> \r\n          <button type=\"button\" #closeBtn id=\"closeBtn\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" style=\"display: none;\"></button>\r\n       </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"change_passwrd\">\r\n            <div class=\"relogin_parnt_blk\">\r\n              <img src=\"../../../assets/images/user_avatar.png\" alt=\"Avatar\">\r\n              <label>{{ username }}</label>\r\n              <div class=\"relogin_grp_inr\">\r\n                <div class=\"input-group\">\r\n                  <span class=\"input-group-text\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\r\n                  <input type=\"password\" name=\"password\" class=\"form-control\" ngModel required minlength=\"8\"\r\n                  placeholder=\"Enter Password\" #passwordControl=\"ngModel\" (click)=\"openKeyboard($event)\">\r\n            \r\n                  <button type=\"submit\" [disabled]=\"!authForm.valid\" [class]=\"!authForm.valid ? 'btn disabled' : 'btn gry_btn'\" >\r\n                    <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"25px\" height=\"25px\" viewBox=\"0 0 88.363 122.879\" enable-background=\"new 0 0 88.363 122.879\" xml:space=\"preserve\"><g><path d=\"M42.078,64.589H3.118C1.396,64.589,0,63.179,0,61.439s1.396-3.149,3.118-3.149h38.958L29.405,43.778 c-1.137-1.298-1.017-3.281,0.268-4.429c1.285-1.148,3.248-1.027,4.385,0.271l17.238,19.742c1.059,1.208,1.027,3.009-0.02,4.179 L34.057,83.26c-1.137,1.298-3.1,1.419-4.385,0.271c-1.284-1.148-1.404-3.132-0.268-4.43L42.078,64.589L42.078,64.589z M47.434,122.786c-1.77,0.428-3.55-0.659-3.978-2.428s0.659-3.55,2.427-3.978c4.258-1.032,7.932-1.761,11.303-2.428 c15.99-3.168,24.566-4.866,24.566-27.147V34.258c0-20.817-9.068-22.512-24.086-25.318c-3.596-0.672-7.498-1.401-11.783-2.441 c-1.768-0.428-2.855-2.208-2.427-3.978c0.428-1.769,2.208-2.855,3.978-2.428c4.02,0.976,7.885,1.698,11.447,2.363 c18.383,3.436,29.482,5.51,29.482,31.801v52.548c0,27.705-10.443,29.773-29.912,33.63 C54.986,121.121,51.215,121.869,47.434,122.786L47.434,122.786z\"/></g></svg>\r\n                  </button>  \r\n                </div>\r\n              </div>\r\n              <div class=\"error_msg_parnt mb-0\" *ngIf=\"errorList && errorList.length > 0\">\r\n                <h5 *ngFor=\"let error of errorList\">\r\n                  {{ error }}\r\n                </h5>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { User } from '../../models/user.model';\r\nimport { AuthService } from '../../services/auth.service';\r\n\r\ndeclare function initializeKeyboard(event): any;\r\n\r\n@Component({\r\n  selector: 'app-lock-screen',\r\n  templateUrl: './lock-screen.component.html'\r\n})\r\nexport class LockScreenComponent implements OnInit {\r\n  @ViewChild('closeBtn') closeBtn: ElementRef;\r\n\r\n  errorList: any[] = [];\r\n  usercode: string;\r\n  username: string;\r\n  constructor(private authService: AuthService) { }\r\n\r\n  ngOnInit(): void {\r\n    const userData: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n    \r\n    if(!userData) {\r\n      return;\r\n    }\r\n\r\n    this.usercode = userData.code;\r\n    this.username = userData.full_name;\r\n  }\r\n\r\n  onSubmit(form): void {\r\n    this.errorList = [];\r\n    if(!form.valid) {\r\n      return;\r\n    }\r\n\r\n    const password = form.value.password;\r\n\r\n    this.authService.validateLogin(this.usercode, password).subscribe(\r\n      resData => {\r\n        this.closeModal();\r\n      },\r\n      errorMessage => {\r\n        this.errorList.push(errorMessage);\r\n      }\r\n    )\r\n  }\r\n\r\n  closeModal(): void {\r\n    this.errorList = [];\r\n    this.closeBtn.nativeElement.click();\r\n  }\r\n\r\n  openKeyboard(event): void {\r\n    initializeKeyboard(event.target);\r\n  }\r\n\r\n}\r\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { AuthService } from '../../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-logout',\r\n  templateUrl: './logout.component.html'\r\n})\r\nexport class LogoutComponent implements OnInit {\r\n  @ViewChild('closeLogoutModal') closeLogoutModal: ElementRef;\r\n  constructor(private authService: AuthService) { }\r\n  \r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onLogout(): void {\r\n    this.authService.logout();\r\n    this.closeLogoutModal.nativeElement.click();\r\n  }\r\n\r\n}\r\n","<div class=\"modal fade\" id=\"logoutModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ 'HEADER.LOGOUT' | translate }}</h5>\r\n        <button type=\"button\" #closeLogoutModal class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <h2 class=\"title_cls mb-0\">{{ 'LOGOUT.LOGOUT_MSG' | translate }}</h2>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <div class=\"button_blk\">\r\n          <button type=\"button\" class=\"btn lg_gry_btn\" data-bs-dismiss=\"modal\">\r\n            <i class=\"fas fa-times-circle\"></i>{{ 'LOGOUT.NO' | translate }}\r\n          </button>\r\n          <button type=\"button\" class=\"btn gry_btn\" (click)=\"onLogout()\">\r\n            <i class=\"fas fa-check-circle\"></i>{{ 'LOGOUT.YES' | translate }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-qwerty-keyboard',\r\n  templateUrl: './qwerty-keyboard.component.html',\r\n  styles: [\r\n  ]\r\n})\r\nexport class QwertyKeyboardComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"fixd_keypad_parnt\" id=\"divKeyboard\">\r\n  <div class=\"keyboard\"></div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DigitalKeyboardComponent } from './digital-keyboard/digital-keyboard.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { LoaderComponent } from './loader/loader.component';\r\nimport { BusinessDateComponent } from './business-date/business-date.component';\r\nimport { HeaderComponent } from './header/header.component';\r\nimport { ErrorComponent } from './error/error.component';\r\nimport { LogoutComponent } from './logout/logout.component';\r\nimport { LockScreenComponent } from './lock-screen/lock-screen.component';\r\nimport { ChangePasswordComponent } from './change-password/change-password.component';\r\nimport { QwertyKeyboardComponent } from './qwerty-keyboard/qwerty-keyboard.component';\r\n\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { LoaderInterceptorService } from 'projects/pos/src/app/services/loader-interceptor.service';\r\n\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { AlertModule } from './alert/alert.module';\r\nimport { DateSuffix } from '../billing/custom-filter/date-suffix.pipe';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    DigitalKeyboardComponent,\r\n    LoaderComponent,\r\n    BusinessDateComponent,\r\n    HeaderComponent,\r\n    ErrorComponent,\r\n    LogoutComponent,\r\n    LockScreenComponent,\r\n    ChangePasswordComponent,\r\n    QwertyKeyboardComponent,\r\n    DateSuffix\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    TranslateModule,\r\n    AlertModule,\r\n    MatProgressSpinnerModule\r\n  ],\r\n  exports: [\r\n    CommonModule,\r\n    TranslateModule,\r\n    DigitalKeyboardComponent,\r\n    LoaderComponent,\r\n    BusinessDateComponent,\r\n    HeaderComponent,\r\n    ErrorComponent,\r\n    QwertyKeyboardComponent\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: LoaderInterceptorService,\r\n      multi: true,\r\n    },\r\n  ]\r\n})\r\nexport class SharedModule {}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Shift } from '../../models/shift.model.model';\r\nimport { User } from '../../models/user.model';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { PointerService } from '../../services/pointer.service';\r\nimport { ShiftService } from '../../services/shift.service';\r\n\r\ndeclare function enableNumericKeyboard(): any;\r\n\r\n@Component({\r\n  selector: 'app-close-shift',\r\n  templateUrl: './close-shift.component.html'\r\n})\r\nexport class CloseShiftComponent implements OnInit {\r\n  closingBalance: string = \"\";\r\n  error: any[] = [];\r\n  outletId: string = \"\";\r\n  businessDate: string;\r\n  userShift: Shift;\r\n  loadedUser: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n  constructor(private shiftService: ShiftService,\r\n              private activatedRoute: ActivatedRoute,\r\n              private authService: AuthService,\r\n              private router: Router) { }\r\n     \r\n  @ViewChild('authForm') form: NgForm;\r\n\r\n  ngOnInit(): void {\r\n    enableNumericKeyboard();\r\n    this.businessDate = PointerService.getISOBusinessDate();\r\n    this.outletId = this.activatedRoute.snapshot.params['outlet_id'];\r\n\r\n    let currentShiftNo = this.shiftService.getUserShiftNo(this.outletId, this.loadedUser.id);\r\n    this.shiftService.getShiftDetailsBy(this.outletId, this.loadedUser.id.toString(), this.businessDate, currentShiftNo.toString())\r\n    .subscribe({\r\n      next: (resData: any) => {\r\n        if (resData && resData.length > 0) {\r\n          if(!resData[0].shift_closed_ind) {\r\n            this.userShift = resData[0];\r\n          } else {\r\n            this.router.navigate(['/']);\r\n          }\r\n        }\r\n      },\r\n      error: (error: any) => {\r\n        if(error.errors && error.errors.length > 0) {\r\n          this.error.push(error.errors[0]);\r\n        } else {\r\n          this.error.push(error);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    let element: HTMLElement = document.getElementById(\"closingBalanceInput\") as HTMLElement;\r\n    element.click();\r\n  }\r\n\r\n  onClosingBalanceInputClick(): void {\r\n    if ((<HTMLInputElement>document.getElementById(\"closingBalanceInput\")).value != \"\") {\r\n      this.closingBalance = (<HTMLInputElement>document.getElementById(\"closingBalanceInput\")).value;\r\n      this.form.ngSubmit.emit();\r\n    } else {\r\n      (<HTMLInputElement>document.getElementById(\"closingBalanceInput\")).style.borderColor = \"red\";\r\n    }\r\n  }\r\n\r\n  onClosingBalanceEnter(): void {\r\n    this.onClosingBalanceInputClick();\r\n  }\r\n\r\n  onSubmit(form: NgForm): void {\r\n    this.error = [];\r\n    if (!form.valid) {\r\n      return;\r\n    }\r\n    else {\r\n      this.userShift.closing_balance = +this.closingBalance;\r\n      this.userShift.shift_closed_ind = true;\r\n      this.updateUserShift();\r\n    }\r\n  }\r\n\r\n  updateUserShift(): void {\r\n    let user = this.authService.userValue;\r\n    if (user) {\r\n      this.shiftService.update(this.userShift)\r\n      .subscribe({\r\n        next: (data: any) => {\r\n          this.authService.logout()\r\n        },\r\n        error: (error: any) => {\r\n          if(error.errors && error.errors.length > 0) {\r\n            this.error.push(error.errors[0]);\r\n          } else {\r\n            this.error.push(error);\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      this.authService.logout()\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"wrapg_blk\">\r\n  <app-header></app-header>\r\n  <main class=\"main_cnt_blk\">\r\n    <section class=\"login_blk_parnt\">\r\n      <div class=\"login_inr_contnr\">\r\n        <!-- SOF Error Message html -->\r\n        <div class=\"error_msg_parnt\" *ngIf=\"error && error.length > 0\">\r\n          <h5>Please correct the following errors and try again.</h5>\r\n          <ul>\r\n            <li *ngFor=\"let message of error\">\r\n              {{ message }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <!-- EOF Error Message html -->\r\n        <div class=\"login_cnt_blk\">\r\n          <div class=\"login_outlet_icn select_out_blk blue_main_parnt\">\r\n            <a class=\"form-control select_out_icn\">\r\n              <span>Close shift</span>\r\n            </a>\r\n          </div>\r\n          <div class=\"keypad_main_blk\">\r\n            <input type=\"number\" id=\"closingBalanceInput\" (keyup.enter)=\"onClosingBalanceEnter()\" class=\"numericInput\">\r\n            <div id=\"digitalKeyboardContainer\" class=\"digitalKeyboardContainer\"></div>\r\n\r\n            <div class=\"button_blk\">\r\n              <button type=\"button\" (click)=\"onClosingBalanceInputClick()\">\r\n                <i class=\"opng_lgn_btn\"></i>Closing Balance\r\n              </button>\r\n            </div>\r\n\r\n            <form #authForm=\"ngForm\" (ngSubmit)=\"onSubmit(authForm)\">\r\n              <input type=\"hidden\" name=\"closingBalance\" [ngModel]=\"closingBalance\" />\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </main>\r\n</div>","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { TableLayout } from '../models/table-layout.model';\r\n\r\n@Pipe({\r\n  name: 'FilterTableBySection',\r\n  pure: true\r\n})\r\nexport class FilterTableBySection implements PipeTransform{\r\n  transform(layout: TableLayout[], section: string) {\r\n    if(layout) { \r\n      let sectionTables = layout.filter(a => a.table_group == section);\r\n      return sectionTables;\r\n    }\r\n  }\r\n}","import { ChangeDetectorRef, Component, ElementRef, HostListener, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TableLayout } from '../models/table-layout.model';\r\nimport { TableLayoutService } from '../services/table-layout.service';\r\nimport { PointerService } from '../services/pointer.service';\r\nimport { environment } from '../../environments/environment';\r\nimport { PosCheck } from '../models/pos-check.model';\r\nimport { PosCheckService } from '../services/pos-check.service';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { VoidReason } from '../models/void-reason.model';\r\nimport { VoidReasonService } from '../services/void-reason.service';\r\nimport { ActionCableService } from '../services/action-cable.service';\r\nimport { debounceTime, first, Subscription } from 'rxjs';\r\nimport { User } from '../models/user.model';\r\nimport { AlertService } from '../services/alert.service';\r\nimport { OutletSetting } from '../models/outlet-setting.model';\r\n\r\ndeclare function enableTabListPanel(): any;\r\ndeclare function enableParentTabOfTable(sectionCode: string): any;\r\ndeclare function toggleTableTransferModal(): any;\r\ndeclare function subCategoryJs(): any;\r\n\r\n@Component({\r\n  selector: 'app-table-layout',\r\n  templateUrl: './table-layout.component.html'\r\n})\r\nexport class TableLayoutComponent implements OnInit {\r\n  subscription: Subscription;\r\n  outletId: string = \"\";\r\n  tableLayout: TableLayout[] = [];\r\n  voidReason: VoidReason[] = [];\r\n  tableSection: any[] = [];\r\n  selectedTable: TableLayout;\r\n  tableInfo: string = \"\";\r\n  pendingTableCode: string = \"\";\r\n  posCheck: PosCheck;\r\n  businessDate: string;\r\n  error: any[] = [];\r\n  previousTable = this.tableLayoutService.getPreviousSelectedTable;\r\n  tableViewMode = \"\";\r\n\r\n  POS_TABLE_STATUS_AVAILABLE = environment.POS_TABLE_STATUS_AVAILABLE;\r\n  POS_TABLE_STATUS_KOT = environment.POS_TABLE_STATUS_KOT;\r\n  POS_TABLE_STATUS_CHECK = environment.POS_TABLE_STATUS_CHECK;\r\n\r\n  isTableTransfer: boolean = false;\r\n  tableTransferredFrom: TableLayout;\r\n  tableTransferredTo: TableLayout;\r\n  @ViewChild('closePendingModalBtn') closePendingModalBtn: ElementRef;\r\n  @ViewChild('closeTableTransferModalBtn') closeTableTransferModalBtn: ElementRef;\r\n  @ViewChild('errorModal') errorModal: ElementRef;\r\n\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n    private tableLayoutService: TableLayoutService,\r\n    private router: Router,\r\n    private pointerService: PointerService,\r\n    private posCheckService: PosCheckService,\r\n    private voidReasonService: VoidReasonService,\r\n    private modalService: NgbModal,\r\n    private changeDetector: ChangeDetectorRef,\r\n    private cableService: ActionCableService,\r\n    private alertService: AlertService\r\n  ) {\r\n\r\n    window.addEventListener('storage', () => {\r\n      // When local storage changes, dump the list to\r\n      // the console.\r\n      console.log('keys pressed');\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    let viewMode = localStorage.getItem(\"viewMode\");\r\n    if (viewMode) {\r\n      this.tableViewMode = viewMode;\r\n    } else {\r\n      this.tableViewMode = \"SMART_VIEW\";\r\n    }\r\n\r\n    this.posCheckService.currentMessage.subscribe(message => {\r\n      console.log(message);\r\n    });\r\n\r\n    enableTabListPanel();\r\n\r\n    this.pendingTableCode = this.pointerService.filterValueByCode(environment.POINTER_PENDING_TABLE_CODE);\r\n    this.businessDate = PointerService.getISOBusinessDate();\r\n    this.outletId = this.activatedRoute.snapshot.params['outlet_id'];\r\n\r\n    const tableData: TableLayout[] = JSON.parse(localStorage.getItem(\"tableLayout\"));\r\n    if (!tableData) {\r\n      this.tableLayoutService.getTableLayoutBy(this.outletId)\r\n        .pipe(first())\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            this.tableLayout = data;\r\n          },\r\n          error: (error: any) => {\r\n            this.alertService.error(error);\r\n          }\r\n        });\r\n    } else {\r\n      this.tableLayout = tableData?.sort((a, b) => a?.table_group?.localeCompare(b?.table_group));\r\n    }\r\n\r\n    this.tableSection = [...new Set(this.tableLayout.map(item => item.table_group))]?.sort();\r\n    if (!this.previousTable) {\r\n      this.previousTable = this.tableLayout[0];\r\n    }\r\n\r\n    const voidReasonData: VoidReason[] = JSON.parse(localStorage.getItem(\"voidReason\"));\r\n    if (!voidReasonData) {\r\n      this.voidReasonService.getAll()\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            this.voidReason = data;\r\n          },\r\n          error: (error: any) => {\r\n            if (error.errors && error.errors.length > 0) {\r\n              this.alertService.error(error.errors[0]);\r\n            } else {\r\n              this.alertService.error(error);\r\n            }\r\n          }\r\n        });\r\n    } else {\r\n      this.voidReason = voidReasonData;\r\n    }\r\n\r\n    this.cableService.data$.subscribe(res => {\r\n      this.tableLayout.forEach((tableItem, index) => {\r\n        if (tableItem?.id === res?.id && tableItem?.table_code == res?.table_code) {\r\n          Object.keys(res).forEach(key => {\r\n            if (tableItem.hasOwnProperty(key)) {\r\n              tableItem[key] = res[key];\r\n            }\r\n          });\r\n        }\r\n      });\r\n      this.changeDetector.detectChanges();\r\n    })\r\n  }\r\n\r\n  // subscribeToChannel() {\r\n  //   const loadedUser: User = JSON.parse(localStorage.getItem(\"userData\"));\r\n  //   const channel: Channel = this.cableService\r\n  //     .cable(environment.ACTION_CABLE_ENPOINT + loadedUser.token)\r\n  //     .channel(environment.TABLE_STATUS_CHANNEL);\r\n\r\n  //   // Subscribe to incoming messages\r\n  //   this.subscription = channel.received().subscribe(data => {\r\n\r\n  //     if (data) {\r\n  //       let tableData: TableLayout[] = JSON.parse(localStorage.getItem('tableLayout'));\r\n\r\n  //       if (tableData) {\r\n  //         let selectedTable: TableLayout[] = tableData.filter(x => x.id == data.id && x.table_code == data.table_code);\r\n\r\n  //         if (selectedTable.length > 0) {\r\n  //           selectedTable[0].table_status = data.table_status;\r\n  //           selectedTable[0].pos_check_id = data.pos_check_id;\r\n\r\n  //           localStorage.setItem('tableLayout', JSON.stringify(tableData));\r\n  //           this.tableLayout = tableData;\r\n  //           this.onTableSelection(selectedTable[0])\r\n  //         }\r\n  //       }\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.cableService.subscribeTableChannel();\r\n    enableTabListPanel();\r\n    subCategoryJs();\r\n    if (this.previousTable) {\r\n      this.onTableSelection(this.previousTable);\r\n      enableParentTabOfTable(this.previousTable.table_group);\r\n      this.changeDetector.detectChanges();\r\n    }\r\n  }\r\n\r\n  onSectionSelection(): void {\r\n    enableTabListPanel();\r\n  }\r\n\r\n  onTableSelection(table: TableLayout): void {\r\n    this.selectedTable = table;\r\n    this.tableInfo = \"Table selected: \" + table.table_display_code;\r\n    this.tableLayoutService.setSelectedTable(table);\r\n    if (this.selectedTable && this.selectedTable.table_code != this.pendingTableCode) {\r\n      if (this.isTableTransfer) {\r\n        this.tableTransferredTo = this.selectedTable;\r\n        this.checkTableTransfer();\r\n      }\r\n      else {\r\n        this.posCheck = null;\r\n        setTimeout(() => {\r\n          if (this.selectedTable.table_status.toUpperCase() != this.POS_TABLE_STATUS_AVAILABLE.toUpperCase()) {\r\n            this.posCheckService.getCheckDetailsBy(this.outletId, this.businessDate, this.selectedTable)\r\n              .subscribe({\r\n                next: (data: any) => {\r\n                  this.posCheck = data;\r\n                  if (this.posCheck && this.posCheck.check_no) {\r\n                    this.tableInfo += \" | Bill no: \" + this.posCheck.check_no;\r\n                  }\r\n                  if (this.posCheck && this.posCheck.guest_name) {\r\n                    this.tableInfo += \" | Guest name: \" + this.posCheck.guest_name;\r\n                  }\r\n                },\r\n                error: (error: any) => {\r\n                  this.alertService.error(error);\r\n                }\r\n              });\r\n          }\r\n        }, 0);\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  checkTableTransfer(): void {\r\n    if (this.selectedTable.table_status.toUpperCase() == this.POS_TABLE_STATUS_AVAILABLE.toUpperCase()\r\n      && this.selectedTable.table_code != this.pendingTableCode) {\r\n      toggleTableTransferModal();\r\n    } else {\r\n      this.isTableTransfer = false;\r\n      this.tableTransferredFrom = null;\r\n      this.tableTransferredTo = null;\r\n    }\r\n  }\r\n\r\n  onPlaceOrder(): void {\r\n    let isQsrOutlet = this.checkQsrOutlet();\r\n\r\n    if (isQsrOutlet) {\r\n      let layoutData = JSON.parse(localStorage.getItem(\"tableLayout\"));\r\n\r\n      if (!layoutData) {\r\n        this.tableLayoutService.getTableLayoutBy(this.outletId).subscribe((data) => {\r\n          this.getAvailableTable(data);\r\n        })\r\n      } else {\r\n        this.getAvailableTable(layoutData);\r\n      }\r\n    } else {\r\n      // for non-qsr outlets - normal flow\r\n      if (this.selectedTable && this.selectedTable.table_status.toUpperCase() === environment.POS_TABLE_STATUS_CHECK) {\r\n        // do nothing\r\n      } else if (this.selectedTable && this.selectedTable.table_code === this.pendingTableCode) {\r\n        // show pop up - can not raise on reserve table\r\n        this.alertService.error(environment.CANNOT_RAISE_ON_RESERVE_TABLE)\r\n      } else if (this.selectedTable && this.selectedTable.table_status.toUpperCase() === environment.POS_TABLE_STATUS_KOT) {\r\n        this.router.navigate(['/billing/' + this.outletId + '/place-order/' + this.selectedTable.table_code + '/' + this.posCheck.id]);\r\n      } else {\r\n        this.router.navigate(['/billing/' + this.outletId + '/place-order/' + this.selectedTable.table_code]);\r\n      }\r\n    }\r\n  }\r\n\r\n  checkQsrOutlet() {\r\n    let isQsrOutlet: boolean = false;\r\n    if (this.outletId) {\r\n      const outletSettingData: OutletSetting[] = JSON.parse(localStorage.getItem(\"outletSetting\"));\r\n      if (outletSettingData) {\r\n        let currentOutletSetting = outletSettingData.filter(a => a.pos_restaurant_id === +this.outletId);\r\n\r\n        if (currentOutletSetting.length > 0) {\r\n          isQsrOutlet = currentOutletSetting[0].qsr_in_use_ind;\r\n        }\r\n        return isQsrOutlet\r\n      } else {\r\n        this.router.navigate(['/outlet']);\r\n      }\r\n    }\r\n  }\r\n\r\n  getAvailableTable(layoutData) {\r\n    //Get any Free table from layout for QSR billing\r\n    let selectedTable = layoutData.filter(t => {\r\n      return t.pos_restaurant_id == +this.outletId && t.table_status.toUpperCase() === environment.POS_TABLE_STATUS_AVAILABLE.toUpperCase()\r\n    });\r\n\r\n    if (selectedTable && selectedTable.length > 0) {\r\n      this.router.navigate(['/billing/' + this.outletId + '/qsr/' + selectedTable[0].table_code]);\r\n    } else {\r\n      this.alertService.error(environment.NO_FREE_TABLE_AVAILABLE);\r\n    }\r\n  }\r\n\r\n  onViewBill(): void {\r\n    if (this.posCheck) {\r\n      this.router.navigate(['/billing/' + this.outletId + '/view-bill/' + this.posCheck.id]);\r\n    }\r\n  }\r\n\r\n  onTableTransferClick(): void {\r\n    this.isTableTransfer = true;\r\n    this.tableTransferredFrom = this.selectedTable;\r\n  }\r\n\r\n  onKotListClick(): void {\r\n    this.router.navigate(['/billing/' + this.outletId + '/kot']);\r\n  }\r\n\r\n  onTableKotListClick(): void {\r\n    this.router.navigate(['/billing/' + this.outletId + '/table-kot/' + this.posCheck.id]);\r\n  }\r\n\r\n  onChangeOutlet(): void {\r\n    this.tableLayoutService.resetTableSelection();\r\n    this.router.navigate(['/outlet']);\r\n  }\r\n\r\n  openModal(content): void {\r\n    this.modalService.open(content);\r\n  }\r\n\r\n  onANGClick(): void {\r\n    if (this.posCheck) {\r\n      this.router.navigate(['/billing/' + this.outletId + '/ang/' + this.posCheck.id]);\r\n    }\r\n  }\r\n\r\n  onCloseShiftClick(): void {\r\n    this.router.navigate(['/close_shift/' + this.outletId]);\r\n  }\r\n\r\n  onRecallCheckClick(): void {\r\n    if (this.selectedTable.table_code) {\r\n      this.router.navigate(['/billing/' + this.outletId + '/recall-check/' + this.selectedTable.table_code]);\r\n    } else {\r\n      this.router.navigate(['/billing/' + this.outletId + '/recall-check']);\r\n    }\r\n  }\r\n\r\n  onSearchUserClick(): void {\r\n    this.router.navigate(['/billing/' + this.outletId + '/address-book']);\r\n  }\r\n\r\n  moveBillToPendingTable(): void {\r\n    if (this.selectedTable.table_status == environment.POS_TABLE_STATUS_CHECK) {\r\n      if (this.pendingTableCode) {\r\n        //only printed bills will be transfer to pending table\r\n        this.posCheckService.transferTable(this.posCheck, this.pendingTableCode)\r\n          .subscribe({\r\n            next: (data: any) => {\r\n              this.closePendingModalBtn.nativeElement.click();\r\n            },\r\n            error: (error: any) => {\r\n              this.closePendingModalBtn.nativeElement.click();\r\n              if (error.errors && error.errors.length > 0) {\r\n                this.alertService.error(error.errors[0]);\r\n              } else {\r\n                this.alertService.error(error);\r\n              }\r\n            }\r\n          });\r\n      } else {\r\n        this.closePendingModalBtn.nativeElement.click();\r\n        this.alertService.error(environment.PENDING_TABLE_MISSING);\r\n      }\r\n    } else {\r\n      // don't do anything for FR/KOT tables.\r\n      this.closePendingModalBtn.nativeElement.click();\r\n      this.alertService.error(environment.SELECT_VALID_TABLE);\r\n    }\r\n  }\r\n\r\n  transferTable(): void {\r\n    if (this.selectedTable.table_status == environment.POS_TABLE_STATUS_AVAILABLE) {\r\n      //only printed bills will be transfer to pending table\r\n      this.posCheckService.transferTable(this.posCheck, this.tableTransferredTo.table_code)\r\n        .subscribe({\r\n          next: (data: any) => {\r\n            this.closeTableTransferModalBtn.nativeElement.click();\r\n            this.isTableTransfer = false;\r\n            this.tableTransferredFrom = null;\r\n            this.tableTransferredTo = null;\r\n\r\n            //setTimeout(function() {\r\n            const tableData: TableLayout[] = JSON.parse(localStorage.getItem(\"tableLayout\"));\r\n            this.tableLayout = tableData;\r\n\r\n            //this.cableService.subscribeTableChannel();\r\n            //}, 1000);\r\n\r\n          },\r\n          error: (error: any) => {\r\n            this.closeTableTransferModalBtn.nativeElement.click();\r\n            this.isTableTransfer = false;\r\n            this.tableTransferredFrom = null;\r\n            this.tableTransferredTo = null;\r\n\r\n            if (error.errors && error.errors.length > 0) {\r\n              this.alertService.error(error.errors[0]);\r\n            } else {\r\n              this.alertService.error(error);\r\n            }\r\n          }\r\n        });\r\n    } else {\r\n      // don't do anything for CHCK/KOT tables.\r\n      this.isTableTransfer = false;\r\n      this.tableTransferredFrom = null;\r\n      this.tableTransferredTo = null;\r\n      this.alertService.error(environment.ERROR_TRANSFER_TABLE);\r\n    }\r\n  }\r\n\r\n  cancelTableTransfer(): void {\r\n    this.isTableTransfer = false;\r\n    this.tableTransferredFrom = null;\r\n    this.tableTransferredTo = null;\r\n    this.closeTableTransferModalBtn.nativeElement.click();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // Unsubscribing from the messages Observable automatically\r\n    // unsubscribes from the ActionCable channel as well\r\n    //this.subscription.unsubscribe();\r\n  }\r\n}","<div class=\"wrapg_blk\">\r\n  <app-header></app-header>\r\n\r\n  <!-- SOF Sub-header HTML -->\r\n  <div class=\"sub_header_parnt\">\r\n    <div class=\"wrapper tabs\">\r\n      <ul class=\"tab-container tabs-list\">\r\n        <li *ngFor=\"let section of tableSection; let i = index\" [class.active]=\"i === 0\" (click)=\"onSectionSelection()\">\r\n          <a [attr.data-target]=\"section\" class=\"ding_tab_icn\" tabindex=\"0\">\r\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\"\r\n              y=\"0px\" viewBox=\"0 0 122.88 98.89\" style=\"enable-background:new 0 0 122.88 98.89\" xml:space=\"preserve\">\r\n              <style type=\"text/css\">\r\n                .st0 {\r\n                  fill-rule: evenodd;\r\n                  clip-rule: evenodd;\r\n                }\r\n              </style>\r\n              <g>\r\n                <path class=\"st0\"\r\n                  d=\"M1.72,92h119.43c0.94,0,1.72,0.79,1.72,1.72v3.44c0,0.93-0.78,1.72-1.72,1.72H1.72C0.78,98.89,0,98.12,0,97.17 v-3.44C0,92.78,0.78,92,1.72,92L1.72,92z M66.4,19.73c31.57,2.52,56.4,25.25,56.4,57.47c0,2.62-0.17,5.19-0.48,7.72l-121.75,0 c-0.32-2.56-0.48-5.14-0.48-7.73c0-32.37,25.06-55.19,56.83-57.5V9.92l-9.68,0c-0.98,0-1.78-0.8-1.78-1.78V1.78 c0-0.98,0.8-1.78,1.78-1.78h28.7c0.98,0,1.78,0.8,1.78,1.78v6.37c0,0.98-0.8,1.78-1.78,1.78H66.4L66.4,19.73L66.4,19.73L66.4,19.73 z\" />\r\n              </g>\r\n            </svg>\r\n            {{ section }}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <app-business-date class=\"business_date\"></app-business-date>\r\n  </div>\r\n  <!-- EOF Sub-header HTML -->\r\n\r\n  <main class=\"main_cnt_blk\">\r\n    <section class=\"table_tab_parnt\">\r\n      <div class=\"table_tab_inr\">\r\n        <ng-container *ngIf=\"tableViewMode != 'SMART_VIEW'\">\r\n          <div id=\"{{ section }}\" class=\"tab\" *ngFor=\"let section of tableSection; let i = index\"\r\n            [class.active]=\"i === 0\">\r\n            <div class=\"row\">\r\n              <div class=\"col-6 col-sm-4 col-md-3 col-xl-2\"\r\n                *ngFor=\"let table of (tableLayout | FilterTableBySection:section)\">\r\n                <div class=\"tabl_comn_parnt\" tabindex=\"0\"\r\n                  [class.tabl_slectd]=\"selectedTable && table.table_code === selectedTable.table_code\"\r\n                  (click)=\"onTableSelection(table)\">\r\n                  <div class=\"tabl_comn_cls\" [class.ornge_tabl_clr]=\"table.table_status === POS_TABLE_STATUS_KOT\"\r\n                    [class.yllw_tabl_clr]=\"table.table_status === POS_TABLE_STATUS_CHECK\"\r\n                    [class.grn_tabl_clr]=\"table.table_status === POS_TABLE_STATUS_AVAILABLE\">\r\n                    <label>{{ table.table_display_code }}</label>\r\n                    <em class=\"tabl_cls\" *ngIf=\"table.table_status === POS_TABLE_STATUS_AVAILABLE\"></em>\r\n                    <em class=\"print_bill_cls\" *ngIf=\"table.table_status === POS_TABLE_STATUS_CHECK\"></em>\r\n                    <em class=\"raise_tckt_cls\" *ngIf=\"table.table_status === POS_TABLE_STATUS_KOT\"></em>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"tableViewMode == 'SMART_VIEW'\">\r\n          <div id=\"{{ section }}\" class=\"tab tabl_bg\" *ngFor=\"let section of tableSection; let i = index\"\r\n            [class.active]=\"i === 0\">\r\n            <div class=\"row\">\r\n              <div class=\"col-6 col-sm-4 col-md-3 col-xl-2\"\r\n                *ngFor=\"let table of (tableLayout | FilterTableBySection:section)\">\r\n                <div class=\"tabl_comn_parnt\"\r\n                  [class.tabl_slectd]=\"selectedTable && table.table_code === selectedTable.table_code\"\r\n                  (click)=\"onTableSelection(table)\">\r\n                  <div class=\"tabl_comn_cls\" [class.ornge_tabl_clr]=\"table.table_status === 'KOT'\"\r\n                    [class.yllw_tabl_clr]=\"table.table_status === 'CHCK'\"\r\n                    [class.grn_tabl_clr]=\"table.table_status === 'FR'\">\r\n                    <label>{{ table.table_display_code }}</label>\r\n                    <i class=\"tabl_cls\" *ngIf=\"table.table_status === POS_TABLE_STATUS_AVAILABLE\"></i>\r\n                    <i class=\"raise_tckt_cls\" *ngIf=\"table.table_status === POS_TABLE_STATUS_KOT\"></i>\r\n                    <i class=\"print_bill_cls\" *ngIf=\"table.table_status === POS_TABLE_STATUS_CHECK\"></i>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n\r\n        <div class=\"slection_data_blk\" *ngIf=\"tableInfo\"><label>{{ tableInfo }}</label></div>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"action_btn_parnt\">\r\n      <ul>\r\n        <li (click)=\"onCloseShiftClick()\" [class.unavlbl_btn]=\"isTableTransfer\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\"\r\n              y=\"0px\" width=\"91.839px\" height=\"122.88px\" viewBox=\"0 0 91.839 122.88\"\r\n              enable-background=\"new 0 0 91.839 122.88\" xml:space=\"preserve\">\r\n              <g>\r\n                <path\r\n                  d=\"M81.75,64.617H41.365c-1.738,0-3.147-1.423-3.147-3.178c0-1.756,1.409-3.179,3.147-3.179h40.383L68.559,43.155 c-1.146-1.31-1.025-3.311,0.271-4.469c1.297-1.159,3.278-1.037,4.425,0.273l17.798,20.383c1.065,1.216,1.037,3.029-0.011,4.21 L73.254,83.92c-1.146,1.311-3.128,1.433-4.425,0.273c-1.296-1.158-1.417-3.16-0.271-4.47L81.75,64.617L81.75,64.617z M70.841,99.629c0-1.756,1.423-3.179,3.178-3.179c1.756,0,3.179,1.423,3.179,3.179v14.242c0,2.475-1.017,4.729-2.648,6.36 c-1.633,1.632-3.887,2.648-6.36,2.648H9.009c-2.475,0-4.73-1.014-6.363-2.646C1.016,118.603,0,116.352,0,113.871V9.009 c0-2.48,1.013-4.733,2.644-6.365C4.275,1.013,6.528,0,9.009,0h59.18c2.479,0,4.731,1.016,6.362,2.646 c1.633,1.633,2.646,3.889,2.646,6.363V23.25c0,1.755-1.423,3.178-3.179,3.178c-1.755,0-3.178-1.423-3.178-3.178V9.009 c0-0.722-0.301-1.385-0.785-1.869c-0.482-0.482-1.144-0.783-1.867-0.783H9.009c-0.726,0-1.389,0.3-1.87,0.782 C6.656,7.62,6.357,8.283,6.357,9.009v104.862c0,0.724,0.301,1.385,0.783,1.867c0.484,0.484,1.147,0.785,1.869,0.785h59.18 c0.72,0,1.381-0.302,1.865-0.786c0.485-0.484,0.787-1.146,0.787-1.866V99.629L70.841,99.629z\" />\r\n              </g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.CLOSE_SHIFT' | translate }}\r\n          </a>\r\n        </li>\r\n        <li (click)=\"onRecallCheckClick()\" [class.unavlbl_btn]=\"isTableTransfer\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.61 122.88\">\r\n              <title>Recall bill</title>\r\n              <path\r\n                d=\"M111.9,61.57a5.36,5.36,0,0,1,10.71,0A61.3,61.3,0,0,1,17.54,104.48v12.35a5.36,5.36,0,0,1-10.72,0V89.31A5.36,5.36,0,0,1,12.18,84H40a5.36,5.36,0,1,1,0,10.71H23a50.6,50.6,0,0,0,88.87-33.1ZM106.6,5.36a5.36,5.36,0,1,1,10.71,0V33.14A5.36,5.36,0,0,1,112,38.49H84.44a5.36,5.36,0,1,1,0-10.71H99A50.6,50.6,0,0,0,10.71,61.57,5.36,5.36,0,1,1,0,61.57,61.31,61.31,0,0,1,91.07,8,61.83,61.83,0,0,1,106.6,20.27V5.36Z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.RECALL_BILL' | translate }}</a>\r\n        </li>\r\n        <li (click)=\"openModal(salemodal)\" [class.unavlbl_btn]=\"isTableTransfer\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.88 106.5\">\r\n              <defs>\r\n                <style>\r\n                  .cls-1 {\r\n                    fill-rule: evenodd;\r\n                  }\r\n                </style>\r\n              </defs>\r\n              <title>chart</title>\r\n              <path class=\"cls-1\"\r\n                d=\"M19.39,64.84v39.84a1.84,1.84,0,0,1-1.83,1.82H1.83A1.83,1.83,0,0,1,0,104.68V64.84ZM0,51.83,41.59,15.44c9.21,9,18.14,19.93,27.25,28.93L102.07,11,91.37.28,122.88,0V31.78L112.61,21.51c-7.37,7.47-24.8,23.92-32.17,31.3-9.33,9.32-13.78,9.49-23.1.17L41.59,35.46,23.13,51.83ZM114.37,38.69v66a1.84,1.84,0,0,1-1.82,1.82H96.81A1.84,1.84,0,0,1,95,104.68V57.29c3-2.91,6.5-6.29,10.07-9.73l7.45-7.17a24.16,24.16,0,0,1,1.87-1.7ZM82.71,68.34v36.34a1.84,1.84,0,0,1-1.83,1.82H65.15a1.84,1.84,0,0,1-1.83-1.82V72.22a22.48,22.48,0,0,0,5.73.63,24,24,0,0,0,13.66-4.51Zm-31.66-3v39.29a1.84,1.84,0,0,1-1.83,1.82H33.48a1.83,1.83,0,0,1-1.82-1.82V62q.48-.36.93-.75l7.86-7,6.34,7,.49.51q1.92,1.93,3.77,3.52Z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.SALE' | translate }}\r\n          </a>\r\n        </li>\r\n        <li (click)=\"onPlaceOrder()\"\r\n          [class.unavlbl_btn]=\"(selectedTable && selectedTable.table_status === 'CHCK') || isTableTransfer\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg viewBox=\"0 0 22.078 22.079\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <g data-name=\"Layer 2\" id=\"Layer_2\">\r\n                <g data-name=\"Layer 1\" id=\"Layer_1-2\">\r\n                  <path\r\n                    d=\"M14.607,21.41H1.673a1,1,0,0,1-1-1V1.673a1,1,0,0,1,1-1h3.68v1A1.674,1.674,0,0,0,7.025,3.345h5.352A1.674,1.674,0,0,0,14.05,1.673v-1h3.68a1,1,0,0,1,1,1V9.254a.335.335,0,0,0,.67,0V1.673A1.675,1.675,0,0,0,17.73,0H1.673A1.675,1.675,0,0,0,0,1.673V20.406a1.675,1.675,0,0,0,1.673,1.673H14.607A.335.335,0,0,0,14.607,21.41ZM6.022.669h7.36v1a1,1,0,0,1-1,1H7.025a1,1,0,0,1-1-1Zm6.914,5.8h-2.23a.335.335,0,0,1,0-.669h2.23A.335.335,0,0,1,12.936,6.468ZM4.712,5.8H8.921a.335.335,0,0,1,0,.669H4.712A.335.335,0,0,1,4.712,5.8Zm-1.784.669c-.273,0-.781.079-.781-.335s.508-.331.781-.334A.335.335,0,0,1,2.928,6.468ZM12.936,9.59H8.921a.335.335,0,0,1,0-.669h4.015A.335.335,0,0,1,12.936,9.59ZM4.712,8.921H7.137a.335.335,0,0,1,0,.669H4.712A.335.335,0,0,1,4.712,8.921ZM2.928,9.59H2.481a.335.335,0,0,1,0-.669h.447A.335.335,0,0,1,2.928,9.59Zm10.008,3.123h-2.23a.335.335,0,0,1,0-.669h2.23A.335.335,0,0,1,12.936,12.713Zm-4.015,0H4.712a.335.335,0,0,1,0-.669H8.921A.335.335,0,0,1,8.921,12.713Zm-5.993,0H2.481a.335.335,0,0,1,0-.669h.447A.335.335,0,0,1,2.928,12.713Zm5.993,3.122H4.712a.335.335,0,0,1,0-.669H8.921A.335.335,0,0,1,8.921,15.835Zm-5.993,0c-.273,0-.781.08-.781-.334s.508-.331.781-.335A.335.335,0,0,1,2.928,15.835Zm5.993,3.123H4.712a.335.335,0,0,1,0-.669H8.921A.335.335,0,0,1,8.921,18.958Zm-5.993,0c-.273,0-.781.08-.781-.335s.508-.33.781-.334A.335.335,0,0,1,2.928,18.958ZM22.072,13.09a1.438,1.438,0,0,0-1.765-1.259,1.447,1.447,0,0,0-1.99-.583,1.473,1.473,0,0,0-1.471-.231V6.958c-.028-1.524-2.627-1.52-2.655,0v8.216c-2.1-.485-5.019.363-4,2.762a.335.335,0,0,0,.351.153,6.531,6.531,0,0,1,2.029-.164c1.224.351,2.441,1.865,3.535,2.307v1.512a.334.334,0,0,0,.334.334h5.307a.333.333,0,0,0,.334-.334V13.19A.879.879,0,0,0,22.072,13.09Zm-.662,8.319H16.772V20.294H21.41Zm0-1.784H16.437c-1.084-.373-2.377-2.015-3.664-2.337a5.757,5.757,0,0,0-2.066.088c-.505-1.845,2.766-1.81,3.728-1.456a.337.337,0,0,0,.425-.322V6.958c.009-.632,1.308-.644,1.317,0v4.729a.336.336,0,0,0,.6.2.788.788,0,0,1,1.23,0,.337.337,0,0,0,.239.135c.291,0,.467-.346.784-.3a.772.772,0,0,1,.751.607.334.334,0,0,0,.189.235c.23.11.433-.135.67-.107a.775.775,0,0,1,.769.73Z\"\r\n                    data-name=\"study program\" />\r\n                </g>\r\n              </g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.PLACE_ORDER' | translate }}\r\n          </a>\r\n        </li>\r\n        <li (click)=\"onKotListClick()\" [class.unavlbl_btn]=\"isTableTransfer\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 113.41 122.88\">\r\n              <defs>\r\n                <style>\r\n                  .cls-1 {\r\n                    fill-rule: evenodd;\r\n                  }\r\n                </style>\r\n              </defs>\r\n              <title>KOT list</title>\r\n              <path class=\"cls-1\"\r\n                d=\"M85.53,67.12A27.88,27.88,0,1,1,57.64,95,27.88,27.88,0,0,1,85.53,67.12ZM44,109.77a3,3,0,0,1,0,5.94H6.9A6.93,6.93,0,0,1,0,108.8V6.9A6.84,6.84,0,0,1,2,2V2A6.89,6.89,0,0,1,6.9,0H91.67a6.93,6.93,0,0,1,6.91,6.9V54.12a3,3,0,1,1-5.94,0V6.9a1,1,0,0,0-1-1H6.9a1,1,0,0,0-.68.27h0a1,1,0,0,0-.28.68V108.8a1,1,0,0,0,.29.68,1,1,0,0,0,.68.29ZM22.81,71.32a5.31,5.31,0,1,1-5.3,5.31,5.31,5.31,0,0,1,5.3-5.31Zm0-26a5.31,5.31,0,1,1-5.3,5.31,5.31,5.31,0,0,1,5.3-5.31ZM39,79.59a3,3,0,0,1,0-5.92H52.57a3,3,0,0,1,0,5.92Zm0-50.92a2.75,2.75,0,0,1-2.48-3,2.75,2.75,0,0,1,2.48-3H71.81a2.76,2.76,0,0,1,2.49,3,2.76,2.76,0,0,1-2.49,3ZM16.61,26.62A1.75,1.75,0,0,1,17,24.09a2,2,0,0,1,2.7-.08l1.7,1.75,5.46-4.39a1.74,1.74,0,0,1,2.48.57,2,2,0,0,1-.17,2.7l-7,5.62A1.68,1.68,0,0,1,19.93,30a1.12,1.12,0,0,1-.2-.18l-3.12-3.21Zm20.7,27a3,3,0,0,1,0-5.92H70.17a3,3,0,0,1,0,5.92ZM80.9,83.47a3.09,3.09,0,1,1,6.17,0V95.69h8.72a3.09,3.09,0,1,1,0,6.17H84a3.08,3.08,0,0,1-3.08-3.08V83.47Z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.KOT_LIST' | translate }}\r\n          </a>\r\n        </li>\r\n        <li (click)=\"onTableKotListClick()\" [class.unavlbl_btn]=\"isTableTransfer && (!selectedTable)\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 113.41 122.88\">\r\n              <defs>\r\n                <style>\r\n                  .cls-1 {\r\n                    fill-rule: evenodd;\r\n                  }\r\n                </style>\r\n              </defs>\r\n              <title>Table KOT list</title>\r\n              <path class=\"cls-1\"\r\n                d=\"M85.53,67.12A27.88,27.88,0,1,1,57.64,95,27.88,27.88,0,0,1,85.53,67.12ZM44,109.77a3,3,0,0,1,0,5.94H6.9A6.93,6.93,0,0,1,0,108.8V6.9A6.84,6.84,0,0,1,2,2V2A6.89,6.89,0,0,1,6.9,0H91.67a6.93,6.93,0,0,1,6.91,6.9V54.12a3,3,0,1,1-5.94,0V6.9a1,1,0,0,0-1-1H6.9a1,1,0,0,0-.68.27h0a1,1,0,0,0-.28.68V108.8a1,1,0,0,0,.29.68,1,1,0,0,0,.68.29ZM22.81,71.32a5.31,5.31,0,1,1-5.3,5.31,5.31,5.31,0,0,1,5.3-5.31Zm0-26a5.31,5.31,0,1,1-5.3,5.31,5.31,5.31,0,0,1,5.3-5.31ZM39,79.59a3,3,0,0,1,0-5.92H52.57a3,3,0,0,1,0,5.92Zm0-50.92a2.75,2.75,0,0,1-2.48-3,2.75,2.75,0,0,1,2.48-3H71.81a2.76,2.76,0,0,1,2.49,3,2.76,2.76,0,0,1-2.49,3ZM16.61,26.62A1.75,1.75,0,0,1,17,24.09a2,2,0,0,1,2.7-.08l1.7,1.75,5.46-4.39a1.74,1.74,0,0,1,2.48.57,2,2,0,0,1-.17,2.7l-7,5.62A1.68,1.68,0,0,1,19.93,30a1.12,1.12,0,0,1-.2-.18l-3.12-3.21Zm20.7,27a3,3,0,0,1,0-5.92H70.17a3,3,0,0,1,0,5.92ZM80.9,83.47a3.09,3.09,0,1,1,6.17,0V95.69h8.72a3.09,3.09,0,1,1,0,6.17H84a3.08,3.08,0,0,1-3.08-3.08V83.47Z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.TABLE_KOT_LIST' | translate }} </a>\r\n        </li>\r\n        <li (click)=\"onViewBill()\"\r\n          [class.unavlbl_btn]=\"(selectedTable && selectedTable.table_status ==='FR') || isTableTransfer\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 122.88 116.37\">\r\n              <defs>\r\n                <style>\r\n                  .cls-1 {\r\n                    fill-rule: evenodd;\r\n                  }\r\n                </style>\r\n              </defs>\r\n              <title>View bill</title>\r\n              <path class=\"cls-1\"\r\n                d=\"M41.47,61.47a3.33,3.33,0,0,1,0-6.57H78a3.33,3.33,0,0,1,0,6.57Zm44.18,20,3.15-7.11h11.91a4.75,4.75,0,0,0-.78-1.49,5.86,5.86,0,0,0-1.4-1.26,7.59,7.59,0,0,0-1.84-.86,6.91,6.91,0,0,0-2.15-.34H85.65l3.15-7.1h34.07l-3.16,7.1h-8.22a9.25,9.25,0,0,1,.91.87,6.9,6.9,0,0,1,.74,1,10.73,10.73,0,0,1,.54,1.07,4.27,4.27,0,0,1,.28,1h8.92l-3.16,7.11h-6.45a11.83,11.83,0,0,1-2.11,3.43,17.58,17.58,0,0,1-3.27,2.9,20.85,20.85,0,0,1-4,2.17,19,19,0,0,1-4.43,1.18l17.9,18.43H103.17l-16-17.5V85.52h7.06a6.31,6.31,0,0,0,2-.32,7.82,7.82,0,0,0,1.83-.91A6.42,6.42,0,0,0,99.56,83a4.78,4.78,0,0,0,.87-1.54H85.65ZM73.44,109.78a3.3,3.3,0,1,1,0,6.59H7.67A7.68,7.68,0,0,1,0,108.7V7.67A7.68,7.68,0,0,1,7.67,0H101.9a7.68,7.68,0,0,1,7.68,7.67V45.82a3.3,3.3,0,0,1-6.6,0V7.67a1,1,0,0,0-.32-.75,1.07,1.07,0,0,0-.76-.33H7.67a1.12,1.12,0,0,0-.76.32,1.14,1.14,0,0,0-.32.76v101a1.11,1.11,0,0,0,1.08,1.08Zm-32-24.13a3.39,3.39,0,0,1,0-6.67H70.19a3.39,3.39,0,0,1,0,6.67Zm0-48.31a3.05,3.05,0,0,1-2.76-3.28,3,3,0,0,1,2.76-3.29H78a3.07,3.07,0,0,1,2.77,3.29A3.05,3.05,0,0,1,78,37.34ZM25.62,77.82a3.89,3.89,0,1,1-3.89,3.89,3.89,3.89,0,0,1,3.89-3.89Zm0-23.82a3.9,3.9,0,1,1-3.89,3.89A3.9,3.9,0,0,1,25.62,54Zm0-23.82a3.9,3.9,0,1,1-3.89,3.9,3.9,3.9,0,0,1,3.89-3.9Z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.VIEW_BILL' | translate }}</a>\r\n        </li>\r\n\r\n        <li (click)=\"onTableTransferClick()\"\r\n          [class.unavlbl_btn]=\"(selectedTable && selectedTable.table_status ==='FR') || isTableTransfer\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-shuffle\"\r\n              viewBox=\"0 0 16 16\">\r\n              <path fill-rule=\"evenodd\"\r\n                d=\"M0 3.5A.5.5 0 0 1 .5 3H1c2.202 0 3.827 1.24 4.874 2.418.49.552.865 1.102 1.126 1.532.26-.43.636-.98 1.126-1.532C9.173 4.24 10.798 3 13 3v1c-1.798 0-3.173 1.01-4.126 2.082A9.624 9.624 0 0 0 7.556 8a9.624 9.624 0 0 0 1.317 1.918C9.828 10.99 11.204 12 13 12v1c-2.202 0-3.827-1.24-4.874-2.418A10.595 10.595 0 0 1 7 9.05c-.26.43-.636.98-1.126 1.532C4.827 11.76 3.202 13 1 13H.5a.5.5 0 0 1 0-1H1c1.798 0 3.173-1.01 4.126-2.082A9.624 9.624 0 0 0 6.444 8a9.624 9.624 0 0 0-1.317-1.918C4.172 5.01 2.796 4 1 4H.5a.5.5 0 0 1-.5-.5z\" />\r\n              <path\r\n                d=\"M13 5.466V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192zm0 9v-3.932a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.TABLE_TRANSFER' | translate }}\r\n          </a>\r\n        </li>\r\n\r\n        <li\r\n          [class.unavlbl_btn]=\"(selectedTable && (selectedTable.table_status === 'FR' || selectedTable.table_status === 'KOT')) || isTableTransfer\"\r\n          data-bs-toggle=\"modal\" data-bs-target=\"#pendingModal\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" shape-rendering=\"geometricPrecision\"\r\n              text-rendering=\"geometricPrecision\" image-rendering=\"optimizeQuality\" fill-rule=\"evenodd\"\r\n              clip-rule=\"evenodd\" viewBox=\"0 0 502 511.82\">\r\n              <path fill-rule=\"nonzero\"\r\n                d=\"M279.75 471.21c14.34-1.9 25.67 12.12 20.81 25.75-2.54 6.91-8.44 11.76-15.76 12.73a260.727 260.727 0 0 1-50.81 1.54c-62.52-4.21-118.77-31.3-160.44-72.97C28.11 392.82 0 330.04 0 260.71 0 191.37 28.11 128.6 73.55 83.16S181.76 9.61 251.1 9.61c24.04 0 47.47 3.46 69.8 9.91a249.124 249.124 0 0 1 52.61 21.97l-4.95-12.96c-4.13-10.86 1.32-23.01 12.17-27.15 10.86-4.13 23.01 1.32 27.15 12.18L428.8 68.3a21.39 21.39 0 0 1 1.36 6.5c1.64 10.2-4.47 20.31-14.63 23.39l-56.03 17.14c-11.09 3.36-22.8-2.9-26.16-13.98-3.36-11.08 2.9-22.8 13.98-26.16l4.61-1.41a210.71 210.71 0 0 0-41.8-17.12c-18.57-5.36-38.37-8.24-59.03-8.24-58.62 0-111.7 23.76-150.11 62.18-38.42 38.41-62.18 91.48-62.18 150.11 0 58.62 23.76 111.69 62.18 150.11 34.81 34.81 81.66 57.59 133.77 61.55 14.9 1.13 30.23.76 44.99-1.16zm-67.09-312.63c0-10.71 8.69-19.4 19.41-19.4 10.71 0 19.4 8.69 19.4 19.4V276.7l80.85 35.54c9.8 4.31 14.24 15.75 9.93 25.55-4.31 9.79-15.75 14.24-25.55 9.93l-91.46-40.2c-7.35-2.77-12.58-9.86-12.58-18.17V158.58zm134.7 291.89c-15.62 7.99-13.54 30.9 3.29 35.93 4.87 1.38 9.72.96 14.26-1.31 12.52-6.29 24.54-13.7 35.81-22.02 5.5-4.1 8.36-10.56 7.77-17.39-1.5-15.09-18.68-22.74-30.89-13.78a208.144 208.144 0 0 1-30.24 18.57zm79.16-69.55c-8.84 13.18 1.09 30.9 16.97 30.2 6.21-.33 11.77-3.37 15.25-8.57 7.86-11.66 14.65-23.87 20.47-36.67 5.61-12.64-3.13-26.8-16.96-27.39-7.93-.26-15.11 4.17-18.41 11.4-4.93 10.85-10.66 21.15-17.32 31.03zm35.66-99.52c-.7 7.62 3 14.76 9.59 18.63 12.36 7.02 27.6-.84 29.05-14.97 1.33-14.02 1.54-27.9.58-41.95-.48-6.75-4.38-12.7-10.38-15.85-13.46-6.98-29.41 3.46-28.34 18.57.82 11.92.63 23.67-.5 35.57zM446.1 177.02c4.35 10.03 16.02 14.54 25.95 9.96 9.57-4.4 13.86-15.61 9.71-25.29-5.5-12.89-12.12-25.28-19.69-37.08-9.51-14.62-31.89-10.36-35.35 6.75-.95 5.03-.05 9.94 2.72 14.27 6.42 10.02 12 20.44 16.66 31.39z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.PENDING' | translate }}\r\n          </a>\r\n        </li>\r\n        <li (click)=\"onChangeOutlet()\" [class.unavlbl_btn]=\"isTableTransfer\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 104.49 122.88\">\r\n              <title>Change outlet</title>\r\n              <path\r\n                d=\"M35.54,72a3,3,0,1,1-6.05,0v-5.6a2.34,2.34,0,0,1-.47-.3c-1.92-1.54-4-3.25-5.85-4.74-2.66-2.17-5.71-4.68-7.84-6.44a10.92,10.92,0,0,0-4.67-2.35A4.66,4.66,0,0,0,8,52.7a2.64,2.64,0,0,0-1.42,1.46,9,9,0,0,0-.53,4.25,16.22,16.22,0,0,0,1.46,5.24,34.83,34.83,0,0,0,3.83,6.48c.07.09.13.19.19.28l23,34.8a3,3,0,0,1,.48,1.31c.46,3.79,1.27,6.63,2.45,8.4a3.83,3.83,0,0,0,3.37,1.92H77a10.87,10.87,0,0,0,6.15-2,19.67,19.67,0,0,0,5.63-6.59l.44-.75c4.47-7.7,8.8-15.18,9.26-24.05l-.23-10.3a2.12,2.12,0,0,1,0-.44l0-2.42c.08-6.81.18-15.23-6-16.3h-4c0,1.92-.15,3.88-.27,5.77-.1,1.68-.21,3.31-.21,4.87a3,3,0,0,1-6,0c0-1.56.11-3.37.23-5.25.41-6.41.87-13.77-4.26-14.69h-4a2.81,2.81,0,0,1-.65-.07c0,2.32-.11,4.73-.26,7-.11,1.68-.21,3.31-.21,4.86a3,3,0,0,1-6.06,0c0-1.55.12-3.36.24-5.24.4-6.41.87-13.77-4.26-14.69h-4a2.9,2.9,0,0,1-.79-.11V48.23a3,3,0,0,1-6.06,0V16.78c0-5.27-2.15-8.59-4.9-10a6.87,6.87,0,0,0-6.3,0c-2.72,1.39-4.84,4.72-4.84,10.12V72Zm45.3,9.42a2.48,2.48,0,0,1,5,0V92.74a2.48,2.48,0,0,1-5,0V81.43Zm-14.62-5a2.48,2.48,0,0,1,5,0V92.74a2.48,2.48,0,0,1-5,0V76.43ZM51.61,72.9a2.47,2.47,0,1,1,4.94,0V92.74a2.47,2.47,0,0,1-4.94,0V72.9ZM29.49,58.72V16.91c0-8,3.57-13.18,8.15-15.51a13,13,0,0,1,11.77,0c4.61,2.33,8.23,7.5,8.23,15.37V30.66a2.9,2.9,0,0,1,.79-.11H62.6a3.08,3.08,0,0,1,.68.08c5.56.86,8,4.11,9.06,8.3a2.85,2.85,0,0,1,1.27-.29h4.18a2.93,2.93,0,0,1,.67.08c6,.93,8.4,4.61,9.27,9.26a3.44,3.44,0,0,1,.46,0h4.18A2.93,2.93,0,0,1,93,48c11.46,1.77,11.32,13.16,11.21,22.35,0,.32,0,.66,0,2.31l.24,10.66a1.93,1.93,0,0,1,0,.34c-.51,10.39-5.21,18.5-10.06,26.86l-.42.72a25.55,25.55,0,0,1-7.45,8.56A16.76,16.76,0,0,1,77,122.87H40.92a9.43,9.43,0,0,1-8.45-4.59c-1.66-2.48-2.76-6-3.35-10.33L6.52,73.75A41.28,41.28,0,0,1,2,66.09,22.1,22.1,0,0,1,.05,58.78a14.85,14.85,0,0,1,1-7.11,8.63,8.63,0,0,1,4.67-4.58,10.6,10.6,0,0,1,6.06-.44,17.07,17.07,0,0,1,7.37,3.62c1.83,1.52,4.87,4,7.81,6.41l2.49,2Z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.CHANGE_OUTLET' | translate }}\r\n          </a>\r\n        </li>\r\n        <li (click)=\"onANGClick()\"\r\n          [class.unavlbl_btn]=\"(selectedTable && (selectedTable.table_status === 'FR' || selectedTable.table_status === 'CHCK')) || isTableTransfer\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg enable-background=\"new 0 0 26 26\" version=\"1.1\" viewBox=\"0 0 26 26\" xml:space=\"preserve\"\r\n              xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\r\n              <path\r\n                d=\"M16.8035889,14.4605103c2.0820923-1.2811279,3.4776611-3.5723267,3.4776611-6.1885376  C20.28125,4.262207,17.0146484,1,13,1S5.71875,4.262207,5.71875,8.2719727c0,2.6162109,1.3955688,4.9074097,3.4776611,6.1885376  c-4.4957886,1.0071411-7.6505127,3.7583618-7.6505127,7.0878296C1.5458984,24.2729492,8.7460938,25,13,25  s11.4541016-0.7270508,11.4541016-3.4516602C24.4541016,18.2188721,21.2993774,15.4676514,16.8035889,14.4605103z   M7.21875,8.2719727C7.21875,5.0893555,9.8125,2.5,13,2.5s5.78125,2.5893555,5.78125,5.7719727S16.1875,14.043457,13,14.043457  S7.21875,11.4545898,7.21875,8.2719727z M13,23.5c-6.1149902,0-9.7753906-1.289978-9.9536743-1.9567261  C3.0509644,18.2345581,7.5145874,15.543457,13,15.543457c5.4848633,0,9.9481201,2.6906128,9.9536133,5.9988403  C22.7797852,22.2085571,19.1190186,23.5,13,23.5z\" />\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.A&G' | translate }}</a>\r\n        </li>\r\n\r\n        <li (click)=\"onSearchUserClick()\" [class.unavlbl_btn]=\"isTableTransfer\">\r\n          <a class=\"form-control\" tabindex=\"0\">\r\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\"\r\n              y=\"0px\" width=\"121.699px\" height=\"122.879px\" viewBox=\"0 0 121.699 122.879\"\r\n              enable-background=\"new 0 0 121.699 122.879\" xml:space=\"preserve\">\r\n              <g>\r\n                <path\r\n                  d=\"M53.613,0c14.79,0,28.202,6.018,37.918,15.694c9.715,9.716,15.693,23.089,15.693,37.918 c0,10.817-3.225,20.926-8.732,29.343l23.207,25.292l-16.008,14.632L83.311,98.256c-8.498,5.664-18.725,8.969-29.698,8.969 c-14.79,0-28.203-6.019-37.918-15.694C5.979,81.814,0,68.44,0,53.612c0-14.79,6.018-28.202,15.695-37.918 C25.41,5.979,38.784,0,53.613,0L53.613,0z M37.534,33.9c7.813-8.622,16.834-13.305,23.597-5.639 c1.773,0.084,3.359,0.671,4.684,1.921c2.781,2.615,3.213,7.508,1.941,11.394v3.392c0.861,0.567,1.418,1.628,1.67,2.835 c0.168,0.777,0.211,1.638,0.125,2.457c-0.082,0.851-0.293,1.659-0.629,2.332c-0.482,0.956-1.219,1.627-2.215,1.774 c-0.979,1.04-1.934,2.153-2.783,3.224c-0.936,1.176-1.734,2.289-2.289,3.203c-0.432,0.704-0.295,1.166-0.137,1.691 c0.072,0.262,0.156,0.535,0.209,0.829c1.713,0.367,3.256,0.661,4.643,0.924c8.811,1.648,14.01,2.163,14.01,13.631 c0,0.588-0.473,1.061-1.061,1.061H30.697c-0.588,0-1.061-0.473-1.061-1.061c0-11.468,5.189-11.982,14.01-13.631 c1.397-0.263,2.961-0.557,4.673-0.924c0.063-0.231,0.137-0.441,0.21-0.651c0.178-0.504,0.357-1.008-0.168-1.858 c-0.557-0.914-1.355-2.026-2.289-3.203c-0.851-1.071-1.807-2.184-2.783-3.224c-0.998-0.146-1.733-0.819-2.216-1.774 c-0.336-0.662-0.546-1.481-0.63-2.331c-0.074-0.819-0.032-1.68,0.126-2.458c0.252-1.208,0.798-2.258,1.648-2.825l-1.145-0.683 c-0.304-3.392,0.588-9.283-3.55-10.396L37.534,33.9L37.534,33.9z M87.283,19.942C78.668,11.328,66.75,5.979,53.613,5.979 c-13.138,0-25.056,5.35-33.67,13.963c-8.614,8.614-13.964,20.532-13.964,33.67c0,13.138,5.35,25.056,13.964,33.67 c8.614,8.614,20.532,13.964,33.67,13.964c13.137,0,25.055-5.35,33.67-13.964c8.613-8.614,13.963-20.532,13.963-33.67 C101.246,40.474,95.896,28.556,87.283,19.942L87.283,19.942L87.283,19.942z\" />\r\n              </g>\r\n            </svg>\r\n            {{ 'ACTION_BUTTON.SEARCH' | translate }}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n  </main>\r\n</div>\r\n\r\n<ng-template #salemodal let-modal>\r\n  <div class=\"sale_modl_parnt\" id=\"sale_modl\" tabindex=\"-1\" aria-labelledby=\"saleModalLabel\" aria-hidden=\"true\">\r\n    <app-sale></app-sale>\r\n  </div>\r\n</ng-template>\r\n\r\n<!-- SOF Table Transfer modal -->\r\n<div class=\"modal fade\" id=\"tableTransferModal\" tabindex=\"-1\" aria-labelledby=\"exampleTTModalLabel\" aria-modal=\"true\">\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"exampleTTModalLabel\">Transfer table</h5>\r\n        <button type=\"button\" #closeTableTransferModalBtn id=\"closeTableTransferModalBtn\" class=\"btn-close\"\r\n          data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <h2 class=\"title_cls\" *ngIf=\"tableTransferredFrom && tableTransferredTo\">Are you sure you want to transfer {{\r\n          tableTransferredFrom.table_code }} KOTs to {{ tableTransferredTo.table_code }} ?</h2>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <div class=\"button_blk\">\r\n          <button type=\"button\" class=\"btn gry_btn\"\r\n            [disabled]=\"(selectedTable && (selectedTable.table_status === 'CHCK' || selectedTable.table_status === 'KOT'))\"\r\n            [class.unavlbl_btn]=\"(selectedTable && (selectedTable.table_status === 'CHCK' || selectedTable.table_status === 'KOT'))\"\r\n            (click)=\"transferTable()\">\r\n            <i class=\"fas fa-check-circle\"></i>Yes\r\n          </button>\r\n          <button type=\"button\" class=\"btn lg_gry_btn\" (click)=\"cancelTableTransfer()\"><i\r\n              class=\"fas fa-times-circle\"></i>No</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- EOF Table Transfer modal -->\r\n\r\n<!-- SOF Pending modal -->\r\n<div class=\"modal fade\" id=\"pendingModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Transfer table</h5>\r\n        <button type=\"button\" #closePendingModalBtn id=\"closeVRModalBtn\" class=\"btn-close\" data-bs-dismiss=\"modal\"\r\n          aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <h2 class=\"title_cls\" *ngIf=\"posCheck\">Are you sure you want to move bill {{ posCheck.check_no }} to pending\r\n          table?</h2>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <div class=\"button_blk\">\r\n          <button type=\"button\"\r\n            [disabled]=\"(selectedTable && (selectedTable.table_status === 'FR' || selectedTable.table_status === 'KOT')) || isTableTransfer\"\r\n            [class.unavlbl_btn]=\"(selectedTable && (selectedTable.table_status === 'FR' || selectedTable.table_status === 'KOT')) || isTableTransfer\"\r\n            class=\"btn gry_btn\" (click)=\"moveBillToPendingTable()\"><i class=\"fas fa-check-circle\"></i>Yes</button>\r\n          <button type=\"button\" class=\"btn lg_gry_btn\" data-bs-dismiss=\"modal\"><i\r\n              class=\"fas fa-times-circle\"></i>No</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- EOF Pending modal -->","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ActionCableService } from 'angular2-actioncable';\r\nimport { AuthGuard } from '../auth/auth.guard';\r\nimport { BillingModule } from '../billing/billing.module';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { TableLayoutComponent } from './table-layout.component';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FilterTableBySection } from './section-table.pipe';\r\n@NgModule({\r\n  declarations: [\r\n    FilterTableBySection,\r\n    TableLayoutComponent\r\n  ],\r\n  imports: [\r\n    NgbModule,\r\n    SharedModule,\r\n    BillingModule,\r\n    RouterModule.forChild([\r\n      { path: '', component: TableLayoutComponent, canActivate: [AuthGuard]}\r\n    ])\r\n  ],\r\n  exports: [\r\n    TableLayoutComponent\r\n  ],\r\n  providers: [\r\n    ActionCableService\r\n  ]\r\n})\r\nexport class TableLayoutModule { }\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  APP_LANGUAGE_ID: \"1\",\r\n  REPORTS_URL: \"http://192.168.1.12:9100\",\r\n  APIENDPOINT: \"https://armstrong-textile-traditions-princeton.trycloudflare.com\",\r\n  KOT_PRINTER_SERVICE_ENDPOINT: \"http://192.168.1.9:9010\",\r\n  KOT_PRINTER_PDF_ENDPOINT: \"http://192.168.1.9:9025/Printing/StartPrintingBase64Pdf\",\r\n  APIENDPOINTEMAIL: \"http://192.168.1.4:8000\",\r\n  INNDCSURLPORT: \"9011\",\r\n  KOTDISPLAY: \"9009\",\r\n  // APIENDPOINT: \"http://192.168.0.105:3001\",\r\n  ACTION_CABLE_ENPOINT: \"ws://vote-registered-coordinator-pig.trycloudflare.com/cable?auth_token=\",\r\n  TABLE_STATUS_CHANNEL: \"TableStatusesChannel\",\r\n  KOT_SCREEN_CHANNEL: \"KotScreenChannel\",\r\n  MODULE_NAME: \"inntap\",\r\n  MODULE_POS: \"POS\",\r\n  LAST_ACTION_POSTED: \"PO\",\r\n  LAST_ACTION_SETTLE: \"ST\",\r\n  LAST_ACTION_VOIDED: \"VO\",\r\n  PER_PAGE: \"10\",\r\n  API_DATA_PER_PAGE: \"1000\",\r\n  POS_TABLE_STATUS_AVAILABLE: \"FR\",\r\n  POS_TABLE_STATUS_KOT: \"KOT\",\r\n  POS_TABLE_STATUS_CHECK: \"CHCK\",\r\n  POS_IC_MENU_ITEM: \"MI\",\r\n  POS_IC_OPEN_ITEM: \"OI\",\r\n  POS_ROUND_OFF_FLOOR_CODE: \"0\",\r\n  POS_ROUND_OFF_BASED_ON_POINT_FIVE_CODE: \"1\",\r\n  POS_ROUND_OFF_CEILING_CODE: \"2\",\r\n  STATUS_KOT: \"KOT\",\r\n  STATUS_NEW: \"NEW\",\r\n  STATUS_VOIDED: \"VOID\",\r\n  DR_IND: \"D\",\r\n  CR_IND: \"C\",\r\n  ANG_DISCOUNT_PERCENTAGE: \"100\",\r\n  CHECK_STATUS_OPEN: \"Open\",\r\n  CHECK_STATUS_VOID: \"Void\",\r\n  CHECK_STATUS_SETTLE: \"Settle\",\r\n  OTHER_ADD_ON_ID: \"1\",\r\n  POS_ORDER_STATUS_ID: \"1\",\r\n\r\n  POS_ORDER_STATUS_NEW: \"NEW\",\r\n  POS_ORDER_STATUS_CANCEL: \"CXL\",\r\n  POS_ORDER_STATUS_ACKNOWLEDGE: \"AKNL\",\r\n  POS_ORDER_STATUS_IN_PROGRESS: \"PGRS\",\r\n  POS_ORDER_STATUS_FOOD_READY: \"READY\",\r\n  POS_ORDER_STATUS_FOOD_COMPLETED: \"COMPLETED\",\r\n\r\n  PROCESSING_TYPE_SETTLMENT_CASH: \"CA\",\r\n  PROCESSING_TYPE_SETTLMENT_CREDIT_CARD: \"CC\",\r\n  PROCESSING_TYPE_SETTLMENT_DEBIT_CARD: \"CD\",\r\n  PROCESSING_TYPE_SETTLMENT_CHEQUE: \"CQ\",\r\n  PROCESSING_TYPE_SETTLMENT_ONLINE_TRANSFER: \"OT\",\r\n  ACCOUNT_PROCESSING_TYPE_INDIVIDUAL: \"IN\",\r\n  EMAIL_API: \"send-email\",\r\n  POS_ORDER_TYPE_DINE_IN: \"1\",\r\n  POS_ORDER_TYPE_TAKEAWAY: \"2\",\r\n  POS_ORDER_TYPE_DELIVERY: \"3\",\r\n\r\n  REPORT_ZOOM_LEVEL: \"150\",\r\n  ROOM_SERVICE_POINTER: \"RMSRVC\",\r\n\r\n  // Test printer name for printing kot\r\n  TEST_PRINTER_NAME: \"MK\",\r\n\r\n\r\n\r\n  //SOF Api endpoints\r\n  AUTH: \"/auth\",\r\n  CHANGE_PASSWORD: \"/change_password\",\r\n  USER: \"/api/users\",\r\n  POINTER: \"/api/excelfo/pointers\",\r\n  CHANGE_BUSINESS_DATE: \"/api/excelfo/night_audits/business_date_change\",\r\n  POS_RESTAURANT: \"/api/excelpos/pos_restaurants\",\r\n  POS_OUTLET_USER: \"/api/excelpos/pos_restaurant_users\",\r\n  POS_OUTLET_SETTING: \"/api/excelpos/pos_restaurant_settings\",\r\n  CURRENCY: \"/api/excelcommon/currencies\",\r\n  POS_LAYOUT: \"/api/excelpos/pos_layouts\",\r\n  SHIFT: \"/api/excelpos/pos_shifts\",\r\n  AllSHIFTS: \"/api/excelpos/pos_restaurant_shifts\",\r\n  POS_ITEM_MENU: \"/api/excelpos/pos_item_menus\",\r\n  POS_ITEM_MODIFIER: \"/api/excelpos/pos_item_modifiers\",\r\n  POS_MODIFIER: \"/api/excelpos/pos_modifiers\",\r\n  POS_MODIFIER_GROUP: \"/api/excelpos/pos_modifier_groups\",\r\n  POS_ITEM: \"/api/excelpos/pos_items\",\r\n  CHARGE: \"/api/excelfo/charges\",\r\n  POS_CHECK: \"/api/excelpos/pos_checks\",\r\n  SALE: \"/api/excelpos/reports/inntap_sales_report\",\r\n  ANG_CATEGORY: \"/api/excelpos/pos_ang_categories\",\r\n  SETTLE_CHECK: \"/api/excelpos/pos_checks/settle\",\r\n  PRINT_CHECK: \"/api/excelpos/pos_checks/print\",\r\n  POS_DISCOUNT: \"/api/excelpos/pos_discounts\",\r\n  VOID_CHECK: \"/api/excelpos/pos_checks/void\",\r\n  ACCOUNT: \"/api/excelfo/accounts\",\r\n  TABLE_TRANSFER: \"/api/excelpos/pos_checks/table_transfer\",\r\n  POS_ORDER_STATUS: \"/api/excelpos/pos_order_statuses\",\r\n  ROOM: \"/api/excelfo/rooms\",\r\n  VISIT: \"/api/excelfo/visits\",\r\n  DEBIT_CARDS: \"/api/exceldcs/debit_cards\",\r\n  DCS_SETTINGS: \"/en/api/exceldcs/dcs_settings\",\r\n  SERVER_PRINT: \"/server_print\",\r\n  //EOF Api endpoints\r\n\r\n  //SOF Reports API endpoints\r\n  REPORT_ANG_SPENDING: \"/api/excelpos/reports/ang_report\",\r\n  REPORT_BILL_DETAILS: \"/api/excelpos/reports/check_details\",\r\n  REPORT_TIPS_DETAILS: \"/api/excelpos/reports/inntap_tips_report\",\r\n  REPORT_CHECK_DETAILS: \"/api/excelpos/reports/check_details\",\r\n  REPORT_CHECK_DETAILS_SETTLEMENT: \"/api/excelpos/reports/check_details_settlement\",\r\n  REPORT_CHECK_DETAILS_TAX: \"/api/excelpos/reports/check_details_tax\",\r\n  REPORT_CHECK_DETAILS_DISCOUNT: \"/api/excelpos/reports/check_details_discount\",\r\n  REPORT_CASHIER_SCROLL: \"/api/excelpos/reports/cashier_scroll_v2\",\r\n  REPORT_SETTLEMENT: \"/api/excelpos/reports/settlement_report\",\r\n  REPORT_CONSUMPTION: \"/api/excelpos/reports/consumption_report\",\r\n  REPORT_VOID_ITEM: \"/api/excelpos/reports/inntap_void_items_report\",\r\n  REPORT_PENDING_BILL: \"/api/excelpos/reports/pending_checks\",\r\n  REPORT_DISCOUNT_SUMMARY: \"/api/excelpos/reports/discount_summary\",\r\n  REPORT_DISCOUNT: \"/api/excelpos/reports/discount_report\",\r\n  REPORT_CONSUMPTION_ANALYSIS: \"/api/excelpos/reports/inntap_consumption_analysis_report\",\r\n  //EOF Reports API endpoints\r\n\r\n  //SOF Dashboard endpoints\r\n  DASHBOARD_TOP_SELLING_ITEM: \"/api/excelpos/reports/top_selling_items\",\r\n  DASHBOARD_SETTLEMENT_CHART: \"/api/excelpos/reports/sale_by_settlement\",\r\n  //EOF Dashboard endpoints\r\n\r\n  //SOF Accounts transfer endpoints\r\n  INCOME_ACCOUNT_TRANSFER: \"/api/excelpos/account_transfers/transfer_to_account_income\",\r\n  SETTLEMENT_ACCOUNT_TRANSFER: \"/api/excelpos/account_transfers/transfer_to_account_settlement\",\r\n  //EOF Accounts transfer endpoints\r\n\r\n  //SOF Presets API endpoints\r\n  ADDRESS_TYPE: \"/api/excelfo/address_types\",\r\n  CITY: \"/api/excelfo/cities\",\r\n  STATE: '/api/excelfo/states',\r\n  COUNTRY: '/api/excelfo/countries',\r\n  DEPARTMENT: '/api/excelcommon/departments',\r\n  DOCUMENT_TYPE: '/api/excelcommon/document_types',\r\n  PERIOD: '/api/excelcommon/periods',\r\n  DOCUMENT_NUMBER_GENERATION: \"/api/excelcommon/document_number_generations\",\r\n  SEQUENTIAL_NUMBER: \"/api/excelcommon/next_sequential_numbers\",\r\n  VOID_REASON: \"/api/excelpos/pos_void_reasons\",\r\n  KITCHEN: \"/api/excelpos/pos_kitchens\",\r\n  CONTACT_NUMBER_TYPE: \"/api/excelfo/contact_number_types\",\r\n  TITLE: \"/api/excelcommon/titles\",\r\n  OUTLET: \"/api/excelpos/pos_restaurants\",\r\n  OUTLET_SETTING: \"/api/excelpos/pos_restaurant_settings\",\r\n  MENU: \"/api/excelpos/pos_menus\",\r\n  MENU_HEADER: \"/api/excelpos/pos_menu_headers\",\r\n  MENU_SUBHEADER: \"/api/excelpos/pos_menu_subheaders\",\r\n  ROLE: \"/api/excelcommon/roles\",\r\n  RIGHT: \"/api/excelcommon/rights\",\r\n  FUNCTIONAL_RIGHT: \"/api/excelsecurity/functional_rights\",\r\n  PROCESSING_TYPE: \"/api/excelcommon/processing_types\",\r\n  POS_RESTAURANT_BILLING_HEADER: \"/api/excelpos/pos_restaurant_billing_headers\",\r\n  CASHIER_SCROLL_COLUMN: \"/api/excelpos/cashier_scroll_columns\",\r\n  //EOF Presets Api endpoints\r\n\r\n  //SOF Pointer codes\r\n  POINTER_CURRENCY_LOCAL1: \"CURRLOC1\",\r\n  POINTER_DECIMAL_PLACE: \"DECIMALPLC\",\r\n  POINTER_CHECK_DISCOUNT_CHARGE_ID: \"PO_CHKDISC\",\r\n  POINTER_USE_SYSTEM_DATE: \"USESYSDATE\",\r\n  POINTER_BUSINESS_DATE: \"BUSI\",\r\n  POINTER_CASH_SETTELEMENT: \"CAS1\",\r\n  //POINTER_STANDARD_DISCOUNT_ID: \"PO_STDDISC\",\r\n  POINTER_PENDING_TABLE_CODE: \"PO_PNDTBCD\",\r\n  POINTER_POS_ROUND_OFF_TYPE: \"PO_RNDOFTY\",\r\n  POINTER_USE_VIRTUAL_KEYBOARD: \"POS_VIRKEY\",\r\n  POINTER_POS_CONTACT_TYPE_ID_MOBILE: \"POS_CNTMOB\",\r\n  POINTER_POS_CONTACT_TYPE_ID_EMAIL: \"POS_CNTEML\",\r\n  POINTER_LICENCE_KEY: \"LICENCEKEY\",\r\n  POINTER_POS_INHOUSE_SETTLEMENT_CHARGE: \"PO_INHSCH\",\r\n  POINTER_DEBIT_CARD_PAYMENT_MODE: \"DBTCRDCHRG\",\r\n  CONTACT_NUMBER_VALUE1: \"CL_IN_CON1\",\r\n  CONTACT_NUMBER_VALUE2: \"CL_IN_CON2\",\r\n  DEBIT_CARD_DOCUMENT_ID: \"CL_DCDOC\",\r\n  //EOF Pointer codes\r\n\r\n  // SOF system settings\r\n  EMAIL_SETTING_CODE: \"DCS0013\",\r\n\r\n  //SOF  POS functional rights\r\n  RIGHT_CODE_POS_CAN_VOID_KOT: \"POS_001\",\r\n  RIGHT_POS_CAN_VOID_KOT: \"Can void KOT\",\r\n\r\n  RIGHT_CODE_POS_CAN_VOID_CHECK: \"POS_002\",\r\n  RIGHT_POS_CAN_VOID_CHECK: \"Can void check\",\r\n\r\n  RIGHT_CODE_POS_CAN_REPRINT_CHECK: \"POS_003\",\r\n  RIGHT_POS_CAN_REPRINT_CHECK: \"Can reprint check\",\r\n\r\n  RIGHT_CODE_POS_CAN_GIVE_DISCOUNT: \"POS_004\",\r\n  RIGHT_POS_CAN_GIVE_DISCOUNT: \"Can give discount\",\r\n\r\n  RIGHT_CODE_POS_CAN_GIVE_ALLOWANCE: \"POS_005\",\r\n  RIGHT_POS_CAN_GIVE_ALLOWANCE: \"Can give allowance\",\r\n\r\n  RIGHT_CODE_POS_CAN_PRINT_SETTLED_CHECK: \"POS_006\",\r\n  RIGHT_POS_CAN_PRINT_SETTLED_CHECK: \"Can print settled check\",\r\n  //EOF POS functional rights\r\n\r\n  //SOF Error messages\r\n  SELECT_ONE_ITEM: \"Please select atleast one item\",\r\n  GENERAL_API_ERROR_MESSAGE: \"An unknown error occurred!\",\r\n  API_IS_NOT_WORKING: \"Api service is down\",\r\n  SELECT_VALID_TABLE: \"Please select a valid table\",\r\n  PENDING_TABLE_MISSING: \"Pending table is not defined. Please add it in pointer\",\r\n  ERROR_TRANSFER_TABLE: \"Only free table can be selected for table transfer, cancelling table transfer process. Please try again...\",\r\n  ERROR_ALLOWANCE: \"Allowance cannot be marked as table is not free. First settle the existing bill or move to another table\",\r\n  ALLOWANCE_NOT_ALLOWED: \"Allowance cannot be marked for this payment type\",\r\n  ALLOWANCE_NOT_SELECTED: \"Please mark atleast one payment type for allowance\",\r\n  DUPLICATE_PRINT_CHECK: \"You do not have rights to reprint the bill\",\r\n  DUPLICATE_SETTLE_PRINT_CHECK: \"You do not have rights to reprint the settle bill\",\r\n  CANNOT_RAISE_ON_RESERVE_TABLE: \"You cannot raise bill on reserve table. Please select another table.\",\r\n  NO_FREE_TABLE_AVAILABLE: \"You do not have free table available.\",\r\n  INVALID_LICENCE_KEY: \"Invalid licence key, please contact administrator\",\r\n  INVALID_COMPANY_INFO: \"Invalid company info for current user, please contact administrator\",\r\n  SUBSCRIPTION_EXPIRE_MESSAGE: \"Your subscription has expired, Please contact administrator\",\r\n  SUBSCRIPTION_ALERT: \"Your subscription expires in \",\r\n  SUBSCRIPTION_ALERT_DAYS_COUNT: \"31\",\r\n  VOID_PRINT_CHECK: \"You cannot print void bill\",\r\n  ERROR_DISCOUNT_RIGHT: \"You do not have rights to apply discount on bill\",\r\n  //EOF Error messages\r\n\r\n  //SOF Presets Error messages\r\n  MULTIPLE_FILES_UPLOAD: \"Cannot use multiple files\",\r\n  RELOGIN_ERROR: \"Please relogin and try again\",\r\n  SELECT_FILE_TO_UPLOAD: \"Please select a file to upload\",\r\n  NO_DATA_FOUND: \"No data available for selected criteria\",\r\n  //EOF Presets Error messages\r\n\r\n  STIMULSOFT_LICENSE_KEY: \"6vJhGtLLLz2GNviWmUTrhSqnOItdDwjBylQzQcAOiHnvZNjnU3wuTlinSouxQKltv7W75DA2KsHS6Xgc\" +\r\n    \"/3k+N/LMPJnBMQKLqcQidszWZBiHjUs5rD+4UZoq65Z/Ya0VsTG04Mc1THCY8sry9I2x7+w2/FO/AEI+\" +\r\n    \"uzZj0CmtfT/DKyHN0ry+g0cV5gBus8Uku8CEEOUJJ+PgmmtviyWdXc55e/0PXIqZn7MdQ8b4nvt3y9md\" +\r\n    \"0Z3ZfxahO4JULNjserVj6uRUS1ryemFYYtEDdCvWtb4o6jO0uD6lx06SBixFZS0Sbcy+uU4GLc0Gc18+\" +\r\n    \"LE8oHUh1kBR9NYpK1058YQeY+KM2vlbGZHw9d5rIQ49sad5eTRHOe4MKzUN4lmQP4i8Uglya79dczsqR\" +\r\n    \"ytU+qLAKoaHnY64zYBM7bVJVOYwz3w0ug1f963gfht+zomYx84Hrm0TLRMLwfeBontsTCBDfjJM7iVpv\" +\r\n    \"y70puoFclMM89/5fCNZXlVrezaVP2bB0kkcik2qTb16We8pKHPZA6vNPgzS/ROiO2bOZxsa+SOhu6T4a\" +\r\n    \"Wa1i59SkUKO5fhse\",\r\n\r\n  ENCRYPTION_SECRET_KEY: \"miransh2022\"\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","/* (ignored) */"],"names":["RouterModule","AuthComponent","AuthGuard","LandingComponent","CloseShiftComponent","routes","path","redirectTo","pathMatch","component","canActivate","loadChildren","then","m","OutletModule","ShiftModule","TableLayoutModule","AppRoutingModule","forRoot","imports","exports","LoaderComponent","Spinkit","AppComponent","constructor","autoClose","keepAfterRouteChange","ngOnInit","selectors","decls","vars","consts","template","i0","BrowserModule","APP_INITIALIZER","AuthModule","AuthInterceptorService","SharedModule","HttpClientModule","HTTP_INTERCEPTORS","HttpClient","FormsModule","ReactiveFormsModule","BillingModule","NgbModule","NgHttpLoaderModule","TranslateModule","TranslateLoader","TranslateHttpLoader","ErrorInterceptorService","LoaderInterceptorService","CommonModule","BrowserAnimationsModule","ConfigService","NgrokInterceptor","HttpLoaderFactory","http","loadConfig","configService","AppModule","bootstrap","provide","useFactory","deps","multi","useClass","withConfig","warnOnNgModelWithFormControl","defaultLanguage","loader","declarations","fromEvent","Subject","first","takeUntil","authService","router","alertService","translate","enableNumericKeyboard","userData","JSON","parse","localStorage","getItem","language","setDefaultLang","history","pushState","window","pipe","unsubscriber","subscribe","_","error","push","ngAfterViewInit","element","document","getElementById","click","onUserCodeClick","value","showUsercodeButton","showPasswordButton","usercode","setAttribute","removeAttribute","focus","style","borderColor","onPasswordClick","password","form","ngSubmit","emit","onSubmit","valid","newUserBtn","code","validateLogin","next","resData","user","setUser","setUserData","errors","length","handleReloginClick","clearLocalStorageExceptUserData","clear","setItem","stringify","id","getUserFunctionalRights","navigate","onUsercodeEnter","onPasswordEnter","ngOnDestroy","complete","viewQuery","ctx","map","take","route","isAuth","createUrlTree","factory","providedIn","forChild","AccountAddress","AccountContactNumber","PointerService","environment","Account","AddressBookComponent","activatedRoute","accountService","pointerService","cityService","posCheckService","tableLayoutService","getPreviousSelectedTable","outletId","snapshot","params","businessDate","getISOBusinessDate","addressData","getAddressType","data","addressTypes","cityData","getAll","cities","searchAddress","mobileNumber","showAddressFields","findAddressBy","toString","guestAddressList","newAddress","openKeyboard","event","initializeKeyboard","target","onCancel","onSelect","cityId","objCity","filter","item","selectedStateId","state_id","state_name","country_name","selectedCountryId","country_id","addAddress","account","accountAddress","userValue","assignUserProperties","address1","address2","address3","address_type_id","city_id","zip","account_address","email","accountContact","contact_number_type_id","filterValueByCode","POINTER_POS_CONTACT_TYPE_ID_EMAIL","contact_number_value","account_contact_number","POINTER_POS_CONTACT_TYPE_ID_MOBILE","first_name","last_name","title","save","onAddressSelection","objDelivery","mapDeliveryFields","assignDeliveryAddress","getTableStatusAndRedirect","selectedTable","table_status","toUpperCase","POS_TABLE_STATUS_AVAILABLE","getCheckDetailsBy","posCheck","table_code","layoutData","t","pos_restaurant_id","NO_FREE_TABLE_AVAILABLE","onBackClick","isQsrOutlet","checkQsrOutlet","getTableLayoutBy","getAvailableTable","outletSettingData","currentOutletSetting","a","qsr_in_use_ind","PosCheckSettlement","AllowanceComponent","posCheckId","debitCardPointer","res","POINTER_DEBIT_CARD_PAYMENT_MODE","pointer_value","getCheckDetails","currencySymbol","getLocalCurrencySymbol","findBy","isPaymentDisabled","payment","allowance_ind","pos_check_settlements","some","p","charge_id","onPaymentSelection","selectedPayment","objItem","x","outletData","currentOutletData","selectedCharge","pos_payment_restaurants","b","payment_id","allowance_allowed_ind","newObject","Object","assign","is_new","is_dirty","index","self","findIndex","amount","ALLOWANCE_NOT_ALLOWED","markAllowance","isAllowanceMarked","settleBill","ALLOWANCE_NOT_SELECTED","PosCheckChargeDiscount","ANGComponent","angService","getDecimalPlaceValue","angCategories","onANGSelection","ang","selectedANG","onSaveClick","pos_ang_category_id","pos_check_charges","forEach","posCheckCharge","chargeDiscount","pos_check_charge_id","ANG_DISCOUNT_PERCENTAGE","currency_id","getLocalCurrencyId","dr_cr","CR_IND","pos_discount_id","discount_percentage","pos_check_charge_discounts","pos_check_charge_taxes","tax","tax_percentage","toFixed","decimalPlace","destroy","calculateDrTotal","saveBill","ViewBillComponent","PlaceOrderComponent","RecallCheckComponent","SettlementComponent","KotComponent","DiscountComponent","QsrComponent","RoomPostComponent","TableKotComponent","children","BillingRoutingModule","MatAutocompleteModule","MatFormFieldModule","MatInputModule","FilterMenuSubHeader","FilterItemBySubHeader","FilterTax","FilterModifierByItem","SaleComponent","DxDataGridModule","MatNativeDateModule","QRCodeModule","transform","posCheckCharges","taxArray","uniqueCharges","Set","charge","objIndex","tax_id","pure","DateSuffix","suffix","day","currentPosItemModifier","posItemMenu","filteredModifier","pos_item_id","currentMenuitems","menuHeader","menuSubHeader","menuHeaderItems","pos_menu_header_id","menuSubHeaderItems","menu_sub_header","items","menuSubHeads","uniqueSubheaders","Array","from","object","string","posDiscountService","listDiscount","discountData","discountList","display_in_lookup_ind","onDiscountSelection","discount","showDiscountList","selectedDiscount","filterPosCheckDiscountCharge","applyDiscount","isPercent","discountAmount","checkChargeDiscount","description","serial_number","updateOrder","uniqueAccountCodes","account_code","posDiscountCharge","pos_discount_details","includes","checkCharge","discountCharges","discount_percent","discount_amount","onSaveDiscount","pos_check_details","kotService","cableService","POS_ORDER_STATUS_NEW","POS_ORDER_STATUS_ACKNOWLEDGE","POS_ORDER_STATUS_CANCEL","POS_ORDER_STATUS_IN_PROGRESS","POS_ORDER_STATUS_FOOD_COMPLETED","POS_ORDER_STATUS_FOOD_READY","getKotScreenChecks","subscribeKotChannel","orderStatusData","getOrderStatuses","orderStatusList","getKotScreenCheckDetails","checkList","mapKOTData","setClasses","statusCode","className","allKotList","pendingKotList","check","details","objKot","check_no","kot_no","pos_check_id","system_time","item_description","quantity","order_status_code","order_status","updateItemOrderStatus","nextStatus","newStatus","pos_check_details_attributes","pos_order_status_id","updateOrderStatus","splice","updatedCheck","mapPosCheck","PosCheck","PosCheckDetail","PosCheckDetailModifier","FormControl","CustomStore","HttpHeaders","HttpParams","HttpXhrBackend","lastValueFrom","Modal","posItemMenuService","commonService","chargeService","outletService","voidReasonService","changeDetector","formBuilder","memberSearchService","viewportScroller","debitCardService","roomService","POS_IC_OPEN_ITEM","Stimulsoft","Viewer","StiViewerOptions","StiViewer","options","text","order_type","POS_ORDER_TYPE_DINE_IN","POS_ORDER_TYPE_TAKEAWAY","POS_ORDER_TYPE_DELIVERY","handleWithModalConfirmation","Oldids","voidMarkedItems","allPOItems","voidCheckInd","showConfirmationModal","isPrintCheck","printCheck","setTimeout","processOrder","Promise","resolve","modalResolve","modalInstance","voidConfirmModal","nativeElement","show","handleModalResponse","response","hide","ngOnChanges","isNotEmpty","undefined","pointers","key_organisation","firstName","memberSearchForm","lastName","memberId","membersDataArray","key","load","loadOptions","skip","i","pageIndex","set","httpClient","build","XMLHttpRequest","headers","token","get","APIENDPOINT","ACCOUNT","modifyData","functionArrangeData","totalCount","meta","pagination","total_objects","accounts","arrayOfMembers","objMember","account_affiliations","membership_number","account_name","issue_date","birth_date","expiry_date","block_member_remark","onEnterKey","documentNumber","inputControl","trim","debitCardNumber","debitCardDetails","fetchDebitCardData","fetchMemberDetailsByDebitCard","result","setValue","debit_cards","debit_card_number","createMemberObj","err","searchRecords","findGuestDetails","tableCode","guestData","guest_name","primary_client_ind","covers","functionExpandCollapse","pointersData","roomServiceOutletId","ROOM_SERVICE_POINTER","split","isRoomServiceOutlet","posKitchens","currentOutletSettings","defaultMenuId","default_menu_id","loadDefaultMenuItems","group","validators","atLeastOneRequired","currentUserShift","getCurrentUserShiftNumber","posRestaurantData","restaurant","posMenuRestaurants","pos_menu_restaurants","scrollToBottom","voidReasonData","voidReasonList","enableMenuHeadTab","loadExistingOrder","canVoidKOT","hasFunctionalRights","RIGHT_CODE_POS_CAN_VOID_KOT","deliveryDetails","posCheckValue","layout","getTableDetails","pos_check_delivery","resetPosCheckSubject","oldCheckData","detail","last_action","isAtLeastOneFilled","values","controls","control","onSelectionChange","selectedId","txtSearchInput","detectChanges","ngAfterViewChecked","myScrollContainer","scrollTop","scrollHeight","scrollTo","elementId","scrollIntoView","behavior","onMemberSearch","selectedMember","blockedMemberSelection","member_name","account_id","closeBtn1","onSelectMember","reset","debit_card_in_use_ind","accoundId","DEBIT_CARD_DOCUMENT_ID","account_account_documents","account_document_id","document_number","mapMenuHeaderSubheader","menuHeaders","Map","currentMenuItems","menu_header","onChangeMenu","showOtherMenu","onDefaultMenu","search","onMenuHeaderSelection","e","clickedLi","currentTarget","classList","contains","add","remove","onKeyUp","searchItemList","toLowerCase","onVirtualKeyboardInput","onGridItemSelection","selectedRowsData","onItemSelection","isHappyHourApplicable","pos_menu_id","selectedItemFromKotWindow","newItem","shift","service","pos_item","happy_hour_charge_id","pos_item_charge_id","happy_hour_description","pos_kitchen_id","rate","happy_hour_price","pos_item_price","POS_ORDER_STATUS_ID","item_class","pos_item_name_on_check","name_on_check","do_not_print_price_ind","do_not_print_price_on_check_ind","departmentCode","getDepartmentCodeBy","chargeCode","getChargeByCode","pos_item_type","onKotItemSelection","posCheckDetail","item_status","STATUS_VOIDED","numericInput","selectedItemVoidQtyDropdownOption","onQtyMinus","onQtyAdd","onPlaceOrder","isBillPrint","coverMandatoryInd","covers_mandetory_ind","guestNameMandetoryInd","guest_name_mandetory_ind","guestNameInd","coversInd","LAST_ACTION_POSTED","markedVoid","card_number","debit_card_reference_id","totalQuantity","reduce","sum","Number","totalVoidedQuantity","SELECT_ONE_ITEM","open_shift","voidItems","o1","isExactMatchInNewArr","LAST_ACTION_VOIDED","o2","newItems","printClientSideKot","voidBill","printVoidCheck","changeMessage","onReprintClick","kotItems","generateFileAndPrintInPdf","kitchens","pos_kitchens","getPrinters","kitchen","find","k","kitchen_printer1","kitchen_printer2","kitchen_printer3","kitchen_printer4","kitchen_printer5","printer","order","groupedData","kitchen_name","kitchen_id","printers","posCheckObj","kot_report","dataSet","System","Data","DataSet","readJson","newGuid","Guid","substr","report","Report","StiReport","loadFile","regData","render","exportedFileData","exportDocument","StiExportFormat","Pdf","base64EncodedReport","btoa","String","fromCharCode","kotNumber","printerName","TEST_PRINTER_NAME","sendFileToServerPDF","generateFileAndPrint","sendFileToServer1","reprint","loadedUser","mapItems","mapKotItemsForPrint","kot_client_side_ind","print","posCheckKotList","posCheckDetailsArray","posCheckDetailItems","restaurantName","voidLabel","serverName","voidDash","voidReason","server_name","server","pos_void_reason_id","void_reason_note","pos_restaurant_name","itemDetails","pos_kitchen","pos_kitchen_translations","business_date","void_reason","modifierText","pos_check_detail_modifiers","modifier","modifier_name_on_check","replace","void_by_id","restaurant_name","parcel","take_away_ind","void_kot","void_dash","print_kot_ind","onPrintCheck","roundOffType","POINTER_POS_ROUND_OFF_TYPE","roundOffAmount","POS_ROUND_OFF_FLOOR_CODE","Math","floor","dr_total","POS_ROUND_OFF_BASED_ON_POINT_FIVE_CODE","round","POS_ROUND_OFF_CEILING_CODE","ceil","round_off","printBill","printData","printCheckReport","posCheckData","defaultPrintCount","print_check_default_count","duplicatePrintCount","currentShift","pos_check","print_cashier_name","print_cashier","full_name","print_time","print_count","createNewReport","report1","onDeleteItem","showItemAddOns","onNewRateClick","isOpenItem","newRate","onOpenItemTextChange","openItemText","closeOpenItem","onCoversClick","menuItems","loadPosItemsBy","getPosItemMenuBy","itemModifierData","posItemModifiers","getPosItemModifier","loadOtherMenuItems","posMenuId","selectedMenuId","itemMenuData","onAddOnClick","selectedItemModifier","onAddOnSelection","selectedModifier","objModifierIndex","pos_modifier_id","objDetailModifier","pos_modifier","modifier_price","modifier_name","removeAddOn","onOtherAddOnSelection","otherAddOnId","otherAddOnPrice","otherAddOnText","closeOtherAddOn","counter","onVoidReasonSelection","reason","selectedVoidReason","selectChangeHandler","selectedVoidQty","onVoidItem","currentItem","itemQty","void_quantity","void_at","Date","voidReasonNote","existingItem","_kot_no","_pos_item_id","_item_status","_quantity","closeBtn","getOutletDetailsBy","responseData","paymentModeList","OTHER_ADD_ON_ID","onSettlementSelection","settlement","cr_total","card_no","settlement_type","settlement_process_code","btnName","printSettleBillCopy","kotReport","printKot","printKotAfterSettlement","print_kot_after_settlement_ind","onRecallCheckClick","recallCheckService","getBusinessDate","getCheckBySelectionCriteria","onTableSelection","tableSelection","onDateSelection","dateSelection","onOpenCheckSelection","includeOpenCheck","onRecallBillClick","getCheckListBy","checkNumber","onCheckSelection","cell","getAllRooms","allItems","obj","room_display_number","floor_number","room_type","occupancy_status","cleaning_status","roomData","selected_room","onRoomPost","selectedVisitId","addPaymentToCheck","close_shift","inhouseSettlementChargeId","POINTER_POS_INHOUSE_SETTLEMENT_CHARGE","fetchChargeById","room_no","selectedRoomNo","inhouse_id","selectedInhouseId","visit_id","room_settle_ind","onGuestChecked","room_number","subheader_text","inhouse_status","primary_client","onRoomSelection","saleService","shiftService","activateRoute","shiftNo","getUserShiftNo","getSaleBy","checkSummary","group_sr_no","paymentSummary","tipsSummary","headerLabel","DxDataGridComponent","dateFormatterService","emailService","systemSettingsService","POINTER_CASH_SETTELEMENT","toLocaleLowerCase","callDebitCardDetails","checkBoxesMode","outletSettings","fetchSystemSettings","balance","tips","cardNumber","showPaymentModes","balance_amount","getDCSSettings","dcs_settings","systemSettings","onCreditClick","onNewClick","onSettleClick","console","log","debitCardPayments","pointerData","emailId","account_contact_numbers","res1","CONTACT_NUMBER_VALUE2","membershipNumber","results","debitCard","EMAIL_SETTING_CODE","dcs_setting_value","sendEmail","close_time","selectedChanged","selectedRowIndex","getRowIndexByKey","selectedRowKeys","deleteRow","row","is_true","grid","instance","rowIndex","redeemAmount","closeTime","receipent","subject","date","formatDate","newDate","time","formatTimeTo24h","redeemAmt","balAmt","currencyCode","currencyData","getConfig","status","message","getKotScreenCheck","tableNo","rowStyling","rowType","status_code","rowElement","LAST_ACTION_SETTLE","pendingTableCode","canVoidBill","RIGHT_CODE_POS_CAN_VOID_CHECK","canGiveAllowance","RIGHT_CODE_POS_CAN_GIVE_ALLOWANCE","canGiveDiscount","RIGHT_CODE_POS_CAN_GIVE_DISCOUNT","canReprintBill","RIGHT_CODE_POS_CAN_REPRINT_CHECK","canPrintSettledBill","RIGHT_CODE_POS_CAN_PRINT_SETTLED_CHECK","calculateChargeTotal","balanceAmount","drTotal","billingHeaderData","outletBilling","upi_url","qrCodeUrl","DR_IND","chargeTotal","discountTotal","taxTotal","onANGClick","lastActionPosted","onLocalClick","onDisountClick","ERROR_DISCOUNT_RIGHT","onPrintClick","tipsAmount","DUPLICATE_SETTLE_PRINT_CHECK","DUPLICATE_PRINT_CHECK","VOID_PRINT_CHECK","onVoidClick","makeDuplicateCopy","newCheck","createDuplicateBillCopy","saveTips","addTips","closeTips","onAllowanceClick","tableData","currentTableStatus","ERROR_ALLOWANCE","from_void_check_no","check_series_no","void_date_time","kot_print_count","kot_print_ind","onRoomPostClick","encryptionService","kitchenService","REPORTS_URL","encryptionAES","getPosKitchens","onPosSelection","getUserOutlets","isValidLicence","POINTER_BUSINESS_DATE","pointerKey","POINTER_LICENCE_KEY","licenceKey","decryptionAES","saasCompanyCode","companyCode","branchCode","validDate","isNaN","parseFloat","INVALID_LICENCE_KEY","saas_company_code","company_code","branch_code","diff","abs","getTime","diffDays","SUBSCRIPTION_ALERT_DAYS_COUNT","toggleSubscriptionModal","SUBSCRIPTION_EXPIRE_MESSAGE","INVALID_COMPANY_INFO","getTargetUrl","authToken","targetUrl","location","protocol","hostname","INNDCSURLPORT","getTargetUrlForKOTDisplay","KOTDISPLAY","redirectToOutletSelection","closeTableTransferModalBtn","checkBusinessDate","getByCode","currentBusinessDate","systemDate","toggleBusinessDateModal","cancelNightAudit","closeNightAuditModalBtn","changeBusinessDate","saas_company_id","company_id","branch_id","errorMsg","msg","_id","_saas_company_id","_company_id","_branch_id","_address_type_id","_address1","_address2","_address3","_state_id","_city_id","_country_id","_zip","city_name","_city_name","_state_name","_country_name","_contact_number_type_id","_contact_number_value","_pos_ind","_account_type","ACCOUNT_PROCESSING_TYPE_INDIVIDUAL","_processing_type","_account_contact_number","_account_address","_title","_first_name","_last_name","pos_ind","processing_type","account_type","createJson","addresses","contactNumbers","objContact","objAddress","objAccount","AddressType","Alert","init","AlertType","ANG","pos_discount","Charge","payment_ind","tax_ind","print_chage_group_code","department_code","hsn_sac_code","inclusive_of_tax_ind","tax_charge_tax_links","City","OutletBilling","restaurant_name_on_check","gst_number","pan_number","hsn_number","tin_number","cin_number","fssai_number","place_of_supply","state_code","check_header_line1","check_header_line2","restaurant_contact","restaurant_email","gst_declaration","declaration","remarks","notes","OutletSetting","card_details_mandetory","has_multiple_shifts_ind","allow_item_rate_change_ind","debit_card_ind","call_local_after_print_ind","call_print_after_settle_ind","prompt_kot_print_on_copy_check_ind","refresh_interval","print_check_by_account_ind","print_guest_name_ind","print_member_id_ind","hsn_sac_number","debit_card_no_start_position","debit_card_no_length","void_backdated_check_ind","print_round_off_ind","thermal_printer_ind","happy_hour_ind","allow_excess_amount_ind","check_server_side_print_ind","inhouse_delivery_ind","self_service_ind","qr_view_menu_ind","qr_place_order_ind","allowance_backdated_check_ind","broadcast_kot_status_ind","broadcast_table_status_ind","check_print_required_ind","Payment","gl_code","print_charge_group_code","Pointer","_destroy","_pos_check_charge_id","_charge_id","_currency_id","_pos_discount_id","_description","_dr_cr","_serial_number","_amount","_discount_percentage","PosCheckChargeTax","_is_new","_is_dirty","freeze_at","_freeze_at","freeze_ind","_freeze_ind","_tax_percentage","_tax_id","PosCheckCharge","_pos_check_charge_taxes","_pos_check_charge_discounts","_pos_check_id","_charge","PosCheckDelivery","_account_id","account_address_id","_account_address_id","account_address_type","_account_address_type","city","_city","state","_state","country","_country","pincode","_pincode","delivery_contact_number","_delivery_contact_number","delivery_email","_delivery_email","delivery_at","_delivery_at","schedule_at","_schedule_at","schedule_ind","_schedule_ind","_notes","pos_check_detail_id","_pos_check_detail_id","_pos_modifier_id","charged_ind","_charged_ind","_modifier_name_on_check","updated_place","_updated_place","_pos_modifier","_business_date","_system_time","_last_action","_pos_check_detail_modifiers","_order_type","_pos_item_name_on_check","mrp","_mrp","_rate","_void_quantity","void_no","_void_no","_void_by_id","_pos_void_reason_id","_void_reason_note","_pos_menu_id","_item_description","_void_at","void_place","_void_place","_kot_print_ind","_kot_print_count","_pos_restaurant_id","_service","_shift","_pos_kitchen_id","remark","_remark","pos_item_size","_pos_item_size","_pos_item_type","_check_series_no","fnb_series_no","_fnb_series_no","_do_not_print_price_ind","lock_version","_lock_version","_markedVoid","_order_status_code","_order_status","_pos_order_status_id","_system_date","system_date","shift_no","_shift_no","_room_no","_inhouse_id","_visit_id","_allowance_ind","_card_no","_settlement_type","_open_date","_open_time","_cr_total","_dr_total","_pos_check_charges","_pos_check_details","_pos_check_settlements","_pos_check_delivery","doc_id_rev","_doc_id_rev","_check_no","open_date","open_time","close_date","_close_date","_close_time","_pos_ang_category_id","_table_code","_covers","_remarks","_tips","_round_off","split_count","_split_count","_take_away_ind","_room_settle_ind","_happy_hour_ind","_open_shift","_close_shift","_print_count","print_date","_print_date","_print_time","print_shift","_print_shift","print_seq_no","_print_seq_no","_guest_name","guest_gst_number","_guest_gst_number","_void_date_time","_from_void_check_no","from_table_code","_from_table_code","split_check_ind","_split_check_ind","server_id","_server_id","_server_name","open_cashier_id","_open_cashier_id","close_cashier_id","_close_cashier_id","print_cashier_id","_print_cashier_id","void_user_id","_void_user_id","_membership_number","guest_id","_guest_id","_restaurant_name","pos_ang_category","_pos_ang_category","_print_cashier_name","ref_check_no","_ref_check_no","_debit_card_number","_debit_card_reference_id","checkDetail","checkSettlement","checkDelivery","checkDetailModifier","objModifier","objDetail","charge_taxes","charge_discounts","objTax","objDiscount","objCharge","objSettlement","delivery","objCheck","createSettleCheckJson","createPrintCheckJson","PosDiscount","PosDiscountDetails","charge_group_id","valid_from_date","valid_to_date","valid_from_time","valid_to_time","valid_on_days","PosItemMenu","pos_item_image","pos_menu_subheader_id","cmp_mod","price_inclusive_tax_ind","PosItemModifier","PosItem","shortName","longName","PosMenuHeader","serialNumber","imagePath","PosMenuRestaurant","happy_hour_dow","happy_hour_from_date","happy_hour_from_time","happy_hour_to_date","happy_hour_to_time","valid_dow","PosMenuSubHeader","PosModifier","pos_modifier_group_id","modifier_image","PosOrderStatus","PosPaymentRestaurant","active_ind","PosRestaurant","Room","Shift","opening_balance","paid_in_amount","paid_out_amount","closing_balance","shift_closed_ind","shift_user_id","objShift","toISOString","slice","TableLayout","table_group","table_image","table_seats","default_take_away_ind","for_pending_check_ind","table_display_code","Tax","from_date","to_date","parent_charge_id","tax_amount","tax_code","tax_name","UserOutlet","outlet_name","User","saas_company_name","company_name","branch_name","mobile_number","rights","user_rights","functional_rights","user_outlets","VoidReason","OutletComponent","userOutlets","chargeData","currencyLocal","POINTER_CURRENCY_LOCAL1","getCurrencyByCode","onOutletSelection","getOutletBillingInfo","getOutletBillingDetails","catchError","tap","throwError","AccountService","contactValue","accountArray","append","account_addresses","address_type","city_translations","state_translations","country_translations","addressTypeArray","ADDRESS_TYPE","adType","address_type_translations","json","post","errorRes","errorMessage","BehaviorSubject","ActionCable","ActionCableService","dataSubject","asObservable","subscribeTableChannel","consumer","createConsumer","ACTION_CABLE_ENPOINT","subscriptions","create","TABLE_STATUS_CHANNEL","connected","disconnected","received","KOT_SCREEN_CHANNEL","AlertService","onAlert","defaultId","success","alert","type","Success","Error","info","Info","warn","Warning","ANGService","ANG_CATEGORY","angList","posDiscount","pos_discount_translations","pos_ang_category_translations","exhaustMap","intercept","req","handle","newHeaders","delete","newRequest","clone","modifiedRequest","AuthService","userSubject","username","AUTH","module","MODULE_NAME","validateEmailLogin","logout","removeItem","reload","autoLogin","userId","USER","saas_company_translations","name","company_translations","branch_translations","auth_token","saas_company","company","branch","changePassword","oldPassword","newPassword","confirmPassword","CHANGE_PASSWORD","new_password","new_password_confirmation","POS_OUTLET_USER","userOutlet","outlet","objOutlet","pos_restaurant","pos_restaurant_translations","ChargeService","chargeArray","CHARGE","MODULE_POS","API_DATA_PER_PAGE","charge_translations","getChargesPayments","getChargeById","chargeId","CityService","CITY","cityArray","CommonService","isHappyHour","menuId","selectedOutletSetting","restaurants","selectedRestaurant","posMenuRestaurant","objRestaurant","isValidDate","dateCheck","isValidTime","timeCheck","dOWArray","currentDate","dayOfWeek","getDay","fromDate","toDate","checkWith","startDate","endDate","compareDate","setHours","fromTime","toTime","shiftNumber","shiftData","hasRights","functionalRight","mapCheckData","checkArray","fdTaxTotal","lqTaxTotal","fdDiscountTotal","lqDiscountTotal","posTaxDiscount","mapCheckCharge","FD_CODE","LQ_CODE","VOIDED_ACTION","ORDER_TYPE_TAKEAWAY","ORDER_TYPE_DELIVERY","charge_group_code","fd_bill_pay","lq_bill_pay","posCheckDetailArray","check_obj","restaurantTranslation","angCategoryTranslation","ang_name","print_check_cashier_name","translation","pos_modifier_translations","parseInt","pendingTableNo","item_hsn_code","check_charge","fd_tax","lq_tax","fd_discount","lq_discount","posCheckChargeData","checkChargeArray","posCheckTax","posCheckChargeObj","keys","taxPercent","description_without_p","posCheckDiscountObj","discountPercentage","mapCheckSettlementData","settlementArray","settlementList","settlementObj","convertToFloat","debit_card_balance","objPosCheck","isDuplicateCopy","appearance","fullScreenMode","checkPrintingJson","checkChargeJson","checksettlementJson","toolbar","displayMode","StiToolbarDisplayMode","Separated","dataSet2","dataSet3","checkThermalPrinter","setCompanyHeaders","dictionary","variables","getByName","valueObject","stiImage","Drawing","Image","fromFile","parsed","firstValueFrom","timestamp","configUrl","config","DateFormatterService","oDate","oTempDate","sMonth","getMonth","sDay","getDate","iYear","getFullYear","join","formatDate1","dateString","month","year","formattedDate","dateTimeString","hours","getHours","padStart","minutes","getMinutes","DebitCardsService","queryParams","DEBIT_CARDS","EmailService","to","emailData","APIENDPOINTEMAIL","EMAIL_API","CryptoJS","EncryptionService","VALUES","KEY","IV","encryptStr","ciphertext","AES","encrypt","ENCRYPTION_SECRET_KEY","decryptStr","bytes","decrypt","plaintext","enc","Utf8","request","statusText","KitchenService","KITCHEN","kitchenArray","objKitchen","KotService","POS_CHECK","checkId","checkDetailList","kotItem","pos_order_status","pos_order_status_translations","itemModifier","detailModifier","POS_ORDER_STATUS","statusArray","orderStatus","put","GENERAL_API_ERROR_MESSAGE","finalize","loaderService","LoaderService","isLoading","MemberSearchService","fetchMemberDetails","url","modifiedReq","setHeaders","OutletService","POS_RESTAURANT","posRestaurant","alreadyPresent","newSetting","setPosRestaurantData","posPaymentRestaurant","objPayment","objRestaurantPayment","menu","objMenuRest","pos_menu","pos_menu_translations","getOutletSettings","POS_OUTLET_SETTING","outletSetting","setOutletSettingData","objSetting","getOutletName","selectedOutlet","restaurantData","currentRestaurant","POS_RESTAURANT_BILLING_HEADER","setOutletBillingHeader","POINTER","pointerList","pointer","objPointer","POINTER_DECIMAL_PLACE","CURRENCY","symbol","returnDate","saasCompanyId","companyId","branchId","CHANGE_BUSINESS_DATE","night_audit","PosCheckService","messageSource","changePosCheckSubject","newData","posCheckSubject","accountFields","isEmail","regex","test","table","POS_TABLE_STATUS_KOT","mapPosCheckDetails","mapPosCheckCharges","mapPosCheckSettlements","STATUS_KOT","posCheckDetailModifier","posModifier","currentOrder","chargeList","calculateCharges","calculateChargeTaxes","isChargeAlreadyPresent","itemArray","chargeDetail","getChargeTax","posCheckChargeTax","taxList","amountAfterDiscount","totalDiscount","totalAmount","SETTLE_CHECK","VOID_CHECK","PRINT_CHECK","API_IS_NOT_WORKING","transferTable","newTable","TABLE_TRANSFER","fileContent","KOT_PRINTER_PDF_ENDPOINT","body","PrinterName","Base64Str","Filename","KOT_PRINTER_SERVICE_ENDPOINT","SERVER_PRINT","PosDiscountService","keyPresets","discountArray","POS_DISCOUNT","detailsArray","PosItemMenuService","itemMenuArray","POS_ITEM_MENU","mapPosItemMenu","menuHead","menuSubHead","pos_item_translations","pos_menu_header","image_path","pos_menu_header_translations","pos_menu_subheader","pos_menu_subheader_translations","posMenuItem","pos_item_menu_translations","POS_ITEM_MODIFIER","posItemModifierList","mapPosItemModifier","posItem","posItemModifier","RecallCheckService","checkNo","mapRecallCheckList","CHECK_STATUS_OPEN","CHECK_STATUS_SETTLE","CHECK_STATUS_VOID","close_cashier","RoomService","ROOM","roomArray","room","room_translations","room_type_translations","occupancy_status_translations","cleaning_status_translations","roomId","inhouseStatus","primaryClient","roomCode","VISIT","guestArray","visit","roomNumber","visit_billing","billing_instruction","arrival_date","departure_date","SaleService","SALE","ShiftService","SHIFT","mapAndSaveUserShift","getAllShifts","AllSHIFTS","getShiftDetailsBy","isValidShift","update","userShifts","shft_user_id","setUserShift","userShift","SystemSettingsService","DCS_SETTINGS","TableLayoutService","POS_LAYOUT","tableLayoutArray","pos_layout_translations","setSelectedTable","tableLayout","lastSelectedTable","resetTableSelection","VoidReasonService","getVoidReasonBy","voidArray","PER_PAGE","VOID_REASON","objVoid","pos_void_reason_translations","NavigationStart","AlertComponent","alertSubscription","alerts","alertTime","successAlerts","errorAlerts","infoAlerts","warnAlerts","querySelector","routeSubscription","events","unsubscribe","isString","removeAlert","fade","cssClass","classes","alertTypeClass","AlertModule","BusinessDateComponent","ChangePasswordComponent","errorList","newpassword","confirmpassword","DigitalKeyboardComponent","ErrorComponent","toggleDiv","messageList","inputs","HeaderComponent","cdr","addLangs","addEventListener","handleStorageChange","bind","reloginButton","previousUserData","newUserData","isModalVisible","cleanupModal","openModal","staticBackdrop","_element","once","dispose","querySelectorAll","el","outletName","userName","toggleHeaderOption","useVirtualKeyboard","POINTER_USE_VIRTUAL_KEYBOARD","onContinueClick","onStorageChange","translateLanguageTo","lang","use","onViewSelection","onHomeClick","ref","LockScreenComponent","closeModal","LogoutComponent","onLogout","closeLogoutModal","QwertyKeyboardComponent","MatProgressSpinnerModule","currentShiftNo","onClosingBalanceInputClick","closingBalance","onClosingBalanceEnter","updateUserShift","FilterTableBySection","section","sectionTables","TableLayoutComponent","modalService","POS_TABLE_STATUS_CHECK","viewMode","tableViewMode","currentMessage","enableTabListPanel","POINTER_PENDING_TABLE_CODE","sort","localeCompare","tableSection","previousTable","data$","tableItem","hasOwnProperty","subCategoryJs","enableParentTabOfTable","onSectionSelection","tableInfo","isTableTransfer","tableTransferredTo","checkTableTransfer","toggleTableTransferModal","tableTransferredFrom","CANNOT_RAISE_ON_RESERVE_TABLE","onViewBill","onTableTransferClick","onKotListClick","onTableKotListClick","onChangeOutlet","content","open","onCloseShiftClick","onSearchUserClick","moveBillToPendingTable","closePendingModalBtn","PENDING_TABLE_MISSING","SELECT_VALID_TABLE","ERROR_TRANSFER_TABLE","cancelTableTransfer","production","APP_LANGUAGE_ID","POS_IC_MENU_ITEM","STATUS_NEW","PROCESSING_TYPE_SETTLMENT_CASH","PROCESSING_TYPE_SETTLMENT_CREDIT_CARD","PROCESSING_TYPE_SETTLMENT_DEBIT_CARD","PROCESSING_TYPE_SETTLMENT_CHEQUE","PROCESSING_TYPE_SETTLMENT_ONLINE_TRANSFER","REPORT_ZOOM_LEVEL","POS_MODIFIER","POS_MODIFIER_GROUP","POS_ITEM","REPORT_ANG_SPENDING","REPORT_BILL_DETAILS","REPORT_TIPS_DETAILS","REPORT_CHECK_DETAILS","REPORT_CHECK_DETAILS_SETTLEMENT","REPORT_CHECK_DETAILS_TAX","REPORT_CHECK_DETAILS_DISCOUNT","REPORT_CASHIER_SCROLL","REPORT_SETTLEMENT","REPORT_CONSUMPTION","REPORT_VOID_ITEM","REPORT_PENDING_BILL","REPORT_DISCOUNT_SUMMARY","REPORT_DISCOUNT","REPORT_CONSUMPTION_ANALYSIS","DASHBOARD_TOP_SELLING_ITEM","DASHBOARD_SETTLEMENT_CHART","INCOME_ACCOUNT_TRANSFER","SETTLEMENT_ACCOUNT_TRANSFER","STATE","COUNTRY","DEPARTMENT","DOCUMENT_TYPE","PERIOD","DOCUMENT_NUMBER_GENERATION","SEQUENTIAL_NUMBER","CONTACT_NUMBER_TYPE","TITLE","OUTLET","OUTLET_SETTING","MENU","MENU_HEADER","MENU_SUBHEADER","ROLE","RIGHT","FUNCTIONAL_RIGHT","PROCESSING_TYPE","CASHIER_SCROLL_COLUMN","POINTER_CHECK_DISCOUNT_CHARGE_ID","POINTER_USE_SYSTEM_DATE","CONTACT_NUMBER_VALUE1","RIGHT_POS_CAN_VOID_KOT","RIGHT_POS_CAN_VOID_CHECK","RIGHT_POS_CAN_REPRINT_CHECK","RIGHT_POS_CAN_GIVE_DISCOUNT","RIGHT_POS_CAN_GIVE_ALLOWANCE","RIGHT_POS_CAN_PRINT_SETTLED_CHECK","SUBSCRIPTION_ALERT","MULTIPLE_FILES_UPLOAD","RELOGIN_ERROR","SELECT_FILE_TO_UPLOAD","NO_DATA_FOUND","STIMULSOFT_LICENSE_KEY","enableProdMode","__NgCli_bootstrap_1","bootstrapModule","catch"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}